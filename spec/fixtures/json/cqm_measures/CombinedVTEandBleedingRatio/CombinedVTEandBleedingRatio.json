{
  "composite": false,
  "component": false,
  "component_hqmf_set_ids": [],
  "measure_scoring": "RATIO",
  "calculation_method": "PATIENT",
  "source_data_criteria": [
    {
      "dataElementCodes": [],
      "recorder": [],
      "qdmTitle": "Diagnosis",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.110",
      "qrdaOid": "2.16.840.1.113883.10.20.24.3.135",
      "qdmCategory": "condition",
      "qdmVersion": "5.6",
      "_type": "QDM::Diagnosis",
      "description": "Diagnosis: Renalinsufficiency",
      "codeListId": "2.16.840.1.113883.3.3157.1330",
      "id": "60d2433eb7b4da5e252cb5b0"
    },
    {
      "dataElementCodes": [],
      "qdmTitle": "Patient Characteristic Sex",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.55",
      "qdmCategory": "patient_characteristic",
      "qdmStatus": "gender",
      "qdmVersion": "5.6",
      "_type": "QDM::PatientCharacteristicSex",
      "description": "Patient Characteristic Sex: ONCAdministrativeSex",
      "codeListId": "2.16.840.1.113762.1.4.1",
      "id": "60d2433eb7b4da5e252cb5b1"
    },
    {
      "dataElementCodes": [],
      "recorder": [],
      "qdmTitle": "Diagnosis",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.110",
      "qrdaOid": "2.16.840.1.113883.10.20.24.3.135",
      "qdmCategory": "condition",
      "qdmVersion": "5.6",
      "_type": "QDM::Diagnosis",
      "description": "Diagnosis: MechanicalComplicationsRelatedToHipandKneeProcedures",
      "codeListId": "2.16.840.1.113762.1.4.1206.1",
      "id": "60d2433eb7b4da5e252cb5b2"
    },
    {
      "dataElementCodes": [],
      "performer": [],
      "relatedTo": [],
      "qdmTitle": "Procedure, Performed",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.67",
      "qdmCategory": "procedure",
      "qdmStatus": "performed",
      "qdmVersion": "5.6",
      "_type": "QDM::ProcedurePerformed",
      "description": "Procedure, Performed: BloodTransfusionAdministration",
      "codeListId": "2.16.840.1.113762.1.4.1029.209",
      "id": "60d2433eb7b4da5e252cb5b3",
      "components": []
    },
    {
      "dataElementCodes": [],
      "recorder": [],
      "qdmTitle": "Diagnosis",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.110",
      "qrdaOid": "2.16.840.1.113883.10.20.24.3.135",
      "qdmCategory": "condition",
      "qdmVersion": "5.6",
      "_type": "QDM::Diagnosis",
      "description": "Diagnosis: Cancer",
      "codeListId": "2.16.840.1.113883.3.526.3.1010",
      "id": "60d2433eb7b4da5e252cb5b4"
    },
    {
      "dataElementCodes": [],
      "recorder": [],
      "qdmTitle": "Diagnosis",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.110",
      "qrdaOid": "2.16.840.1.113883.10.20.24.3.135",
      "qdmCategory": "condition",
      "qdmVersion": "5.6",
      "_type": "QDM::Diagnosis",
      "description": "Diagnosis: AtrialFibrillation",
      "codeListId": "2.16.840.1.113883.17.4077.3.1001",
      "id": "60d2433eb7b4da5e252cb5b5"
    },
    {
      "dataElementCodes": [],
      "recorder": [],
      "qdmTitle": "Diagnosis",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.110",
      "qrdaOid": "2.16.840.1.113883.10.20.24.3.135",
      "qdmCategory": "condition",
      "qdmVersion": "5.6",
      "_type": "QDM::Diagnosis",
      "description": "Diagnosis: MalignantNeoplasmComplicationsRelatedToHipandKneeProcedures",
      "codeListId": "2.16.840.1.113762.1.4.1206.7",
      "id": "60d2433eb7b4da5e252cb5b6"
    },
    {
      "dataElementCodes": [],
      "performer": [],
      "relatedTo": [],
      "qdmTitle": "Procedure, Performed",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.67",
      "qdmCategory": "procedure",
      "qdmStatus": "performed",
      "qdmVersion": "5.6",
      "_type": "QDM::ProcedurePerformed",
      "description": "Procedure, Performed: TotalHipTotalKneeReplacement",
      "codeListId": "2.16.840.1.113762.1.4.1029.96",
      "id": "60d2433eb7b4da5e252cb5b7",
      "components": []
    },
    {
      "dataElementCodes": [],
      "recorder": [],
      "qdmTitle": "Diagnosis",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.110",
      "qrdaOid": "2.16.840.1.113883.10.20.24.3.135",
      "qdmCategory": "condition",
      "qdmVersion": "5.6",
      "_type": "QDM::Diagnosis",
      "description": "Diagnosis: ActiveBleeding",
      "codeListId": "2.16.840.1.113762.1.4.1206.28",
      "id": "60d2433eb7b4da5e252cb5b8"
    },
    {
      "dataElementCodes": [],
      "qdmTitle": "Patient Characteristic Race",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.59",
      "qdmCategory": "patient_characteristic",
      "qdmStatus": "race",
      "qdmVersion": "5.6",
      "_type": "QDM::PatientCharacteristicRace",
      "description": "Patient Characteristic Race: Race",
      "codeListId": "2.16.840.1.114222.4.11.836",
      "id": "60d2433eb7b4da5e252cb5b9"
    },
    {
      "dataElementCodes": [],
      "performer": [],
      "relatedTo": [],
      "qdmTitle": "Procedure, Performed",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.67",
      "qdmCategory": "procedure",
      "qdmStatus": "performed",
      "qdmVersion": "5.6",
      "_type": "QDM::ProcedurePerformed",
      "description": "Procedure, Performed: NonprimaryTotalHipTotalKneeReplacement",
      "codeListId": "2.16.840.1.113762.1.4.1206.5",
      "id": "60d2433eb7b4da5e252cb5ba",
      "components": []
    },
    {
      "dataElementCodes": [],
      "qdmTitle": "Patient Characteristic Payer",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.58",
      "qdmCategory": "patient_characteristic",
      "qdmStatus": "payer",
      "qdmVersion": "5.6",
      "_type": "QDM::PatientCharacteristicPayer",
      "description": "Patient Characteristic Payer: Payer",
      "codeListId": "2.16.840.1.114222.4.11.3591",
      "id": "60d2433eb7b4da5e252cb5bb"
    },
    {
      "dataElementCodes": [],
      "participant": [],
      "relatedTo": [],
      "qdmTitle": "Encounter, Performed",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.5",
      "qdmCategory": "encounter",
      "qdmStatus": "performed",
      "qdmVersion": "5.6",
      "_type": "QDM::EncounterPerformed",
      "facilityLocations": [],
      "description": "Encounter, Performed: EmergencyDepartmentVisit",
      "codeListId": "2.16.840.1.113883.3.117.1.7.1.292",
      "id": "60d2433eb7b4da5e252cb5bc",
      "diagnoses": []
    },
    {
      "dataElementCodes": [],
      "prescriber": [],
      "relatedTo": [],
      "qdmTitle": "Medication, Order",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.51",
      "qdmCategory": "medication",
      "qdmStatus": "order",
      "qdmVersion": "5.6",
      "_type": "QDM::MedicationOrder",
      "description": "Medication, Order: AnticoagulantMedicationsInjection",
      "codeListId": "2.16.840.1.113762.1.4.1206.21",
      "id": "60d2433eb7b4da5e252cb5bd"
    },
    {
      "dataElementCodes": [],
      "recorder": [],
      "qdmTitle": "Diagnosis",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.110",
      "qrdaOid": "2.16.840.1.113883.10.20.24.3.135",
      "qdmCategory": "condition",
      "qdmVersion": "5.6",
      "_type": "QDM::Diagnosis",
      "description": "Diagnosis: VenousThromboembolism",
      "codeListId": "2.16.840.1.113883.3.117.1.7.1.279",
      "id": "60d2433eb7b4da5e252cb5be"
    },
    {
      "dataElementCodes": [],
      "recorder": [],
      "qdmTitle": "Diagnosis",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.110",
      "qrdaOid": "2.16.840.1.113883.10.20.24.3.135",
      "qdmCategory": "condition",
      "qdmVersion": "5.6",
      "_type": "QDM::Diagnosis",
      "description": "Diagnosis: GeneralMajorBleedingEvents",
      "codeListId": "2.16.840.1.113762.1.4.1179.5",
      "id": "60d2433eb7b4da5e252cb5bf"
    },
    {
      "dataElementCodes": [],
      "recorder": [],
      "qdmTitle": "Diagnosis",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.110",
      "qrdaOid": "2.16.840.1.113883.10.20.24.3.135",
      "qdmCategory": "condition",
      "qdmVersion": "5.6",
      "_type": "QDM::Diagnosis",
      "description": "Diagnosis: PulmonaryEmbolismorDVT",
      "codeListId": "2.16.840.1.113883.17.4077.3.1036",
      "id": "60d2433eb7b4da5e252cb5c0"
    },
    {
      "dataElementCodes": [],
      "performer": [],
      "relatedTo": [],
      "qdmTitle": "Procedure, Performed",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.67",
      "qdmCategory": "procedure",
      "qdmStatus": "performed",
      "qdmVersion": "5.6",
      "_type": "QDM::ProcedurePerformed",
      "description": "Procedure, Performed: GeneralSurgery",
      "codeListId": "2.16.840.1.113762.1.4.1206.15",
      "id": "60d2433eb7b4da5e252cb5c1",
      "components": []
    },
    {
      "dataElementCodes": [],
      "recorder": [],
      "qdmTitle": "Diagnosis",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.110",
      "qrdaOid": "2.16.840.1.113883.10.20.24.3.135",
      "qdmCategory": "condition",
      "qdmVersion": "5.6",
      "_type": "QDM::Diagnosis",
      "description": "Diagnosis: CoagulationDisorderConditions",
      "codeListId": "2.16.840.1.113762.1.4.1206.17",
      "id": "60d2433eb7b4da5e252cb5c2"
    },
    {
      "dataElementCodes": [],
      "participant": [],
      "relatedTo": [],
      "qdmTitle": "Encounter, Performed",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.5",
      "qdmCategory": "encounter",
      "qdmStatus": "performed",
      "qdmVersion": "5.6",
      "_type": "QDM::EncounterPerformed",
      "facilityLocations": [],
      "description": "Encounter, Performed: PostoperativeVisit",
      "codeListId": "2.16.840.1.113883.3.464.1003.101.12.1070",
      "id": "60d2433eb7b4da5e252cb5c3",
      "diagnoses": []
    },
    {
      "dataElementCodes": [],
      "qdmTitle": "Patient Characteristic Ethnicity",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.56",
      "qdmCategory": "patient_characteristic",
      "qdmStatus": "ethnicity",
      "qdmVersion": "5.6",
      "_type": "QDM::PatientCharacteristicEthnicity",
      "description": "Patient Characteristic Ethnicity: Ethnicity",
      "codeListId": "2.16.840.1.114222.4.11.837",
      "id": "60d2433eb7b4da5e252cb5c4"
    },
    {
      "dataElementCodes": [],
      "participant": [],
      "relatedTo": [],
      "qdmTitle": "Encounter, Performed",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.5",
      "qdmCategory": "encounter",
      "qdmStatus": "performed",
      "qdmVersion": "5.6",
      "_type": "QDM::EncounterPerformed",
      "facilityLocations": [],
      "description": "Encounter, Performed: EncounterInpatient",
      "codeListId": "2.16.840.1.113883.3.666.5.307",
      "id": "60d2433eb7b4da5e252cb5c5",
      "diagnoses": []
    },
    {
      "dataElementCodes": [],
      "recorder": [],
      "qdmTitle": "Diagnosis",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.110",
      "qrdaOid": "2.16.840.1.113883.10.20.24.3.135",
      "qdmCategory": "condition",
      "qdmVersion": "5.6",
      "_type": "QDM::Diagnosis",
      "description": "Diagnosis: FractureExclusionsForHipAndKneeProcedures",
      "codeListId": "2.16.840.1.113762.1.4.1206.2",
      "id": "60d2433eb7b4da5e252cb5c6"
    },
    {
      "dataElementCodes": [],
      "prescriber": [],
      "relatedTo": [],
      "qdmTitle": "Medication, Order",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.51",
      "qdmCategory": "medication",
      "qdmStatus": "order",
      "qdmVersion": "5.6",
      "_type": "QDM::MedicationOrder",
      "description": "Medication, Order: AnticoagulantMedicationsOral",
      "codeListId": "2.16.840.1.113762.1.4.1206.20",
      "id": "60d2433eb7b4da5e252cb5c7"
    },
    {
      "dataElementCodes": [],
      "performer": [],
      "relatedTo": [],
      "qdmTitle": "Procedure, Performed",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.67",
      "qdmCategory": "procedure",
      "qdmStatus": "performed",
      "qdmVersion": "5.6",
      "_type": "QDM::ProcedurePerformed",
      "description": "Procedure, Performed: TreatmentofHemorrhageorHematoma",
      "codeListId": "2.16.840.1.113762.1.4.1206.14",
      "id": "60d2433eb7b4da5e252cb5c8",
      "components": []
    },
    {
      "dataElementCodes": [],
      "participant": [],
      "relatedTo": [],
      "qdmTitle": "Encounter, Performed",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.5",
      "qdmCategory": "encounter",
      "qdmStatus": "performed",
      "qdmVersion": "5.6",
      "_type": "QDM::EncounterPerformed",
      "facilityLocations": [],
      "description": "Encounter, Performed: Hospital-based outpatient emergency care center (environment)",
      "codeListId": "drc-a1def696eb127aeb8713251f9cb61514b833b97e7fe40c11774b67801a8cb8de",
      "id": "60d2433eb7b4da5e252cb5c9",
      "diagnoses": []
    },
    {
      "dataElementCodes": [],
      "participant": [],
      "relatedTo": [],
      "qdmTitle": "Encounter, Performed",
      "hqmfOid": "2.16.840.1.113883.10.20.28.4.5",
      "qdmCategory": "encounter",
      "qdmStatus": "performed",
      "qdmVersion": "5.6",
      "_type": "QDM::EncounterPerformed",
      "facilityLocations": [],
      "description": "Encounter, Performed: Outpatient surgery service (qualifier value)",
      "codeListId": "drc-8047a889b7f49f9af80145ad199b843f69ebca643069b4c4eea1b38f98bb009a",
      "id": "60d2433eb7b4da5e252cb5ca",
      "diagnoses": []
    }
  ],
  "measure_attributes": [],
  "patients": [],
  "value_sets": [
    "60d242f5b7b4da5e252cb50b",
    "60d242f5b7b4da5e252cb50c",
    "60d242f5b7b4da5e252cb50d",
    "60d2433eb7b4da5e252cb50e",
    "60d2433eb7b4da5e252cb50f",
    "60d2433eb7b4da5e252cb510",
    "60d2433eb7b4da5e252cb511",
    "60d2433eb7b4da5e252cb512",
    "60d2433eb7b4da5e252cb513",
    "60d2433eb7b4da5e252cb514",
    "60d2433eb7b4da5e252cb515",
    "60d2433eb7b4da5e252cb516",
    "60d2433eb7b4da5e252cb517",
    "60d2433eb7b4da5e252cb518",
    "60d2433eb7b4da5e252cb519",
    "60d2433eb7b4da5e252cb51a",
    "60d2433eb7b4da5e252cb51b",
    "60d2433eb7b4da5e252cb51c",
    "60d2433eb7b4da5e252cb51d",
    "60d2433eb7b4da5e252cb51e",
    "60d2433eb7b4da5e252cb51f",
    "60d2433eb7b4da5e252cb520",
    "60d2433eb7b4da5e252cb521",
    "60d2433eb7b4da5e252cb522",
    "60d2433eb7b4da5e252cb523",
    "60d2433eb7b4da5e252cb524",
    "60d2433eb7b4da5e252cb525",
    "60d2433eb7b4da5e252cb526",
    "60d2433eb7b4da5e252cb527",
    "60d2433eb7b4da5e252cb528",
    "60d2433eb7b4da5e252cb529",
    "60d2433eb7b4da5e252cb52a",
    "60d2433eb7b4da5e252cb52b",
    "60d2433eb7b4da5e252cb52c",
    "60d2433eb7b4da5e252cb52d",
    "60d2433eb7b4da5e252cb52e",
    "60d2433eb7b4da5e252cb52f"
  ],
  "title": "Combined VTE and Bleeding Ratio",
  "description": "",
  "hqmf_id": "2C928084-7961-2204-0179-629D96A803ED",
  "hqmf_set_id": "BBAF3788-F8EF-41B0-B525-6C85309E884F",
  "main_cql_library": "CombinedVTEandBleedingRatio",
  "hqmf_version_number": "0.0.002",
  "cms_id": "CMSv0",
  "calculate_sdes": null,
  "measure_period": {
    "type": "IVL_TS",
    "low": {
      "type": "TS",
      "value": "201201010000",
      "inclusive?": true,
      "derived?": false
    },
    "high": {
      "type": "TS",
      "value": "201212312359",
      "inclusive?": true,
      "derived?": false
    },
    "width": {
      "type": "PQ",
      "unit": "a",
      "value": "1",
      "inclusive?": true,
      "derived?": false
    }
  },
  "population_criteria": {
    "OBSERV": {
      "conjunction?": false,
      "type": "OBSERV",
      "hqmf_id": "81A3195D-035F-4B43-A2BC-6CC8DA5AA4BD",
      "aggregator": "SUM"
    },
    "OBSERV_1": {
      "conjunction?": false,
      "type": "OBSERV",
      "hqmf_id": "81F3AE38-EAB3-4B9C-A66F-6F5AED2B9829",
      "aggregator": "SUM"
    },
    "IPP": {
      "conjunction?": true,
      "type": "IPP",
      "hqmf_id": "BE14DD92-D432-4A78-BFA2-E69936FFA2D9",
      "preconditions": [
        {
          "id": 2,
          "preconditions": [
            {
              "id": 1,
              "reference": "CombinedVTEandBleedingRatio__Initial_Population__FC7C83CC_7445_4522_8642_A7B3D7BD1F1F"
            }
          ],
          "conjunction_code": "allTrue"
        }
      ]
    },
    "DENOM": {
      "conjunction?": true,
      "type": "DENOM",
      "hqmf_id": "0B406C0E-91A5-43F0-8D40-4C4D6E860887",
      "preconditions": [
        {
          "id": 4,
          "preconditions": [
            {
              "id": 3,
              "reference": "CombinedVTEandBleedingRatio__Denominator__FC7C83CC_7445_4522_8642_A7B3D7BD1F1F"
            }
          ],
          "conjunction_code": "allTrue"
        }
      ]
    },
    "NUMER": {
      "conjunction?": true,
      "type": "NUMER",
      "hqmf_id": "BE789040-3DCB-46AF-B0EA-37FF07ECC3CB",
      "preconditions": [
        {
          "id": 6,
          "preconditions": [
            {
              "id": 5,
              "reference": "CombinedVTEandBleedingRatio__Numerator__FC7C83CC_7445_4522_8642_A7B3D7BD1F1F"
            }
          ],
          "conjunction_code": "allTrue"
        }
      ]
    },
    "DENEX": {
      "conjunction?": true,
      "type": "DENEX",
      "hqmf_id": "B8A8ED35-BC32-4274-A44D-503178D0C4D0",
      "preconditions": [
        {
          "id": 8,
          "preconditions": [
            {
              "id": 7,
              "reference": "CombinedVTEandBleedingRatio__Denominator_Exclusion__FC7C83CC_7445_4522_8642_A7B3D7BD1F1F"
            }
          ],
          "conjunction_code": "atLeastOneTrue"
        }
      ]
    }
  },
  "updated_at": 1624392510749,
  "created_at": 1624392510749,
  "cql_libraries": [
    {
      "is_main_library": true,
      "is_top_level": true,
      "library_name": "CombinedVTEandBleedingRatio",
      "library_version": "0.0.002",
      "elm": {
        "library": {
          "annotation": [
            {
              "translatorOptions": "EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion,DisableMethodInvocation",
              "type": "CqlToElmInfo"
            },
            {
              "type": "Annotation",
              "s": {
                "r": "81",
                "s": [
                  {
                    "value": [
                      "",
                      "library CombinedVTEandBleedingRatio version '0.0.002'"
                    ]
                  }
                ]
              }
            }
          ],
          "identifier": {
            "id": "CombinedVTEandBleedingRatio",
            "version": "0.0.002"
          },
          "schemaIdentifier": {
            "id": "urn:hl7-org:elm",
            "version": "r1"
          },
          "usings": {
            "def": [
              {
                "localIdentifier": "System",
                "uri": "urn:hl7-org:elm-types:r1"
              },
              {
                "localId": "1",
                "locator": "3:1-3:23",
                "localIdentifier": "QDM",
                "uri": "urn:healthit-gov:qdm:v5_6",
                "version": "5.6",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "1",
                      "s": [
                        {
                          "value": [
                            "",
                            "using "
                          ]
                        },
                        {
                          "s": [
                            {
                              "value": [
                                "QDM"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " version ",
                            "'5.6'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              }
            ]
          },
          "includes": {
            "def": [
              {
                "localId": "2",
                "locator": "5:1-5:60",
                "localIdentifier": "THA_TKA_Common",
                "path": "THATKACommon",
                "version": "1.0.000",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "2",
                      "s": [
                        {
                          "value": [
                            "",
                            "include "
                          ]
                        },
                        {
                          "s": [
                            {
                              "value": [
                                "THATKACommon"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " version ",
                            "'1.0.000'",
                            " called ",
                            "THA_TKA_Common"
                          ]
                        }
                      ]
                    }
                  }
                ]
              }
            ]
          },
          "valueSets": {
            "def": [
              {
                "localId": "3",
                "locator": "7:1-7:58",
                "name": "Ethnicity",
                "id": "2.16.840.1.114222.4.11.837",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "3",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Ethnicity\"",
                            ": ",
                            "'urn:oid:2.16.840.1.114222.4.11.837'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "4",
                "locator": "8:1-8:68",
                "name": "ONC Administrative Sex",
                "id": "2.16.840.1.113762.1.4.1",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "4",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"ONC Administrative Sex\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113762.1.4.1'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "5",
                "locator": "9:1-9:55",
                "name": "Payer",
                "id": "2.16.840.1.114222.4.11.3591",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "5",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Payer\"",
                            ": ",
                            "'urn:oid:2.16.840.1.114222.4.11.3591'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "6",
                "locator": "10:1-10:53",
                "name": "Race",
                "id": "2.16.840.1.114222.4.11.836",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "6",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Race\"",
                            ": ",
                            "'urn:oid:2.16.840.1.114222.4.11.836'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              }
            ]
          },
          "contexts": {
            "def": [
              {
                "locator": "12:1-12:15",
                "name": "Patient"
              }
            ]
          },
          "statements": {
            "def": [
              {
                "locator": "12:1-12:15",
                "name": "Patient",
                "context": "Patient",
                "expression": {
                  "type": "SingletonFrom",
                  "operand": {
                    "locator": "12:1-12:15",
                    "dataType": "{urn:healthit-gov:qdm:v5_6}Patient",
                    "templateId": "Patient",
                    "type": "Retrieve"
                  }
                }
              },
              {
                "localId": "8",
                "locator": "14:1-15:3",
                "name": "Bleeding Weight",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "8",
                      "s": [
                        {
                          "r": "7",
                          "value": [
                            "",
                            "define ",
                            "\"Bleeding Weight\"",
                            ":\n  ",
                            "1"
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "7",
                  "locator": "15:3",
                  "valueType": "{urn:hl7-org:elm-types:r1}Integer",
                  "value": "1",
                  "type": "Literal"
                }
              },
              {
                "localId": "11",
                "locator": "17:1-18:37",
                "name": "Initial Population",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "11",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Initial Population\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "10",
                          "s": [
                            {
                              "r": "9",
                              "s": [
                                {
                                  "value": [
                                    "THA_TKA_Common"
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "."
                              ]
                            },
                            {
                              "r": "10",
                              "s": [
                                {
                                  "value": [
                                    "\"Initial Population\""
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "10",
                  "locator": "18:3-18:37",
                  "name": "Initial Population",
                  "libraryName": "THA_TKA_Common",
                  "type": "ExpressionRef"
                }
              },
              {
                "localId": "14",
                "locator": "20:1-21:30",
                "name": "Denominator",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "14",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Denominator\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "13",
                          "s": [
                            {
                              "r": "12",
                              "s": [
                                {
                                  "value": [
                                    "THA_TKA_Common"
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "."
                              ]
                            },
                            {
                              "r": "13",
                              "s": [
                                {
                                  "value": [
                                    "\"Denominator\""
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "13",
                  "locator": "21:3-21:30",
                  "name": "Denominator",
                  "libraryName": "THA_TKA_Common",
                  "type": "ExpressionRef"
                }
              },
              {
                "localId": "17",
                "locator": "24:1-25:48",
                "name": "Denominator Exclusion",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "17",
                      "s": [
                        {
                          "value": [
                            "/*For the measure population exclusions, we only want to exclude characteristics that are common to both events. Otherwise, we might exclude an event for a VTE exclusion, and end up missing it when it should have counted for a Bleeding event.*/",
                            "define ",
                            "\"Denominator Exclusion\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "16",
                          "s": [
                            {
                              "r": "15",
                              "s": [
                                {
                                  "value": [
                                    "THA_TKA_Common"
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "."
                              ]
                            },
                            {
                              "r": "16",
                              "s": [
                                {
                                  "value": [
                                    "\"Common Denominator Exclusions\""
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "16",
                  "locator": "25:3-25:48",
                  "name": "Common Denominator Exclusions",
                  "libraryName": "THA_TKA_Common",
                  "type": "ExpressionRef"
                }
              },
              {
                "localId": "23",
                "locator": "27:1-29:46",
                "name": "Numerator",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "23",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Numerator\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "22",
                          "s": [
                            {
                              "r": "19",
                              "s": [
                                {
                                  "r": "18",
                                  "s": [
                                    {
                                      "value": [
                                        "THA_TKA_Common"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "."
                                  ]
                                },
                                {
                                  "r": "19",
                                  "s": [
                                    {
                                      "value": [
                                        "\"Bleeding-Specific Numerator\""
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    or "
                              ]
                            },
                            {
                              "r": "21",
                              "s": [
                                {
                                  "r": "20",
                                  "s": [
                                    {
                                      "value": [
                                        "THA_TKA_Common"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "."
                                  ]
                                },
                                {
                                  "r": "21",
                                  "s": [
                                    {
                                      "value": [
                                        "\"VTE-Specific Numerator\""
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "22",
                  "locator": "28:3-29:46",
                  "type": "Or",
                  "operand": [
                    {
                      "localId": "19",
                      "locator": "28:3-28:46",
                      "name": "Bleeding-Specific Numerator",
                      "libraryName": "THA_TKA_Common",
                      "type": "ExpressionRef"
                    },
                    {
                      "localId": "21",
                      "locator": "29:8-29:46",
                      "name": "VTE-Specific Numerator",
                      "libraryName": "THA_TKA_Common",
                      "type": "ExpressionRef"
                    }
                  ]
                }
              },
              {
                "localId": "25",
                "locator": "31:1-32:51",
                "name": "SDE Ethnicity",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "25",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"SDE Ethnicity\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "24",
                          "s": [
                            {
                              "value": [
                                "[",
                                "\"Patient Characteristic Ethnicity\"",
                                ": "
                              ]
                            },
                            {
                              "s": [
                                {
                                  "value": [
                                    "\"Ethnicity\""
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "]"
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "24",
                  "locator": "32:3-32:51",
                  "dataType": "{urn:healthit-gov:qdm:v5_6}PatientCharacteristicEthnicity",
                  "codeProperty": "code",
                  "codeComparator": "in",
                  "type": "Retrieve",
                  "codes": {
                    "locator": "32:40-32:50",
                    "name": "Ethnicity",
                    "type": "ValueSetRef"
                  }
                }
              },
              {
                "localId": "27",
                "locator": "34:1-35:43",
                "name": "SDE Payer",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "27",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"SDE Payer\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "26",
                          "s": [
                            {
                              "value": [
                                "[",
                                "\"Patient Characteristic Payer\"",
                                ": "
                              ]
                            },
                            {
                              "s": [
                                {
                                  "value": [
                                    "\"Payer\""
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "]"
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "26",
                  "locator": "35:3-35:43",
                  "dataType": "{urn:healthit-gov:qdm:v5_6}PatientCharacteristicPayer",
                  "codeProperty": "code",
                  "codeComparator": "in",
                  "type": "Retrieve",
                  "codes": {
                    "locator": "35:36-35:42",
                    "name": "Payer",
                    "type": "ValueSetRef"
                  }
                }
              },
              {
                "localId": "29",
                "locator": "37:1-38:41",
                "name": "SDE Race",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "29",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"SDE Race\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "28",
                          "s": [
                            {
                              "value": [
                                "[",
                                "\"Patient Characteristic Race\"",
                                ": "
                              ]
                            },
                            {
                              "s": [
                                {
                                  "value": [
                                    "\"Race\""
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "]"
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "28",
                  "locator": "38:3-38:41",
                  "dataType": "{urn:healthit-gov:qdm:v5_6}PatientCharacteristicRace",
                  "codeProperty": "code",
                  "codeComparator": "in",
                  "type": "Retrieve",
                  "codes": {
                    "locator": "38:35-38:40",
                    "name": "Race",
                    "type": "ValueSetRef"
                  }
                }
              },
              {
                "localId": "31",
                "locator": "40:1-41:58",
                "name": "SDE Sex",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "31",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"SDE Sex\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "30",
                          "s": [
                            {
                              "value": [
                                "[",
                                "\"Patient Characteristic Sex\"",
                                ": "
                              ]
                            },
                            {
                              "s": [
                                {
                                  "value": [
                                    "\"ONC Administrative Sex\""
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "]"
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "30",
                  "locator": "41:3-41:58",
                  "dataType": "{urn:healthit-gov:qdm:v5_6}PatientCharacteristicSex",
                  "codeProperty": "code",
                  "codeComparator": "in",
                  "type": "Retrieve",
                  "codes": {
                    "locator": "41:34-41:57",
                    "name": "ONC Administrative Sex",
                    "type": "ValueSetRef"
                  }
                }
              },
              {
                "localId": "33",
                "locator": "43:1-44:5",
                "name": "VTE Weight",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "33",
                      "s": [
                        {
                          "r": "32",
                          "value": [
                            "",
                            "define ",
                            "\"VTE Weight\"",
                            ":\n  ",
                            "2.7"
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "32",
                  "locator": "44:3-44:5",
                  "valueType": "{urn:hl7-org:elm-types:r1}Decimal",
                  "value": "2.7",
                  "type": "Literal"
                }
              },
              {
                "localId": "45",
                "locator": "66:1-68:10",
                "name": "ToScore",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "45",
                      "s": [
                        {
                          "value": [
                            "/*This function is used to convert the boolean-valued determination of an event to a score.*/",
                            "define function ",
                            "\"ToScore\"",
                            "(",
                            "Value",
                            " "
                          ]
                        },
                        {
                          "r": "40",
                          "s": [
                            {
                              "value": [
                                "Boolean"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "44",
                          "s": [
                            {
                              "r": "44",
                              "s": [
                                {
                                  "value": [
                                    "if "
                                  ]
                                },
                                {
                                  "r": "41",
                                  "s": [
                                    {
                                      "value": [
                                        "Value"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "r": "42",
                                  "value": [
                                    " then ",
                                    "1",
                                    " \n    else ",
                                    "0"
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "44",
                  "locator": "67:3-68:10",
                  "type": "If",
                  "condition": {
                    "localId": "41",
                    "locator": "67:6-67:10",
                    "name": "Value",
                    "type": "OperandRef"
                  },
                  "then": {
                    "localId": "42",
                    "locator": "67:17",
                    "valueType": "{urn:hl7-org:elm-types:r1}Integer",
                    "value": "1",
                    "type": "Literal"
                  },
                  "else": {
                    "localId": "43",
                    "locator": "68:10",
                    "valueType": "{urn:hl7-org:elm-types:r1}Integer",
                    "value": "0",
                    "type": "Literal"
                  }
                },
                "operand": [
                  {
                    "name": "Value",
                    "operandTypeSpecifier": {
                      "localId": "40",
                      "locator": "66:33-66:39",
                      "name": "{urn:hl7-org:elm-types:r1}Boolean",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              {
                "localId": "59",
                "locator": "46:1-53:3",
                "name": "Measure Denominator Score",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "59",
                      "s": [
                        {
                          "value": [
                            "",
                            "define function ",
                            "\"Measure Denominator Score\"",
                            "():\n  "
                          ]
                        },
                        {
                          "r": "58",
                          "s": [
                            {
                              "r": "58",
                              "s": [
                                {
                                  "r": "48",
                                  "s": [
                                    {
                                      "value": [
                                        "( "
                                      ]
                                    },
                                    {
                                      "r": "48",
                                      "s": [
                                        {
                                          "r": "46",
                                          "s": [
                                            {
                                              "value": [
                                                "ToScore",
                                                "("
                                              ]
                                            },
                                            {
                                              "r": "39",
                                              "s": [
                                                {
                                                  "r": "35",
                                                  "s": [
                                                    {
                                                      "r": "34",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "THA_TKA_Common"
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "."
                                                      ]
                                                    },
                                                    {
                                                      "r": "35",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "\"Denominator\""
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "\n        and "
                                                  ]
                                                },
                                                {
                                                  "r": "38",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "not "
                                                      ]
                                                    },
                                                    {
                                                      "r": "37",
                                                      "s": [
                                                        {
                                                          "r": "36",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "THA_TKA_Common"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            "."
                                                          ]
                                                        },
                                                        {
                                                          "r": "37",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "\"VTE-Specific Denominator Exclusions\""
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n    )"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "* "
                                          ]
                                        },
                                        {
                                          "r": "47",
                                          "s": [
                                            {
                                              "value": [
                                                "\"VTE Weight\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        "\n  )"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    " + "
                                  ]
                                },
                                {
                                  "r": "57",
                                  "s": [
                                    {
                                      "value": [
                                        "( "
                                      ]
                                    },
                                    {
                                      "r": "57",
                                      "s": [
                                        {
                                          "r": "55",
                                          "s": [
                                            {
                                              "value": [
                                                "ToScore",
                                                "("
                                              ]
                                            },
                                            {
                                              "r": "54",
                                              "s": [
                                                {
                                                  "r": "50",
                                                  "s": [
                                                    {
                                                      "r": "49",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "THA_TKA_Common"
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "."
                                                      ]
                                                    },
                                                    {
                                                      "r": "50",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "\"Denominator\""
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "\n        and "
                                                  ]
                                                },
                                                {
                                                  "r": "53",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "not "
                                                      ]
                                                    },
                                                    {
                                                      "r": "52",
                                                      "s": [
                                                        {
                                                          "r": "51",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "THA_TKA_Common"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            "."
                                                          ]
                                                        },
                                                        {
                                                          "r": "52",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "\"Bleeding-Specific Denominator Exclusions\""
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n    )"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "* "
                                          ]
                                        },
                                        {
                                          "r": "56",
                                          "s": [
                                            {
                                              "value": [
                                                "\"Bleeding Weight\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        "\n  )"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "58",
                  "locator": "47:3-53:3",
                  "type": "Add",
                  "operand": [
                    {
                      "localId": "48",
                      "locator": "47:3-50:3",
                      "type": "Multiply",
                      "operand": [
                        {
                          "type": "ToDecimal",
                          "operand": {
                            "localId": "46",
                            "locator": "47:5-49:5",
                            "name": "ToScore",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "39",
                                "locator": "47:13-48:68",
                                "type": "And",
                                "operand": [
                                  {
                                    "localId": "35",
                                    "locator": "47:13-47:40",
                                    "name": "Denominator",
                                    "libraryName": "THA_TKA_Common",
                                    "type": "ExpressionRef"
                                  },
                                  {
                                    "localId": "38",
                                    "locator": "48:13-48:68",
                                    "type": "Not",
                                    "operand": {
                                      "localId": "37",
                                      "locator": "48:17-48:68",
                                      "name": "VTE-Specific Denominator Exclusions",
                                      "libraryName": "THA_TKA_Common",
                                      "type": "ExpressionRef"
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "localId": "47",
                          "locator": "49:8-49:19",
                          "name": "VTE Weight",
                          "type": "ExpressionRef"
                        }
                      ]
                    },
                    {
                      "type": "ToDecimal",
                      "operand": {
                        "localId": "57",
                        "locator": "50:7-53:3",
                        "type": "Multiply",
                        "operand": [
                          {
                            "localId": "55",
                            "locator": "50:9-52:5",
                            "name": "ToScore",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "54",
                                "locator": "50:17-51:73",
                                "type": "And",
                                "operand": [
                                  {
                                    "localId": "50",
                                    "locator": "50:17-50:44",
                                    "name": "Denominator",
                                    "libraryName": "THA_TKA_Common",
                                    "type": "ExpressionRef"
                                  },
                                  {
                                    "localId": "53",
                                    "locator": "51:13-51:73",
                                    "type": "Not",
                                    "operand": {
                                      "localId": "52",
                                      "locator": "51:17-51:73",
                                      "name": "Bleeding-Specific Denominator Exclusions",
                                      "libraryName": "THA_TKA_Common",
                                      "type": "ExpressionRef"
                                    }
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "localId": "56",
                            "locator": "52:8-52:24",
                            "name": "Bleeding Weight",
                            "type": "ExpressionRef"
                          }
                        ]
                      }
                    }
                  ]
                },
                "operand": []
              },
              {
                "localId": "79",
                "locator": "56:1-63:3",
                "name": "Measure Numerator Score",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "79",
                      "s": [
                        {
                          "value": [
                            "/*So this is a patient-based linear combination, which we can then weight by introducing the weighting factor as a component of the measure observation calculation*/",
                            "define function ",
                            "\"Measure Numerator Score\"",
                            "():\n  "
                          ]
                        },
                        {
                          "r": "78",
                          "s": [
                            {
                              "r": "78",
                              "s": [
                                {
                                  "r": "68",
                                  "s": [
                                    {
                                      "value": [
                                        "( "
                                      ]
                                    },
                                    {
                                      "r": "68",
                                      "s": [
                                        {
                                          "r": "66",
                                          "s": [
                                            {
                                              "value": [
                                                "ToScore",
                                                "("
                                              ]
                                            },
                                            {
                                              "r": "65",
                                              "s": [
                                                {
                                                  "r": "61",
                                                  "s": [
                                                    {
                                                      "r": "60",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "THA_TKA_Common"
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "."
                                                      ]
                                                    },
                                                    {
                                                      "r": "61",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "\"VTE-Specific Numerator\""
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "\n        and "
                                                  ]
                                                },
                                                {
                                                  "r": "64",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "not "
                                                      ]
                                                    },
                                                    {
                                                      "r": "63",
                                                      "s": [
                                                        {
                                                          "r": "62",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "THA_TKA_Common"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            "."
                                                          ]
                                                        },
                                                        {
                                                          "r": "63",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "\"VTE-Specific Denominator Exclusions\""
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n    )"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "* "
                                          ]
                                        },
                                        {
                                          "r": "67",
                                          "s": [
                                            {
                                              "value": [
                                                "\"VTE Weight\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        "\n  )"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    " + "
                                  ]
                                },
                                {
                                  "r": "77",
                                  "s": [
                                    {
                                      "value": [
                                        "( "
                                      ]
                                    },
                                    {
                                      "r": "77",
                                      "s": [
                                        {
                                          "r": "75",
                                          "s": [
                                            {
                                              "value": [
                                                "ToScore",
                                                "("
                                              ]
                                            },
                                            {
                                              "r": "74",
                                              "s": [
                                                {
                                                  "r": "70",
                                                  "s": [
                                                    {
                                                      "r": "69",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "THA_TKA_Common"
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "."
                                                      ]
                                                    },
                                                    {
                                                      "r": "70",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "\"Bleeding-Specific Numerator\""
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "\n        and "
                                                  ]
                                                },
                                                {
                                                  "r": "73",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "not "
                                                      ]
                                                    },
                                                    {
                                                      "r": "72",
                                                      "s": [
                                                        {
                                                          "r": "71",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "THA_TKA_Common"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            "."
                                                          ]
                                                        },
                                                        {
                                                          "r": "72",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "\"Bleeding-Specific Denominator Exclusions\""
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n    )"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "* "
                                          ]
                                        },
                                        {
                                          "r": "76",
                                          "s": [
                                            {
                                              "value": [
                                                "\"Bleeding Weight\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        "\n  )"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "78",
                  "locator": "57:3-63:3",
                  "type": "Add",
                  "operand": [
                    {
                      "localId": "68",
                      "locator": "57:3-60:3",
                      "type": "Multiply",
                      "operand": [
                        {
                          "type": "ToDecimal",
                          "operand": {
                            "localId": "66",
                            "locator": "57:5-59:5",
                            "name": "ToScore",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "65",
                                "locator": "57:13-58:68",
                                "type": "And",
                                "operand": [
                                  {
                                    "localId": "61",
                                    "locator": "57:13-57:51",
                                    "name": "VTE-Specific Numerator",
                                    "libraryName": "THA_TKA_Common",
                                    "type": "ExpressionRef"
                                  },
                                  {
                                    "localId": "64",
                                    "locator": "58:13-58:68",
                                    "type": "Not",
                                    "operand": {
                                      "localId": "63",
                                      "locator": "58:17-58:68",
                                      "name": "VTE-Specific Denominator Exclusions",
                                      "libraryName": "THA_TKA_Common",
                                      "type": "ExpressionRef"
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "localId": "67",
                          "locator": "59:8-59:19",
                          "name": "VTE Weight",
                          "type": "ExpressionRef"
                        }
                      ]
                    },
                    {
                      "type": "ToDecimal",
                      "operand": {
                        "localId": "77",
                        "locator": "60:7-63:3",
                        "type": "Multiply",
                        "operand": [
                          {
                            "localId": "75",
                            "locator": "60:9-62:5",
                            "name": "ToScore",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "74",
                                "locator": "60:17-61:73",
                                "type": "And",
                                "operand": [
                                  {
                                    "localId": "70",
                                    "locator": "60:17-60:60",
                                    "name": "Bleeding-Specific Numerator",
                                    "libraryName": "THA_TKA_Common",
                                    "type": "ExpressionRef"
                                  },
                                  {
                                    "localId": "73",
                                    "locator": "61:13-61:73",
                                    "type": "Not",
                                    "operand": {
                                      "localId": "72",
                                      "locator": "61:17-61:73",
                                      "name": "Bleeding-Specific Denominator Exclusions",
                                      "libraryName": "THA_TKA_Common",
                                      "type": "ExpressionRef"
                                    }
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "localId": "76",
                            "locator": "62:8-62:24",
                            "name": "Bleeding Weight",
                            "type": "ExpressionRef"
                          }
                        ]
                      }
                    }
                  ]
                },
                "operand": []
              },
              {
                "name": "obs_func_Measure Denominator Score",
                "context": "Patient",
                "accessLevel": "Public",
                "expression": {
                  "name": "Measure Denominator Score",
                  "type": "FunctionRef",
                  "operand": []
                }
              },
              {
                "name": "obs_func_Measure Numerator Score",
                "context": "Patient",
                "accessLevel": "Public",
                "expression": {
                  "name": "Measure Numerator Score",
                  "type": "FunctionRef",
                  "operand": []
                }
              },
              {
                "name": "obs_func_Measure Denominator Score",
                "context": "Patient",
                "accessLevel": "Public",
                "expression": {
                  "name": "Measure Denominator Score",
                  "type": "FunctionRef",
                  "operand": []
                }
              },
              {
                "name": "obs_func_Measure Numerator Score",
                "context": "Patient",
                "accessLevel": "Public",
                "expression": {
                  "name": "Measure Numerator Score",
                  "type": "FunctionRef",
                  "operand": []
                }
              }
            ]
          }
        }
      },
      "cql": "library CombinedVTEandBleedingRatio version '0.0.002'\r\n\r\nusing QDM version '5.6'\r\n\r\ninclude THATKACommon version '1.0.000' called THA_TKA_Common\r\n\r\nvalueset \"Ethnicity\": 'urn:oid:2.16.840.1.114222.4.11.837'\r\nvalueset \"ONC Administrative Sex\": 'urn:oid:2.16.840.1.113762.1.4.1'\r\nvalueset \"Payer\": 'urn:oid:2.16.840.1.114222.4.11.3591'\r\nvalueset \"Race\": 'urn:oid:2.16.840.1.114222.4.11.836'\r\n\r\ncontext Patient\r\n\r\ndefine \"Bleeding Weight\":\r\n  1\r\n\r\ndefine \"Initial Population\":\r\n  THA_TKA_Common.\"Initial Population\"\r\n\r\ndefine \"Denominator\":\r\n  THA_TKA_Common.\"Denominator\"\n\n/*For the measure population exclusions, we only want to exclude characteristics that are common to both events. Otherwise, we might exclude an event for a VTE exclusion, and end up missing it when it should have counted for a Bleeding event.*/\r\n\r\ndefine \"Denominator Exclusion\":\r\n  THA_TKA_Common.\"Common Denominator Exclusions\"\r\n\r\ndefine \"Numerator\":\r\n  THA_TKA_Common.\"Bleeding-Specific Numerator\"\r\n    or THA_TKA_Common.\"VTE-Specific Numerator\"\r\n\r\ndefine \"SDE Ethnicity\":\r\n  [\"Patient Characteristic Ethnicity\": \"Ethnicity\"]\r\n\r\ndefine \"SDE Payer\":\r\n  [\"Patient Characteristic Payer\": \"Payer\"]\r\n\r\ndefine \"SDE Race\":\r\n  [\"Patient Characteristic Race\": \"Race\"]\r\n\r\ndefine \"SDE Sex\":\r\n  [\"Patient Characteristic Sex\": \"ONC Administrative Sex\"]\r\n\r\ndefine \"VTE Weight\":\r\n  2.7\r\n\r\ndefine function \"Measure Denominator Score\"():\r\n  ( ToScore(THA_TKA_Common.\"Denominator\"\r\n        and not THA_TKA_Common.\"VTE-Specific Denominator Exclusions\"\r\n    )* \"VTE Weight\"\r\n  ) + ( ToScore(THA_TKA_Common.\"Denominator\"\r\n        and not THA_TKA_Common.\"Bleeding-Specific Denominator Exclusions\"\r\n    )* \"Bleeding Weight\"\r\n  )\n\n/*So this is a patient-based linear combination, which we can then weight by introducing the weighting factor as a component of the measure observation calculation*/\r\n\r\ndefine function \"Measure Numerator Score\"():\r\n  ( ToScore(THA_TKA_Common.\"VTE-Specific Numerator\"\r\n        and not THA_TKA_Common.\"VTE-Specific Denominator Exclusions\"\r\n    )* \"VTE Weight\"\r\n  ) + ( ToScore(THA_TKA_Common.\"Bleeding-Specific Numerator\"\r\n        and not THA_TKA_Common.\"Bleeding-Specific Denominator Exclusions\"\r\n    )* \"Bleeding Weight\"\r\n  )\n\n/*This function is used to convert the boolean-valued determination of an event to a score.*/\r\n\r\ndefine function \"ToScore\"(Value Boolean):\r\n  if Value then 1 \r\n    else 0",
      "elm_annotations": {
        "statements": [
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Bleeding Weight\":\n  1"
                      }
                    ],
                    "node_type": "Literal",
                    "ref_id": "7"
                  }
                ],
                "ref_id": "8"
              }
            ],
            "define_name": "Bleeding Weight"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Initial Population\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "THA_TKA_Common"
                              }
                            ]
                          }
                        ],
                        "ref_id": "9"
                      },
                      {
                        "children": [
                          {
                            "text": "."
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "\"Initial Population\""
                              }
                            ]
                          }
                        ],
                        "node_type": "ExpressionRef",
                        "ref_id": "10"
                      }
                    ],
                    "node_type": "ExpressionRef",
                    "ref_id": "10"
                  }
                ],
                "ref_id": "11"
              }
            ],
            "define_name": "Initial Population"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Denominator\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "THA_TKA_Common"
                              }
                            ]
                          }
                        ],
                        "ref_id": "12"
                      },
                      {
                        "children": [
                          {
                            "text": "."
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "\"Denominator\""
                              }
                            ]
                          }
                        ],
                        "node_type": "ExpressionRef",
                        "ref_id": "13"
                      }
                    ],
                    "node_type": "ExpressionRef",
                    "ref_id": "13"
                  }
                ],
                "ref_id": "14"
              }
            ],
            "define_name": "Denominator"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Numerator\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "text": "THA_TKA_Common"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "18"
                          },
                          {
                            "children": [
                              {
                                "text": "."
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "text": "\"Bleeding-Specific Numerator\""
                                  }
                                ]
                              }
                            ],
                            "node_type": "ExpressionRef",
                            "ref_id": "19"
                          }
                        ],
                        "node_type": "ExpressionRef",
                        "ref_id": "19"
                      },
                      {
                        "children": [
                          {
                            "text": "\n    or "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "text": "THA_TKA_Common"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "20"
                          },
                          {
                            "children": [
                              {
                                "text": "."
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "text": "\"VTE-Specific Numerator\""
                                  }
                                ]
                              }
                            ],
                            "node_type": "ExpressionRef",
                            "ref_id": "21"
                          }
                        ],
                        "node_type": "ExpressionRef",
                        "ref_id": "21"
                      }
                    ],
                    "node_type": "Or",
                    "ref_id": "22"
                  }
                ],
                "ref_id": "23"
              }
            ],
            "define_name": "Numerator"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"SDE Ethnicity\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "text": "[\"Patient Characteristic Ethnicity\": "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "\"Ethnicity\""
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "]"
                          }
                        ]
                      }
                    ],
                    "node_type": "Retrieve",
                    "ref_id": "24"
                  }
                ],
                "ref_id": "25"
              }
            ],
            "define_name": "SDE Ethnicity"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"SDE Payer\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "text": "[\"Patient Characteristic Payer\": "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "\"Payer\""
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "]"
                          }
                        ]
                      }
                    ],
                    "node_type": "Retrieve",
                    "ref_id": "26"
                  }
                ],
                "ref_id": "27"
              }
            ],
            "define_name": "SDE Payer"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"SDE Race\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "text": "[\"Patient Characteristic Race\": "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "\"Race\""
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "]"
                          }
                        ]
                      }
                    ],
                    "node_type": "Retrieve",
                    "ref_id": "28"
                  }
                ],
                "ref_id": "29"
              }
            ],
            "define_name": "SDE Race"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"SDE Sex\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "text": "[\"Patient Characteristic Sex\": "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "\"ONC Administrative Sex\""
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "]"
                          }
                        ]
                      }
                    ],
                    "node_type": "Retrieve",
                    "ref_id": "30"
                  }
                ],
                "ref_id": "31"
              }
            ],
            "define_name": "SDE Sex"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"VTE Weight\":\n  2.7"
                      }
                    ],
                    "node_type": "Literal",
                    "ref_id": "32"
                  }
                ],
                "ref_id": "33"
              }
            ],
            "define_name": "VTE Weight"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define function \"Measure Denominator Score\"():\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "text": "( "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "ToScore("
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "THA_TKA_Common"
                                                      }
                                                    ]
                                                  }
                                                ],
                                                "ref_id": "34"
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "text": "."
                                                  }
                                                ]
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "\"Denominator\""
                                                      }
                                                    ]
                                                  }
                                                ],
                                                "node_type": "ExpressionRef",
                                                "ref_id": "35"
                                              }
                                            ],
                                            "node_type": "ExpressionRef",
                                            "ref_id": "35"
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "\n        and "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "not "
                                                  }
                                                ]
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "THA_TKA_Common"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "ref_id": "36"
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "."
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "\"VTE-Specific Denominator Exclusions\""
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "node_type": "ExpressionRef",
                                                    "ref_id": "37"
                                                  }
                                                ],
                                                "node_type": "ExpressionRef",
                                                "ref_id": "37"
                                              }
                                            ],
                                            "node_type": "Not",
                                            "ref_id": "38"
                                          }
                                        ],
                                        "node_type": "And",
                                        "ref_id": "39"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "\n    )"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "FunctionRef",
                                    "ref_id": "46"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "* "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"VTE Weight\""
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "ExpressionRef",
                                    "ref_id": "47"
                                  }
                                ],
                                "node_type": "Multiply",
                                "ref_id": "48"
                              },
                              {
                                "children": [
                                  {
                                    "text": "\n  )"
                                  }
                                ]
                              }
                            ],
                            "node_type": "Multiply",
                            "ref_id": "48"
                          },
                          {
                            "children": [
                              {
                                "text": " + "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "text": "( "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "ToScore("
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "THA_TKA_Common"
                                                      }
                                                    ]
                                                  }
                                                ],
                                                "ref_id": "49"
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "text": "."
                                                  }
                                                ]
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "\"Denominator\""
                                                      }
                                                    ]
                                                  }
                                                ],
                                                "node_type": "ExpressionRef",
                                                "ref_id": "50"
                                              }
                                            ],
                                            "node_type": "ExpressionRef",
                                            "ref_id": "50"
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "\n        and "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "not "
                                                  }
                                                ]
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "THA_TKA_Common"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "ref_id": "51"
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "."
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "\"Bleeding-Specific Denominator Exclusions\""
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "node_type": "ExpressionRef",
                                                    "ref_id": "52"
                                                  }
                                                ],
                                                "node_type": "ExpressionRef",
                                                "ref_id": "52"
                                              }
                                            ],
                                            "node_type": "Not",
                                            "ref_id": "53"
                                          }
                                        ],
                                        "node_type": "And",
                                        "ref_id": "54"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "\n    )"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "FunctionRef",
                                    "ref_id": "55"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "* "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Bleeding Weight\""
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "ExpressionRef",
                                    "ref_id": "56"
                                  }
                                ],
                                "node_type": "Multiply",
                                "ref_id": "57"
                              },
                              {
                                "children": [
                                  {
                                    "text": "\n  )"
                                  }
                                ]
                              }
                            ],
                            "node_type": "Multiply",
                            "ref_id": "57"
                          }
                        ],
                        "node_type": "Add",
                        "ref_id": "58"
                      }
                    ],
                    "node_type": "Add",
                    "ref_id": "58"
                  }
                ],
                "ref_id": "59"
              }
            ],
            "define_name": "Measure Denominator Score"
          }
        ],
        "identifier": {
          "id": "CombinedVTEandBleedingRatio",
          "version": "0.0.002"
        }
      },
      "statement_dependencies": [
        {
          "statement_name": "Patient",
          "statement_references": []
        },
        {
          "statement_name": "Bleeding Weight",
          "statement_references": []
        },
        {
          "statement_name": "Initial Population",
          "statement_references": [
            {
              "library_name": "THATKACommon",
              "statement_name": "Initial Population"
            }
          ]
        },
        {
          "statement_name": "Denominator",
          "statement_references": [
            {
              "library_name": "THATKACommon",
              "statement_name": "Denominator"
            }
          ]
        },
        {
          "statement_name": "Denominator Exclusion",
          "statement_references": [
            {
              "library_name": "THATKACommon",
              "statement_name": "Common Denominator Exclusions"
            }
          ]
        },
        {
          "statement_name": "Numerator",
          "statement_references": [
            {
              "library_name": "THATKACommon",
              "statement_name": "Bleeding-Specific Numerator"
            },
            {
              "library_name": "THATKACommon",
              "statement_name": "VTE-Specific Numerator"
            }
          ]
        },
        {
          "statement_name": "SDE Ethnicity",
          "statement_references": []
        },
        {
          "statement_name": "SDE Payer",
          "statement_references": []
        },
        {
          "statement_name": "SDE Race",
          "statement_references": []
        },
        {
          "statement_name": "SDE Sex",
          "statement_references": []
        },
        {
          "statement_name": "VTE Weight",
          "statement_references": []
        },
        {
          "statement_name": "ToScore",
          "statement_references": []
        },
        {
          "statement_name": "Measure Denominator Score",
          "statement_references": [
            {
              "library_name": "CombinedVTEandBleedingRatio",
              "statement_name": "ToScore"
            },
            {
              "library_name": "THATKACommon",
              "statement_name": "Denominator"
            },
            {
              "library_name": "THATKACommon",
              "statement_name": "VTE-Specific Denominator Exclusions"
            },
            {

              "library_name": "CombinedVTEandBleedingRatio",
              "statement_name": "VTE Weight"
            },
            {
              "_id": "60d2433eb7b4da5e252cb549",
              "library_name": "THATKACommon",
              "statement_name": "Bleeding-Specific Denominator Exclusions"
            },
            {
              "_id": "60d2433eb7b4da5e252cb54a",
              "library_name": "CombinedVTEandBleedingRatio",
              "statement_name": "Bleeding Weight"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb54b",
          "statement_name": "Measure Numerator Score",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb54c",
              "library_name": "CombinedVTEandBleedingRatio",
              "statement_name": "ToScore"
            },
            {
              "_id": "60d2433eb7b4da5e252cb54d",
              "library_name": "THATKACommon",
              "statement_name": "VTE-Specific Numerator"
            },
            {
              "_id": "60d2433eb7b4da5e252cb54e",
              "library_name": "THATKACommon",
              "statement_name": "VTE-Specific Denominator Exclusions"
            },
            {
              "_id": "60d2433eb7b4da5e252cb54f",
              "library_name": "CombinedVTEandBleedingRatio",
              "statement_name": "VTE Weight"
            },
            {
              "_id": "60d2433eb7b4da5e252cb550",
              "library_name": "THATKACommon",
              "statement_name": "Bleeding-Specific Numerator"
            },
            {
              "_id": "60d2433eb7b4da5e252cb551",
              "library_name": "THATKACommon",
              "statement_name": "Bleeding-Specific Denominator Exclusions"
            },
            {
              "_id": "60d2433eb7b4da5e252cb552",
              "library_name": "CombinedVTEandBleedingRatio",
              "statement_name": "Bleeding Weight"
            }
          ]
        }
      ]
    },
    {
      "is_main_library": false,
      "is_top_level": true,
      "_id": "60d2433eb7b4da5e252cb553",
      "library_name": "MATGlobalCommonFunctionsNEW",
      "library_version": "7.0.000",
      "elm": {
        "library": {
          "annotation": [
            {
              "translatorOptions": "EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion,DisableMethodInvocation",
              "type": "CqlToElmInfo"
            },
            {
              "type": "Annotation",
              "s": {
                "r": "448",
                "s": [
                  {
                    "value": [
                      "",
                      "library MATGlobalCommonFunctionsNEW version '7.0.000'"
                    ]
                  }
                ]
              }
            }
          ],
          "identifier": {
            "id": "MATGlobalCommonFunctionsNEW",
            "version": "7.0.000"
          },
          "schemaIdentifier": {
            "id": "urn:hl7-org:elm",
            "version": "r1"
          },
          "usings": {
            "def": [
              {
                "localIdentifier": "System",
                "uri": "urn:hl7-org:elm-types:r1"
              },
              {
                "localId": "1",
                "locator": "5:1-5:23",
                "localIdentifier": "QDM",
                "uri": "urn:healthit-gov:qdm:v5_6",
                "version": "5.6",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "1",
                      "s": [
                        {
                          "value": [
                            "/*This is an interim version for use prior to AU 2020 release.  We anticipate another release for inclusion with the program measures in Spring 2020*/",
                            "using "
                          ]
                        },
                        {
                          "s": [
                            {
                              "value": [
                                "QDM"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " version ",
                            "'5.6'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              }
            ]
          },
          "parameters": {
            "def": [
              {
                "localId": "9",
                "locator": "13:1-13:49",
                "name": "Measurement Period",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "9",
                      "s": [
                        {
                          "value": [
                            "",
                            "parameter ",
                            "\"Measurement Period\"",
                            " "
                          ]
                        },
                        {
                          "r": "8",
                          "s": [
                            {
                              "value": [
                                "Interval<"
                              ]
                            },
                            {
                              "r": "7",
                              "s": [
                                {
                                  "value": [
                                    "DateTime"
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                ">"
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "parameterTypeSpecifier": {
                  "localId": "8",
                  "locator": "13:32-13:49",
                  "type": "IntervalTypeSpecifier",
                  "pointType": {
                    "localId": "7",
                    "locator": "13:41-13:48",
                    "name": "{urn:hl7-org:elm-types:r1}DateTime",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            ]
          },
          "valueSets": {
            "def": [
              {
                "localId": "2",
                "locator": "7:1-7:82",
                "name": "Emergency Department Visit",
                "id": "2.16.840.1.113883.3.117.1.7.1.292",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "2",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Emergency Department Visit\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113883.3.117.1.7.1.292'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "3",
                "locator": "8:1-8:71",
                "name": "Encounter Inpatient",
                "id": "2.16.840.1.113883.3.666.5.307",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "3",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Encounter Inpatient\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113883.3.666.5.307'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "4",
                "locator": "9:1-9:72",
                "name": "Intensive Care Unit",
                "id": "2.16.840.1.113762.1.4.1029.206",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "4",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Intensive Care Unit\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113762.1.4.1029.206'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "5",
                "locator": "10:1-10:73",
                "name": "Observation Services",
                "id": "2.16.840.1.113762.1.4.1111.143",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "5",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Observation Services\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113762.1.4.1111.143'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "6",
                "locator": "11:1-11:78",
                "name": "Outpatient Surgery Service",
                "id": "2.16.840.1.113762.1.4.1110.38",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "6",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Outpatient Surgery Service\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113762.1.4.1110.38'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              }
            ]
          },
          "contexts": {
            "def": [
              {
                "locator": "15:1-15:15",
                "name": "Patient"
              }
            ]
          },
          "statements": {
            "def": [
              {
                "locator": "15:1-15:15",
                "name": "Patient",
                "context": "Patient",
                "expression": {
                  "type": "SingletonFrom",
                  "operand": {
                    "locator": "15:1-15:15",
                    "dataType": "{urn:healthit-gov:qdm:v5_6}Patient",
                    "templateId": "Patient",
                    "type": "Retrieve"
                  }
                }
              },
              {
                "localId": "11",
                "locator": "17:1-18:56",
                "name": "ED Encounter",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "11",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"ED Encounter\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "10",
                          "s": [
                            {
                              "value": [
                                "[",
                                "\"Encounter, Performed\"",
                                ": "
                              ]
                            },
                            {
                              "s": [
                                {
                                  "value": [
                                    "\"Emergency Department Visit\""
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "]"
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "10",
                  "locator": "18:3-18:56",
                  "dataType": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                  "templateId": "PositiveEncounterPerformed",
                  "codeProperty": "code",
                  "codeComparator": "in",
                  "type": "Retrieve",
                  "codes": {
                    "locator": "18:28-18:55",
                    "name": "Emergency Department Visit",
                    "type": "ValueSetRef"
                  }
                }
              },
              {
                "localId": "23",
                "locator": "50:1-51:60",
                "name": "LengthInDays",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "23",
                      "s": [
                        {
                          "value": [
                            "/*calculates the difference in calendar days between the start and end of the given interval.*/",
                            "define function ",
                            "\"LengthInDays\"",
                            "(",
                            "Value",
                            " "
                          ]
                        },
                        {
                          "r": "17",
                          "s": [
                            {
                              "value": [
                                "Interval<"
                              ]
                            },
                            {
                              "r": "16",
                              "s": [
                                {
                                  "value": [
                                    "DateTime"
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                ">"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "22",
                          "s": [
                            {
                              "r": "22",
                              "s": [
                                {
                                  "value": [
                                    "difference in days between "
                                  ]
                                },
                                {
                                  "r": "19",
                                  "s": [
                                    {
                                      "value": [
                                        "start of "
                                      ]
                                    },
                                    {
                                      "r": "18",
                                      "s": [
                                        {
                                          "value": [
                                            "Value"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    " and "
                                  ]
                                },
                                {
                                  "r": "21",
                                  "s": [
                                    {
                                      "value": [
                                        "end of "
                                      ]
                                    },
                                    {
                                      "r": "20",
                                      "s": [
                                        {
                                          "value": [
                                            "Value"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "22",
                  "locator": "51:3-51:60",
                  "precision": "Day",
                  "type": "DifferenceBetween",
                  "operand": [
                    {
                      "localId": "19",
                      "locator": "51:30-51:43",
                      "type": "Start",
                      "operand": {
                        "localId": "18",
                        "locator": "51:39-51:43",
                        "name": "Value",
                        "type": "OperandRef"
                      }
                    },
                    {
                      "localId": "21",
                      "locator": "51:49-51:60",
                      "type": "End",
                      "operand": {
                        "localId": "20",
                        "locator": "51:56-51:60",
                        "name": "Value",
                        "type": "OperandRef"
                      }
                    }
                  ]
                },
                "operand": [
                  {
                    "name": "Value",
                    "operandTypeSpecifier": {
                      "localId": "17",
                      "locator": "50:38-50:55",
                      "type": "IntervalTypeSpecifier",
                      "pointType": {
                        "localId": "16",
                        "locator": "50:47-50:54",
                        "name": "{urn:hl7-org:elm-types:r1}DateTime",
                        "type": "NamedTypeSpecifier"
                      }
                    }
                  }
                ]
              },
              {
                "localId": "33",
                "locator": "20:1-23:83",
                "name": "Inpatient Encounter",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "33",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Inpatient Encounter\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "32",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "13",
                                  "s": [
                                    {
                                      "r": "12",
                                      "s": [
                                        {
                                          "r": "12",
                                          "s": [
                                            {
                                              "value": [
                                                "[",
                                                "\"Encounter, Performed\"",
                                                ": "
                                              ]
                                            },
                                            {
                                              "s": [
                                                {
                                                  "value": [
                                                    "\"Encounter Inpatient\""
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "]"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "EncounterInpatient"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "31",
                              "s": [
                                {
                                  "value": [
                                    "where "
                                  ]
                                },
                                {
                                  "r": "31",
                                  "s": [
                                    {
                                      "r": "26",
                                      "s": [
                                        {
                                          "r": "24",
                                          "s": [
                                            {
                                              "value": [
                                                "\"LengthInDays\"",
                                                "("
                                              ]
                                            },
                                            {
                                              "r": "15",
                                              "s": [
                                                {
                                                  "r": "14",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "EncounterInpatient"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "."
                                                  ]
                                                },
                                                {
                                                  "r": "15",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "relevantPeriod"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                ")"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "r": "25",
                                          "value": [
                                            "<=",
                                            " ",
                                            "120"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        "\n      and "
                                      ]
                                    },
                                    {
                                      "r": "30",
                                      "s": [
                                        {
                                          "r": "28",
                                          "s": [
                                            {
                                              "r": "27",
                                              "s": [
                                                {
                                                  "value": [
                                                    "EncounterInpatient"
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "."
                                              ]
                                            },
                                            {
                                              "r": "28",
                                              "s": [
                                                {
                                                  "value": [
                                                    "relevantPeriod"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "r": "30",
                                          "value": [
                                            " ",
                                            "ends during day of",
                                            " "
                                          ]
                                        },
                                        {
                                          "r": "29",
                                          "s": [
                                            {
                                              "value": [
                                                "\"Measurement Period\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "32",
                  "locator": "21:3-23:83",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "13",
                      "locator": "21:3-21:68",
                      "alias": "EncounterInpatient",
                      "expression": {
                        "localId": "12",
                        "locator": "21:3-21:49",
                        "dataType": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                        "templateId": "PositiveEncounterPerformed",
                        "codeProperty": "code",
                        "codeComparator": "in",
                        "type": "Retrieve",
                        "codes": {
                          "locator": "21:28-21:48",
                          "name": "Encounter Inpatient",
                          "type": "ValueSetRef"
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "31",
                    "locator": "22:5-23:83",
                    "type": "And",
                    "operand": [
                      {
                        "localId": "26",
                        "locator": "22:11-22:65",
                        "type": "LessOrEqual",
                        "operand": [
                          {
                            "localId": "24",
                            "locator": "22:11-22:59",
                            "name": "LengthInDays",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "15",
                                "locator": "22:26-22:58",
                                "path": "relevantPeriod",
                                "scope": "EncounterInpatient",
                                "type": "Property"
                              }
                            ]
                          },
                          {
                            "localId": "25",
                            "locator": "22:63-22:65",
                            "valueType": "{urn:hl7-org:elm-types:r1}Integer",
                            "value": "120",
                            "type": "Literal"
                          }
                        ]
                      },
                      {
                        "localId": "30",
                        "locator": "23:11-23:83",
                        "precision": "Day",
                        "type": "In",
                        "operand": [
                          {
                            "locator": "23:45-23:48",
                            "type": "End",
                            "operand": {
                              "localId": "28",
                              "locator": "23:11-23:43",
                              "path": "relevantPeriod",
                              "scope": "EncounterInpatient",
                              "type": "Property"
                            }
                          },
                          {
                            "localId": "29",
                            "locator": "23:64-23:83",
                            "name": "Measurement Period",
                            "type": "ParameterRef"
                          }
                        ]
                      }
                    ]
                  }
                }
              },
              {
                "localId": "41",
                "locator": "26:1-27:52",
                "name": "CalendarAgeInDaysAt",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "41",
                      "s": [
                        {
                          "value": [
                            "/*CalendarAgeInDaysAt calculates the calendar age (meaning the age without considering time components) in days.*/",
                            "define function ",
                            "\"CalendarAgeInDaysAt\"",
                            "(",
                            "BirthDateTime",
                            " "
                          ]
                        },
                        {
                          "r": "34",
                          "s": [
                            {
                              "value": [
                                "DateTime"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            ", ",
                            "AsOf",
                            " "
                          ]
                        },
                        {
                          "r": "35",
                          "s": [
                            {
                              "value": [
                                "DateTime"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "40",
                          "s": [
                            {
                              "r": "40",
                              "s": [
                                {
                                  "value": [
                                    "days between "
                                  ]
                                },
                                {
                                  "r": "37",
                                  "s": [
                                    {
                                      "value": [
                                        "ToDate",
                                        "("
                                      ]
                                    },
                                    {
                                      "r": "36",
                                      "s": [
                                        {
                                          "value": [
                                            "BirthDateTime"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        ")"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "and "
                                  ]
                                },
                                {
                                  "r": "39",
                                  "s": [
                                    {
                                      "value": [
                                        "ToDate",
                                        "("
                                      ]
                                    },
                                    {
                                      "r": "38",
                                      "s": [
                                        {
                                          "value": [
                                            "AsOf"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        ")"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "40",
                  "locator": "27:3-27:52",
                  "precision": "Day",
                  "type": "DurationBetween",
                  "operand": [
                    {
                      "localId": "37",
                      "locator": "27:16-27:36",
                      "type": "ToDate",
                      "operand": {
                        "localId": "36",
                        "locator": "27:23-27:35",
                        "name": "BirthDateTime",
                        "type": "OperandRef"
                      }
                    },
                    {
                      "localId": "39",
                      "locator": "27:41-27:52",
                      "type": "ToDate",
                      "operand": {
                        "localId": "38",
                        "locator": "27:48-27:51",
                        "name": "AsOf",
                        "type": "OperandRef"
                      }
                    }
                  ]
                },
                "operand": [
                  {
                    "name": "BirthDateTime",
                    "operandTypeSpecifier": {
                      "localId": "34",
                      "locator": "26:53-26:60",
                      "name": "{urn:hl7-org:elm-types:r1}DateTime",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  {
                    "name": "AsOf",
                    "operandTypeSpecifier": {
                      "localId": "35",
                      "locator": "26:68-26:75",
                      "name": "{urn:hl7-org:elm-types:r1}DateTime",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              {
                "localId": "46",
                "locator": "30:1-31:45",
                "name": "CalendarAgeInDays",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "46",
                      "s": [
                        {
                          "value": [
                            "/*CalendarAgeInDays calculates the calendar age (meaning the age without considering time components) in days as of today*/",
                            "define function ",
                            "\"CalendarAgeInDays\"",
                            "(",
                            "BirthDateTime",
                            " "
                          ]
                        },
                        {
                          "r": "42",
                          "s": [
                            {
                              "value": [
                                "DateTime"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "45",
                          "s": [
                            {
                              "r": "45",
                              "s": [
                                {
                                  "value": [
                                    "CalendarAgeInDaysAt",
                                    "("
                                  ]
                                },
                                {
                                  "r": "43",
                                  "s": [
                                    {
                                      "value": [
                                        "BirthDateTime"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    ", "
                                  ]
                                },
                                {
                                  "r": "44",
                                  "s": [
                                    {
                                      "value": [
                                        "Today",
                                        "()"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    ")"
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "45",
                  "locator": "31:3-31:45",
                  "name": "CalendarAgeInDaysAt",
                  "type": "FunctionRef",
                  "operand": [
                    {
                      "localId": "43",
                      "locator": "31:23-31:35",
                      "name": "BirthDateTime",
                      "type": "OperandRef"
                    },
                    {
                      "type": "ToDateTime",
                      "operand": {
                        "localId": "44",
                        "locator": "31:38-31:44",
                        "type": "Today"
                      }
                    }
                  ]
                },
                "operand": [
                  {
                    "name": "BirthDateTime",
                    "operandTypeSpecifier": {
                      "localId": "42",
                      "locator": "30:51-30:58",
                      "name": "{urn:hl7-org:elm-types:r1}DateTime",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              {
                "localId": "54",
                "locator": "34:1-35:54",
                "name": "CalendarAgeInMonthsAt",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "54",
                      "s": [
                        {
                          "value": [
                            "/*CalendarAgeInMonthsAt calculates the calendar age (meaning the age without considering time components) in months.*/",
                            "define function ",
                            "\"CalendarAgeInMonthsAt\"",
                            "(",
                            "BirthDateTime",
                            " "
                          ]
                        },
                        {
                          "r": "47",
                          "s": [
                            {
                              "value": [
                                "DateTime"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            ", ",
                            "AsOf",
                            " "
                          ]
                        },
                        {
                          "r": "48",
                          "s": [
                            {
                              "value": [
                                "DateTime"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "53",
                          "s": [
                            {
                              "r": "53",
                              "s": [
                                {
                                  "value": [
                                    "months between "
                                  ]
                                },
                                {
                                  "r": "50",
                                  "s": [
                                    {
                                      "value": [
                                        "ToDate",
                                        "("
                                      ]
                                    },
                                    {
                                      "r": "49",
                                      "s": [
                                        {
                                          "value": [
                                            "BirthDateTime"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        ")"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "and "
                                  ]
                                },
                                {
                                  "r": "52",
                                  "s": [
                                    {
                                      "value": [
                                        "ToDate",
                                        "("
                                      ]
                                    },
                                    {
                                      "r": "51",
                                      "s": [
                                        {
                                          "value": [
                                            "AsOf"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        ")"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "53",
                  "locator": "35:3-35:54",
                  "precision": "Month",
                  "type": "DurationBetween",
                  "operand": [
                    {
                      "localId": "50",
                      "locator": "35:18-35:38",
                      "type": "ToDate",
                      "operand": {
                        "localId": "49",
                        "locator": "35:25-35:37",
                        "name": "BirthDateTime",
                        "type": "OperandRef"
                      }
                    },
                    {
                      "localId": "52",
                      "locator": "35:43-35:54",
                      "type": "ToDate",
                      "operand": {
                        "localId": "51",
                        "locator": "35:50-35:53",
                        "name": "AsOf",
                        "type": "OperandRef"
                      }
                    }
                  ]
                },
                "operand": [
                  {
                    "name": "BirthDateTime",
                    "operandTypeSpecifier": {
                      "localId": "47",
                      "locator": "34:55-34:62",
                      "name": "{urn:hl7-org:elm-types:r1}DateTime",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  {
                    "name": "AsOf",
                    "operandTypeSpecifier": {
                      "localId": "48",
                      "locator": "34:70-34:77",
                      "name": "{urn:hl7-org:elm-types:r1}DateTime",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              {
                "localId": "59",
                "locator": "38:1-39:47",
                "name": "CalendarAgeInMonths",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "59",
                      "s": [
                        {
                          "value": [
                            "/*CalendarAgeInMonths calculates the calendar age (meaning the age without considering time components) in months as of today.*/",
                            "define function ",
                            "\"CalendarAgeInMonths\"",
                            "(",
                            "BirthDateTime",
                            " "
                          ]
                        },
                        {
                          "r": "55",
                          "s": [
                            {
                              "value": [
                                "DateTime"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "58",
                          "s": [
                            {
                              "r": "58",
                              "s": [
                                {
                                  "value": [
                                    "CalendarAgeInMonthsAt",
                                    "("
                                  ]
                                },
                                {
                                  "r": "56",
                                  "s": [
                                    {
                                      "value": [
                                        "BirthDateTime"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    ", "
                                  ]
                                },
                                {
                                  "r": "57",
                                  "s": [
                                    {
                                      "value": [
                                        "Today",
                                        "()"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    ")"
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "58",
                  "locator": "39:3-39:47",
                  "name": "CalendarAgeInMonthsAt",
                  "type": "FunctionRef",
                  "operand": [
                    {
                      "localId": "56",
                      "locator": "39:25-39:37",
                      "name": "BirthDateTime",
                      "type": "OperandRef"
                    },
                    {
                      "type": "ToDateTime",
                      "operand": {
                        "localId": "57",
                        "locator": "39:40-39:46",
                        "type": "Today"
                      }
                    }
                  ]
                },
                "operand": [
                  {
                    "name": "BirthDateTime",
                    "operandTypeSpecifier": {
                      "localId": "55",
                      "locator": "38:53-38:60",
                      "name": "{urn:hl7-org:elm-types:r1}DateTime",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              {
                "localId": "67",
                "locator": "42:1-43:53",
                "name": "CalendarAgeInYearsAt",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "67",
                      "s": [
                        {
                          "value": [
                            "/*CalendarAgeInYearsAt calculates the calendar age (meaning the age without considering time components) in years.*/",
                            "define function ",
                            "\"CalendarAgeInYearsAt\"",
                            "(",
                            "BirthDateTime",
                            " "
                          ]
                        },
                        {
                          "r": "60",
                          "s": [
                            {
                              "value": [
                                "DateTime"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            ", ",
                            "AsOf",
                            " "
                          ]
                        },
                        {
                          "r": "61",
                          "s": [
                            {
                              "value": [
                                "DateTime"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "66",
                          "s": [
                            {
                              "r": "66",
                              "s": [
                                {
                                  "value": [
                                    "years between "
                                  ]
                                },
                                {
                                  "r": "63",
                                  "s": [
                                    {
                                      "value": [
                                        "ToDate",
                                        "("
                                      ]
                                    },
                                    {
                                      "r": "62",
                                      "s": [
                                        {
                                          "value": [
                                            "BirthDateTime"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        ")"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "and "
                                  ]
                                },
                                {
                                  "r": "65",
                                  "s": [
                                    {
                                      "value": [
                                        "ToDate",
                                        "("
                                      ]
                                    },
                                    {
                                      "r": "64",
                                      "s": [
                                        {
                                          "value": [
                                            "AsOf"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        ")"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "66",
                  "locator": "43:3-43:53",
                  "precision": "Year",
                  "type": "DurationBetween",
                  "operand": [
                    {
                      "localId": "63",
                      "locator": "43:17-43:37",
                      "type": "ToDate",
                      "operand": {
                        "localId": "62",
                        "locator": "43:24-43:36",
                        "name": "BirthDateTime",
                        "type": "OperandRef"
                      }
                    },
                    {
                      "localId": "65",
                      "locator": "43:42-43:53",
                      "type": "ToDate",
                      "operand": {
                        "localId": "64",
                        "locator": "43:49-43:52",
                        "name": "AsOf",
                        "type": "OperandRef"
                      }
                    }
                  ]
                },
                "operand": [
                  {
                    "name": "BirthDateTime",
                    "operandTypeSpecifier": {
                      "localId": "60",
                      "locator": "42:54-42:61",
                      "name": "{urn:hl7-org:elm-types:r1}DateTime",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  {
                    "name": "AsOf",
                    "operandTypeSpecifier": {
                      "localId": "61",
                      "locator": "42:69-42:76",
                      "name": "{urn:hl7-org:elm-types:r1}DateTime",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              {
                "localId": "72",
                "locator": "46:1-47:46",
                "name": "CalendarAgeInYears",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "72",
                      "s": [
                        {
                          "value": [
                            "/*CalendarAgeInYears calculates the calendar age (meaning the age without considering time components) in years as of today.*/",
                            "define function ",
                            "\"CalendarAgeInYears\"",
                            "(",
                            "BirthDateTime",
                            " "
                          ]
                        },
                        {
                          "r": "68",
                          "s": [
                            {
                              "value": [
                                "DateTime"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "71",
                          "s": [
                            {
                              "r": "71",
                              "s": [
                                {
                                  "value": [
                                    "CalendarAgeInYearsAt",
                                    "("
                                  ]
                                },
                                {
                                  "r": "69",
                                  "s": [
                                    {
                                      "value": [
                                        "BirthDateTime"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    ", "
                                  ]
                                },
                                {
                                  "r": "70",
                                  "s": [
                                    {
                                      "value": [
                                        "Today",
                                        "()"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    ")"
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "71",
                  "locator": "47:3-47:46",
                  "name": "CalendarAgeInYearsAt",
                  "type": "FunctionRef",
                  "operand": [
                    {
                      "localId": "69",
                      "locator": "47:24-47:36",
                      "name": "BirthDateTime",
                      "type": "OperandRef"
                    },
                    {
                      "type": "ToDateTime",
                      "operand": {
                        "localId": "70",
                        "locator": "47:39-47:45",
                        "type": "Today"
                      }
                    }
                  ]
                },
                "operand": [
                  {
                    "name": "BirthDateTime",
                    "operandTypeSpecifier": {
                      "localId": "68",
                      "locator": "46:52-46:59",
                      "name": "{urn:hl7-org:elm-types:r1}DateTime",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              {
                "localId": "108",
                "locator": "54:1-62:71",
                "name": "HospitalizationLocations",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "108",
                      "s": [
                        {
                          "value": [
                            "/* returns list of all locations within an encounter, including locations for immediately prior ED visit. */",
                            "define function ",
                            "\"HospitalizationLocations\"",
                            "(",
                            "Encounter",
                            " "
                          ]
                        },
                        {
                          "r": "76",
                          "s": [
                            {
                              "value": [
                                "\"Encounter, Performed\""
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "107",
                          "s": [
                            {
                              "r": "107",
                              "s": [
                                {
                                  "s": [
                                    {
                                      "r": "78",
                                      "s": [
                                        {
                                          "r": "77",
                                          "s": [
                                            {
                                              "s": [
                                                {
                                                  "value": [
                                                    "Encounter"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " ",
                                            "Visit"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n  \t"
                                  ]
                                },
                                {
                                  "s": [
                                    {
                                      "value": [
                                        "let "
                                      ]
                                    },
                                    {
                                      "r": "94",
                                      "s": [
                                        {
                                          "value": [
                                            "EDVisit",
                                            ": "
                                          ]
                                        },
                                        {
                                          "r": "93",
                                          "s": [
                                            {
                                              "value": [
                                                "Last",
                                                "("
                                              ]
                                            },
                                            {
                                              "r": "92",
                                              "s": [
                                                {
                                                  "s": [
                                                    {
                                                      "r": "80",
                                                      "s": [
                                                        {
                                                          "r": "79",
                                                          "s": [
                                                            {
                                                              "r": "79",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "[",
                                                                    "\"Encounter, Performed\"",
                                                                    ": "
                                                                  ]
                                                                },
                                                                {
                                                                  "s": [
                                                                    {
                                                                      "value": [
                                                                        "\"Emergency Department Visit\""
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "value": [
                                                                    "]"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            " ",
                                                            "LastED"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "\n  \t\t\t"
                                                  ]
                                                },
                                                {
                                                  "r": "87",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "where "
                                                      ]
                                                    },
                                                    {
                                                      "r": "87",
                                                      "s": [
                                                        {
                                                          "r": "82",
                                                          "s": [
                                                            {
                                                              "r": "81",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "LastED"
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                "."
                                                              ]
                                                            },
                                                            {
                                                              "r": "82",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "relevantPeriod"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            " "
                                                          ]
                                                        },
                                                        {
                                                          "r": "87",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "ends "
                                                              ]
                                                            },
                                                            {
                                                              "r": "86",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "1 ",
                                                                    "hour"
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                " or less on or before"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            " "
                                                          ]
                                                        },
                                                        {
                                                          "r": "85",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "start of "
                                                              ]
                                                            },
                                                            {
                                                              "r": "84",
                                                              "s": [
                                                                {
                                                                  "r": "83",
                                                                  "s": [
                                                                    {
                                                                      "value": [
                                                                        "Visit"
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "value": [
                                                                    "."
                                                                  ]
                                                                },
                                                                {
                                                                  "r": "84",
                                                                  "s": [
                                                                    {
                                                                      "value": [
                                                                        "relevantPeriod"
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "\n  \t\t\t"
                                                  ]
                                                },
                                                {
                                                  "r": "91",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "sort by \n  \t\t\t"
                                                      ]
                                                    },
                                                    {
                                                      "r": "90",
                                                      "s": [
                                                        {
                                                          "r": "89",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "end of "
                                                              ]
                                                            },
                                                            {
                                                              "r": "88",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "relevantPeriod"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n  \t)"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n  \t"
                                  ]
                                },
                                {
                                  "r": "106",
                                  "s": [
                                    {
                                      "value": [
                                        "return "
                                      ]
                                    },
                                    {
                                      "r": "105",
                                      "s": [
                                        {
                                          "value": [
                                            "if "
                                          ]
                                        },
                                        {
                                          "r": "96",
                                          "s": [
                                            {
                                              "r": "95",
                                              "s": [
                                                {
                                                  "value": [
                                                    "EDVisit"
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                " is null"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " then "
                                          ]
                                        },
                                        {
                                          "r": "98",
                                          "s": [
                                            {
                                              "r": "97",
                                              "s": [
                                                {
                                                  "value": [
                                                    "Visit"
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "."
                                              ]
                                            },
                                            {
                                              "r": "98",
                                              "s": [
                                                {
                                                  "value": [
                                                    "facilityLocations"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " \n  \t\telse "
                                          ]
                                        },
                                        {
                                          "r": "104",
                                          "s": [
                                            {
                                              "value": [
                                                "flatten "
                                              ]
                                            },
                                            {
                                              "r": "103",
                                              "s": [
                                                {
                                                  "value": [
                                                    "{ "
                                                  ]
                                                },
                                                {
                                                  "r": "100",
                                                  "s": [
                                                    {
                                                      "r": "99",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "EDVisit"
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "."
                                                      ]
                                                    },
                                                    {
                                                      "r": "100",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "facilityLocations"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    ", "
                                                  ]
                                                },
                                                {
                                                  "r": "102",
                                                  "s": [
                                                    {
                                                      "r": "101",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "Visit"
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "."
                                                      ]
                                                    },
                                                    {
                                                      "r": "102",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "facilityLocations"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    " }"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "107",
                  "locator": "55:3-62:71",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "78",
                      "locator": "55:3-55:17",
                      "alias": "Visit",
                      "expression": {
                        "localId": "77",
                        "locator": "55:3-55:11",
                        "name": "Encounter",
                        "type": "OperandRef"
                      }
                    }
                  ],
                  "let": [
                    {
                      "localId": "94",
                      "locator": "56:8-60:4",
                      "identifier": "EDVisit",
                      "expression": {
                        "localId": "93",
                        "locator": "56:17-60:4",
                        "type": "Last",
                        "source": {
                          "localId": "92",
                          "locator": "56:22-59:26",
                          "type": "Query",
                          "source": [
                            {
                              "localId": "80",
                              "locator": "56:22-56:82",
                              "alias": "LastED",
                              "expression": {
                                "localId": "79",
                                "locator": "56:22-56:75",
                                "dataType": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                                "templateId": "PositiveEncounterPerformed",
                                "codeProperty": "code",
                                "codeComparator": "in",
                                "type": "Retrieve",
                                "codes": {
                                  "locator": "56:47-56:74",
                                  "name": "Emergency Department Visit",
                                  "type": "ValueSetRef"
                                }
                              }
                            }
                          ],
                          "relationship": [],
                          "where": {
                            "localId": "87",
                            "locator": "57:6-57:95",
                            "type": "And",
                            "operand": [
                              {
                                "locator": "57:39-57:52",
                                "type": "In",
                                "operand": [
                                  {
                                    "locator": "57:34-57:37",
                                    "type": "End",
                                    "operand": {
                                      "localId": "82",
                                      "locator": "57:12-57:32",
                                      "path": "relevantPeriod",
                                      "scope": "LastED",
                                      "type": "Property"
                                    }
                                  },
                                  {
                                    "locator": "57:39-57:52",
                                    "lowClosed": true,
                                    "highClosed": true,
                                    "type": "Interval",
                                    "low": {
                                      "locator": "57:67-57:95",
                                      "type": "Subtract",
                                      "operand": [
                                        {
                                          "localId": "85",
                                          "locator": "57:67-57:95",
                                          "type": "Start",
                                          "operand": {
                                            "localId": "84",
                                            "locator": "57:76-57:95",
                                            "path": "relevantPeriod",
                                            "scope": "Visit",
                                            "type": "Property"
                                          }
                                        },
                                        {
                                          "localId": "86",
                                          "locator": "57:39-57:44",
                                          "value": 1,
                                          "unit": "hour",
                                          "type": "Quantity"
                                        }
                                      ]
                                    },
                                    "high": {
                                      "localId": "85",
                                      "locator": "57:67-57:95",
                                      "type": "Start",
                                      "operand": {
                                        "localId": "84",
                                        "locator": "57:76-57:95",
                                        "path": "relevantPeriod",
                                        "scope": "Visit",
                                        "type": "Property"
                                      }
                                    }
                                  }
                                ]
                              },
                              {
                                "locator": "57:39-57:52",
                                "type": "Not",
                                "operand": {
                                  "locator": "57:39-57:52",
                                  "type": "IsNull",
                                  "operand": {
                                    "localId": "85",
                                    "locator": "57:67-57:95",
                                    "type": "Start",
                                    "operand": {
                                      "localId": "84",
                                      "locator": "57:76-57:95",
                                      "path": "relevantPeriod",
                                      "scope": "Visit",
                                      "type": "Property"
                                    }
                                  }
                                }
                              }
                            ]
                          },
                          "sort": {
                            "localId": "91",
                            "locator": "58:6-59:26",
                            "by": [
                              {
                                "localId": "90",
                                "locator": "59:6-59:26",
                                "direction": "asc",
                                "type": "ByExpression",
                                "expression": {
                                  "localId": "89",
                                  "locator": "59:6-59:26",
                                  "type": "End",
                                  "operand": {
                                    "localId": "88",
                                    "locator": "59:13-59:26",
                                    "name": "relevantPeriod",
                                    "type": "IdentifierRef"
                                  }
                                }
                              }
                            ]
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "return": {
                    "localId": "106",
                    "locator": "61:4-62:71",
                    "expression": {
                      "localId": "105",
                      "locator": "61:11-62:71",
                      "type": "If",
                      "condition": {
                        "localId": "96",
                        "locator": "61:14-61:28",
                        "type": "IsNull",
                        "operand": {
                          "localId": "95",
                          "locator": "61:14-61:20",
                          "name": "EDVisit",
                          "type": "QueryLetRef"
                        }
                      },
                      "then": {
                        "localId": "98",
                        "locator": "61:35-61:57",
                        "path": "facilityLocations",
                        "scope": "Visit",
                        "type": "Property"
                      },
                      "else": {
                        "localId": "104",
                        "locator": "62:10-62:71",
                        "type": "Flatten",
                        "operand": {
                          "localId": "103",
                          "locator": "62:18-62:71",
                          "type": "List",
                          "element": [
                            {
                              "localId": "100",
                              "locator": "62:20-62:44",
                              "path": "facilityLocations",
                              "type": "Property",
                              "source": {
                                "localId": "99",
                                "locator": "62:20-62:26",
                                "name": "EDVisit",
                                "type": "QueryLetRef"
                              }
                            },
                            {
                              "localId": "102",
                              "locator": "62:47-62:69",
                              "path": "facilityLocations",
                              "scope": "Visit",
                              "type": "Property"
                            }
                          ]
                        }
                      }
                    }
                  }
                },
                "operand": [
                  {
                    "name": "Encounter",
                    "operandTypeSpecifier": {
                      "localId": "76",
                      "locator": "54:54-54:75",
                      "name": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              {
                "localId": "125",
                "locator": "66:1-70:18",
                "name": "EmergencyDepartmentArrivalTime",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "125",
                      "s": [
                        {
                          "value": [
                            "/*Returns the arrival time in the ED for the encounter.  \n*/",
                            "define function ",
                            "\"EmergencyDepartmentArrivalTime\"",
                            "(",
                            "Encounter",
                            " "
                          ]
                        },
                        {
                          "r": "109",
                          "s": [
                            {
                              "value": [
                                "\"Encounter, Performed\""
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "124",
                          "s": [
                            {
                              "r": "124",
                              "s": [
                                {
                                  "value": [
                                    "start of "
                                  ]
                                },
                                {
                                  "r": "123",
                                  "s": [
                                    {
                                      "r": "122",
                                      "s": [
                                        {
                                          "value": [
                                            "First",
                                            "("
                                          ]
                                        },
                                        {
                                          "r": "121",
                                          "s": [
                                            {
                                              "s": [
                                                {
                                                  "r": "112",
                                                  "s": [
                                                    {
                                                      "r": "111",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "("
                                                          ]
                                                        },
                                                        {
                                                          "r": "111",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "\"HospitalizationLocations\"",
                                                                "("
                                                              ]
                                                            },
                                                            {
                                                              "r": "110",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "Encounter"
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                ")"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            ")"
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "HospitalLocation"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n  \t\t"
                                              ]
                                            },
                                            {
                                              "r": "116",
                                              "s": [
                                                {
                                                  "value": [
                                                    "where "
                                                  ]
                                                },
                                                {
                                                  "r": "116",
                                                  "s": [
                                                    {
                                                      "r": "114",
                                                      "s": [
                                                        {
                                                          "r": "113",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "HospitalLocation"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            "."
                                                          ]
                                                        },
                                                        {
                                                          "r": "114",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "code"
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        " in "
                                                      ]
                                                    },
                                                    {
                                                      "r": "115",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "\"Emergency Department Visit\""
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n  \t\t"
                                              ]
                                            },
                                            {
                                              "r": "120",
                                              "s": [
                                                {
                                                  "value": [
                                                    "sort by "
                                                  ]
                                                },
                                                {
                                                  "r": "119",
                                                  "s": [
                                                    {
                                                      "r": "118",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "start of "
                                                          ]
                                                        },
                                                        {
                                                          "r": "117",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "locationPeriod"
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "\n  )"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        "."
                                      ]
                                    },
                                    {
                                      "r": "123",
                                      "s": [
                                        {
                                          "value": [
                                            "locationPeriod"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "124",
                  "locator": "67:3-70:18",
                  "type": "Start",
                  "operand": {
                    "localId": "123",
                    "locator": "67:12-70:18",
                    "path": "locationPeriod",
                    "type": "Property",
                    "source": {
                      "localId": "122",
                      "locator": "67:12-70:3",
                      "type": "First",
                      "source": {
                        "localId": "121",
                        "locator": "67:18-69:35",
                        "type": "Query",
                        "source": [
                          {
                            "localId": "112",
                            "locator": "67:18-67:72",
                            "alias": "HospitalLocation",
                            "expression": {
                              "localId": "111",
                              "locator": "67:18-67:56",
                              "name": "HospitalizationLocations",
                              "type": "FunctionRef",
                              "operand": [
                                {
                                  "localId": "110",
                                  "locator": "67:46-67:54",
                                  "name": "Encounter",
                                  "type": "OperandRef"
                                }
                              ]
                            }
                          }
                        ],
                        "relationship": [],
                        "where": {
                          "localId": "116",
                          "locator": "68:5-68:63",
                          "type": "InValueSet",
                          "code": {
                            "localId": "114",
                            "locator": "68:11-68:31",
                            "path": "code",
                            "scope": "HospitalLocation",
                            "type": "Property"
                          },
                          "valueset": {
                            "localId": "115",
                            "locator": "68:36-68:63",
                            "name": "Emergency Department Visit",
                            "type": "ValueSetRef"
                          }
                        },
                        "sort": {
                          "localId": "120",
                          "locator": "69:5-69:35",
                          "by": [
                            {
                              "localId": "119",
                              "locator": "69:13-69:35",
                              "direction": "asc",
                              "type": "ByExpression",
                              "expression": {
                                "localId": "118",
                                "locator": "69:13-69:35",
                                "type": "Start",
                                "operand": {
                                  "localId": "117",
                                  "locator": "69:22-69:35",
                                  "name": "locationPeriod",
                                  "type": "IdentifierRef"
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  }
                },
                "operand": [
                  {
                    "name": "Encounter",
                    "operandTypeSpecifier": {
                      "localId": "109",
                      "locator": "66:60-66:81",
                      "name": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              {
                "localId": "160",
                "locator": "83:1-91:31",
                "name": "Hospitalization",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "160",
                      "s": [
                        {
                          "value": [
                            "/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/",
                            "define function ",
                            "\"Hospitalization\"",
                            "(",
                            "Encounter",
                            " "
                          ]
                        },
                        {
                          "r": "128",
                          "s": [
                            {
                              "value": [
                                "\"Encounter, Performed\""
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "159",
                          "s": [
                            {
                              "r": "159",
                              "s": [
                                {
                                  "s": [
                                    {
                                      "r": "130",
                                      "s": [
                                        {
                                          "r": "129",
                                          "s": [
                                            {
                                              "s": [
                                                {
                                                  "value": [
                                                    "Encounter"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " ",
                                            "Visit"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n  \t"
                                  ]
                                },
                                {
                                  "s": [
                                    {
                                      "value": [
                                        "let "
                                      ]
                                    },
                                    {
                                      "r": "146",
                                      "s": [
                                        {
                                          "value": [
                                            "EDVisit",
                                            ": "
                                          ]
                                        },
                                        {
                                          "r": "145",
                                          "s": [
                                            {
                                              "value": [
                                                "Last",
                                                "("
                                              ]
                                            },
                                            {
                                              "r": "144",
                                              "s": [
                                                {
                                                  "s": [
                                                    {
                                                      "r": "132",
                                                      "s": [
                                                        {
                                                          "r": "131",
                                                          "s": [
                                                            {
                                                              "r": "131",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "[",
                                                                    "\"Encounter, Performed\"",
                                                                    ": "
                                                                  ]
                                                                },
                                                                {
                                                                  "s": [
                                                                    {
                                                                      "value": [
                                                                        "\"Emergency Department Visit\""
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "value": [
                                                                    "]"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            " ",
                                                            "LastED"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "\n  \t\t\t"
                                                  ]
                                                },
                                                {
                                                  "r": "139",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "where "
                                                      ]
                                                    },
                                                    {
                                                      "r": "139",
                                                      "s": [
                                                        {
                                                          "r": "134",
                                                          "s": [
                                                            {
                                                              "r": "133",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "LastED"
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                "."
                                                              ]
                                                            },
                                                            {
                                                              "r": "134",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "relevantPeriod"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            " "
                                                          ]
                                                        },
                                                        {
                                                          "r": "139",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "ends "
                                                              ]
                                                            },
                                                            {
                                                              "r": "138",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "1 ",
                                                                    "hour"
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                " or less on or before"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            " "
                                                          ]
                                                        },
                                                        {
                                                          "r": "137",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "start of "
                                                              ]
                                                            },
                                                            {
                                                              "r": "136",
                                                              "s": [
                                                                {
                                                                  "r": "135",
                                                                  "s": [
                                                                    {
                                                                      "value": [
                                                                        "Visit"
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "value": [
                                                                    "."
                                                                  ]
                                                                },
                                                                {
                                                                  "r": "136",
                                                                  "s": [
                                                                    {
                                                                      "value": [
                                                                        "relevantPeriod"
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "\n  \t\t\t"
                                                  ]
                                                },
                                                {
                                                  "r": "143",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "sort by \n  \t\t\t"
                                                      ]
                                                    },
                                                    {
                                                      "r": "142",
                                                      "s": [
                                                        {
                                                          "r": "141",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "end of "
                                                              ]
                                                            },
                                                            {
                                                              "r": "140",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "relevantPeriod"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n  \t)"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n  \t"
                                  ]
                                },
                                {
                                  "r": "158",
                                  "s": [
                                    {
                                      "value": [
                                        "return "
                                      ]
                                    },
                                    {
                                      "r": "157",
                                      "s": [
                                        {
                                          "value": [
                                            "Interval["
                                          ]
                                        },
                                        {
                                          "r": "153",
                                          "s": [
                                            {
                                              "value": [
                                                "Coalesce",
                                                "("
                                              ]
                                            },
                                            {
                                              "r": "149",
                                              "s": [
                                                {
                                                  "value": [
                                                    "start of "
                                                  ]
                                                },
                                                {
                                                  "r": "148",
                                                  "s": [
                                                    {
                                                      "r": "147",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "EDVisit"
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "."
                                                      ]
                                                    },
                                                    {
                                                      "r": "148",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "relevantPeriod"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                ", "
                                              ]
                                            },
                                            {
                                              "r": "152",
                                              "s": [
                                                {
                                                  "value": [
                                                    "start of "
                                                  ]
                                                },
                                                {
                                                  "r": "151",
                                                  "s": [
                                                    {
                                                      "r": "150",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "Visit"
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "."
                                                      ]
                                                    },
                                                    {
                                                      "r": "151",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "relevantPeriod"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                ")"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            ", \n  \t"
                                          ]
                                        },
                                        {
                                          "r": "156",
                                          "s": [
                                            {
                                              "value": [
                                                "end of "
                                              ]
                                            },
                                            {
                                              "r": "155",
                                              "s": [
                                                {
                                                  "r": "154",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "Visit"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "."
                                                  ]
                                                },
                                                {
                                                  "r": "155",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "relevantPeriod"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "]"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "159",
                  "locator": "84:3-91:31",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "130",
                      "locator": "84:3-84:17",
                      "alias": "Visit",
                      "expression": {
                        "localId": "129",
                        "locator": "84:3-84:11",
                        "name": "Encounter",
                        "type": "OperandRef"
                      }
                    }
                  ],
                  "let": [
                    {
                      "localId": "146",
                      "locator": "85:8-89:4",
                      "identifier": "EDVisit",
                      "expression": {
                        "localId": "145",
                        "locator": "85:17-89:4",
                        "type": "Last",
                        "source": {
                          "localId": "144",
                          "locator": "85:22-88:26",
                          "type": "Query",
                          "source": [
                            {
                              "localId": "132",
                              "locator": "85:22-85:82",
                              "alias": "LastED",
                              "expression": {
                                "localId": "131",
                                "locator": "85:22-85:75",
                                "dataType": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                                "templateId": "PositiveEncounterPerformed",
                                "codeProperty": "code",
                                "codeComparator": "in",
                                "type": "Retrieve",
                                "codes": {
                                  "locator": "85:47-85:74",
                                  "name": "Emergency Department Visit",
                                  "type": "ValueSetRef"
                                }
                              }
                            }
                          ],
                          "relationship": [],
                          "where": {
                            "localId": "139",
                            "locator": "86:6-86:95",
                            "type": "And",
                            "operand": [
                              {
                                "locator": "86:39-86:52",
                                "type": "In",
                                "operand": [
                                  {
                                    "locator": "86:34-86:37",
                                    "type": "End",
                                    "operand": {
                                      "localId": "134",
                                      "locator": "86:12-86:32",
                                      "path": "relevantPeriod",
                                      "scope": "LastED",
                                      "type": "Property"
                                    }
                                  },
                                  {
                                    "locator": "86:39-86:52",
                                    "lowClosed": true,
                                    "highClosed": true,
                                    "type": "Interval",
                                    "low": {
                                      "locator": "86:67-86:95",
                                      "type": "Subtract",
                                      "operand": [
                                        {
                                          "localId": "137",
                                          "locator": "86:67-86:95",
                                          "type": "Start",
                                          "operand": {
                                            "localId": "136",
                                            "locator": "86:76-86:95",
                                            "path": "relevantPeriod",
                                            "scope": "Visit",
                                            "type": "Property"
                                          }
                                        },
                                        {
                                          "localId": "138",
                                          "locator": "86:39-86:44",
                                          "value": 1,
                                          "unit": "hour",
                                          "type": "Quantity"
                                        }
                                      ]
                                    },
                                    "high": {
                                      "localId": "137",
                                      "locator": "86:67-86:95",
                                      "type": "Start",
                                      "operand": {
                                        "localId": "136",
                                        "locator": "86:76-86:95",
                                        "path": "relevantPeriod",
                                        "scope": "Visit",
                                        "type": "Property"
                                      }
                                    }
                                  }
                                ]
                              },
                              {
                                "locator": "86:39-86:52",
                                "type": "Not",
                                "operand": {
                                  "locator": "86:39-86:52",
                                  "type": "IsNull",
                                  "operand": {
                                    "localId": "137",
                                    "locator": "86:67-86:95",
                                    "type": "Start",
                                    "operand": {
                                      "localId": "136",
                                      "locator": "86:76-86:95",
                                      "path": "relevantPeriod",
                                      "scope": "Visit",
                                      "type": "Property"
                                    }
                                  }
                                }
                              }
                            ]
                          },
                          "sort": {
                            "localId": "143",
                            "locator": "87:6-88:26",
                            "by": [
                              {
                                "localId": "142",
                                "locator": "88:6-88:26",
                                "direction": "asc",
                                "type": "ByExpression",
                                "expression": {
                                  "localId": "141",
                                  "locator": "88:6-88:26",
                                  "type": "End",
                                  "operand": {
                                    "localId": "140",
                                    "locator": "88:13-88:26",
                                    "name": "relevantPeriod",
                                    "type": "IdentifierRef"
                                  }
                                }
                              }
                            ]
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "return": {
                    "localId": "158",
                    "locator": "90:4-91:31",
                    "expression": {
                      "localId": "157",
                      "locator": "90:11-91:31",
                      "lowClosed": true,
                      "highClosed": true,
                      "type": "Interval",
                      "low": {
                        "localId": "153",
                        "locator": "90:20-90:91",
                        "type": "Coalesce",
                        "operand": [
                          {
                            "localId": "149",
                            "locator": "90:29-90:59",
                            "type": "Start",
                            "operand": {
                              "localId": "148",
                              "locator": "90:38-90:59",
                              "path": "relevantPeriod",
                              "type": "Property",
                              "source": {
                                "localId": "147",
                                "locator": "90:38-90:44",
                                "name": "EDVisit",
                                "type": "QueryLetRef"
                              }
                            }
                          },
                          {
                            "localId": "152",
                            "locator": "90:62-90:90",
                            "type": "Start",
                            "operand": {
                              "localId": "151",
                              "locator": "90:71-90:90",
                              "path": "relevantPeriod",
                              "scope": "Visit",
                              "type": "Property"
                            }
                          }
                        ]
                      },
                      "high": {
                        "localId": "156",
                        "locator": "91:4-91:30",
                        "type": "End",
                        "operand": {
                          "localId": "155",
                          "locator": "91:11-91:30",
                          "path": "relevantPeriod",
                          "scope": "Visit",
                          "type": "Property"
                        }
                      }
                    }
                  }
                },
                "operand": [
                  {
                    "name": "Encounter",
                    "operandTypeSpecifier": {
                      "localId": "128",
                      "locator": "83:45-83:66",
                      "name": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              {
                "localId": "163",
                "locator": "73:1-74:39",
                "name": "HospitalAdmissionTime",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "163",
                      "s": [
                        {
                          "value": [
                            "/*Returns admission time for an encounter or for immediately prior emergency department visit.  */",
                            "define function ",
                            "\"HospitalAdmissionTime\"",
                            "(",
                            "Encounter",
                            " "
                          ]
                        },
                        {
                          "r": "126",
                          "s": [
                            {
                              "value": [
                                "\"Encounter, Performed\""
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "162",
                          "s": [
                            {
                              "r": "162",
                              "s": [
                                {
                                  "value": [
                                    "start of "
                                  ]
                                },
                                {
                                  "r": "161",
                                  "s": [
                                    {
                                      "value": [
                                        "\"Hospitalization\"",
                                        "("
                                      ]
                                    },
                                    {
                                      "r": "127",
                                      "s": [
                                        {
                                          "value": [
                                            "Encounter"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        ")"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "162",
                  "locator": "74:3-74:39",
                  "type": "Start",
                  "operand": {
                    "localId": "161",
                    "locator": "74:12-74:39",
                    "name": "Hospitalization",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "127",
                        "locator": "74:30-74:38",
                        "name": "Encounter",
                        "type": "OperandRef"
                      }
                    ]
                  }
                },
                "operand": [
                  {
                    "name": "Encounter",
                    "operandTypeSpecifier": {
                      "localId": "126",
                      "locator": "73:51-73:72",
                      "name": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              {
                "localId": "176",
                "locator": "77:1-80:18",
                "name": "HospitalArrivalTime",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "176",
                      "s": [
                        {
                          "value": [
                            "/*Returns earliest arrival time for an encounter including any prior ED visit. */",
                            "define function ",
                            "\"HospitalArrivalTime\"",
                            "(",
                            "Encounter",
                            " "
                          ]
                        },
                        {
                          "r": "164",
                          "s": [
                            {
                              "value": [
                                "\"Encounter, Performed\""
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "175",
                          "s": [
                            {
                              "r": "175",
                              "s": [
                                {
                                  "value": [
                                    "start of "
                                  ]
                                },
                                {
                                  "r": "174",
                                  "s": [
                                    {
                                      "r": "173",
                                      "s": [
                                        {
                                          "value": [
                                            "First",
                                            "("
                                          ]
                                        },
                                        {
                                          "r": "172",
                                          "s": [
                                            {
                                              "s": [
                                                {
                                                  "r": "167",
                                                  "s": [
                                                    {
                                                      "r": "166",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "("
                                                          ]
                                                        },
                                                        {
                                                          "r": "166",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "\"HospitalizationLocations\"",
                                                                "("
                                                              ]
                                                            },
                                                            {
                                                              "r": "165",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "Encounter"
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                ")"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            ")"
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "HospitalLocation"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n  \t\t"
                                              ]
                                            },
                                            {
                                              "r": "171",
                                              "s": [
                                                {
                                                  "value": [
                                                    "sort by "
                                                  ]
                                                },
                                                {
                                                  "r": "170",
                                                  "s": [
                                                    {
                                                      "r": "169",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "start of "
                                                          ]
                                                        },
                                                        {
                                                          "r": "168",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "locationPeriod"
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "\n  )"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        "."
                                      ]
                                    },
                                    {
                                      "r": "174",
                                      "s": [
                                        {
                                          "value": [
                                            "locationPeriod"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "175",
                  "locator": "78:3-80:18",
                  "type": "Start",
                  "operand": {
                    "localId": "174",
                    "locator": "78:12-80:18",
                    "path": "locationPeriod",
                    "type": "Property",
                    "source": {
                      "localId": "173",
                      "locator": "78:12-80:3",
                      "type": "First",
                      "source": {
                        "localId": "172",
                        "locator": "78:18-79:35",
                        "type": "Query",
                        "source": [
                          {
                            "localId": "167",
                            "locator": "78:18-78:72",
                            "alias": "HospitalLocation",
                            "expression": {
                              "localId": "166",
                              "locator": "78:18-78:56",
                              "name": "HospitalizationLocations",
                              "type": "FunctionRef",
                              "operand": [
                                {
                                  "localId": "165",
                                  "locator": "78:46-78:54",
                                  "name": "Encounter",
                                  "type": "OperandRef"
                                }
                              ]
                            }
                          }
                        ],
                        "relationship": [],
                        "sort": {
                          "localId": "171",
                          "locator": "79:5-79:35",
                          "by": [
                            {
                              "localId": "170",
                              "locator": "79:13-79:35",
                              "direction": "asc",
                              "type": "ByExpression",
                              "expression": {
                                "localId": "169",
                                "locator": "79:13-79:35",
                                "type": "Start",
                                "operand": {
                                  "localId": "168",
                                  "locator": "79:22-79:35",
                                  "name": "locationPeriod",
                                  "type": "IdentifierRef"
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  }
                },
                "operand": [
                  {
                    "name": "Encounter",
                    "operandTypeSpecifier": {
                      "localId": "164",
                      "locator": "77:49-77:70",
                      "name": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              {
                "localId": "183",
                "locator": "94:1-95:44",
                "name": "HospitalizationLengthofStay",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "183",
                      "s": [
                        {
                          "value": [
                            "/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/",
                            "define function ",
                            "\"HospitalizationLengthofStay\"",
                            "(",
                            "Encounter",
                            " "
                          ]
                        },
                        {
                          "r": "179",
                          "s": [
                            {
                              "value": [
                                "\"Encounter, Performed\""
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "182",
                          "s": [
                            {
                              "r": "182",
                              "s": [
                                {
                                  "value": [
                                    "LengthInDays",
                                    "("
                                  ]
                                },
                                {
                                  "r": "181",
                                  "s": [
                                    {
                                      "value": [
                                        "\"Hospitalization\"",
                                        "("
                                      ]
                                    },
                                    {
                                      "r": "180",
                                      "s": [
                                        {
                                          "value": [
                                            "Encounter"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        ")"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    ")"
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "182",
                  "locator": "95:3-95:44",
                  "name": "LengthInDays",
                  "type": "FunctionRef",
                  "operand": [
                    {
                      "localId": "181",
                      "locator": "95:16-95:43",
                      "name": "Hospitalization",
                      "type": "FunctionRef",
                      "operand": [
                        {
                          "localId": "180",
                          "locator": "95:34-95:42",
                          "name": "Encounter",
                          "type": "OperandRef"
                        }
                      ]
                    }
                  ]
                },
                "operand": [
                  {
                    "name": "Encounter",
                    "operandTypeSpecifier": {
                      "localId": "179",
                      "locator": "94:57-94:78",
                      "name": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              {
                "localId": "196",
                "locator": "98:1-101:18",
                "name": "HospitalDepartureTime",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "196",
                      "s": [
                        {
                          "value": [
                            "/*Returns the latest departure time for encounter including any prior ED visit. */",
                            "define function ",
                            "\"HospitalDepartureTime\"",
                            "(",
                            "Encounter",
                            " "
                          ]
                        },
                        {
                          "r": "184",
                          "s": [
                            {
                              "value": [
                                "\"Encounter, Performed\""
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "195",
                          "s": [
                            {
                              "r": "195",
                              "s": [
                                {
                                  "value": [
                                    "end of "
                                  ]
                                },
                                {
                                  "r": "194",
                                  "s": [
                                    {
                                      "r": "193",
                                      "s": [
                                        {
                                          "value": [
                                            "Last",
                                            "("
                                          ]
                                        },
                                        {
                                          "r": "192",
                                          "s": [
                                            {
                                              "s": [
                                                {
                                                  "r": "187",
                                                  "s": [
                                                    {
                                                      "r": "186",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "("
                                                          ]
                                                        },
                                                        {
                                                          "r": "186",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "\"HospitalizationLocations\"",
                                                                "("
                                                              ]
                                                            },
                                                            {
                                                              "r": "185",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "Encounter"
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                ")"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            ")"
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "HospitalLocation"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n  \t\t"
                                              ]
                                            },
                                            {
                                              "r": "191",
                                              "s": [
                                                {
                                                  "value": [
                                                    "sort by "
                                                  ]
                                                },
                                                {
                                                  "r": "190",
                                                  "s": [
                                                    {
                                                      "r": "189",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "start of "
                                                          ]
                                                        },
                                                        {
                                                          "r": "188",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "locationPeriod"
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "\n  )"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        "."
                                      ]
                                    },
                                    {
                                      "r": "194",
                                      "s": [
                                        {
                                          "value": [
                                            "locationPeriod"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "195",
                  "locator": "99:3-101:18",
                  "type": "End",
                  "operand": {
                    "localId": "194",
                    "locator": "99:10-101:18",
                    "path": "locationPeriod",
                    "type": "Property",
                    "source": {
                      "localId": "193",
                      "locator": "99:10-101:3",
                      "type": "Last",
                      "source": {
                        "localId": "192",
                        "locator": "99:15-100:35",
                        "type": "Query",
                        "source": [
                          {
                            "localId": "187",
                            "locator": "99:15-99:69",
                            "alias": "HospitalLocation",
                            "expression": {
                              "localId": "186",
                              "locator": "99:15-99:53",
                              "name": "HospitalizationLocations",
                              "type": "FunctionRef",
                              "operand": [
                                {
                                  "localId": "185",
                                  "locator": "99:43-99:51",
                                  "name": "Encounter",
                                  "type": "OperandRef"
                                }
                              ]
                            }
                          }
                        ],
                        "relationship": [],
                        "sort": {
                          "localId": "191",
                          "locator": "100:5-100:35",
                          "by": [
                            {
                              "localId": "190",
                              "locator": "100:13-100:35",
                              "direction": "asc",
                              "type": "ByExpression",
                              "expression": {
                                "localId": "189",
                                "locator": "100:13-100:35",
                                "type": "Start",
                                "operand": {
                                  "localId": "188",
                                  "locator": "100:22-100:35",
                                  "name": "locationPeriod",
                                  "type": "IdentifierRef"
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  }
                },
                "operand": [
                  {
                    "name": "Encounter",
                    "operandTypeSpecifier": {
                      "localId": "184",
                      "locator": "98:51-98:72",
                      "name": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              {
                "localId": "201",
                "locator": "104:1-105:33",
                "name": "HospitalDischargeTime",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "201",
                      "s": [
                        {
                          "value": [
                            "/*Hospital Discharge Time returns the discharge time for an encounter*/",
                            "define function ",
                            "\"HospitalDischargeTime\"",
                            "(",
                            "Encounter",
                            " "
                          ]
                        },
                        {
                          "r": "197",
                          "s": [
                            {
                              "value": [
                                "\"Encounter, Performed\""
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "200",
                          "s": [
                            {
                              "r": "200",
                              "s": [
                                {
                                  "value": [
                                    "end of "
                                  ]
                                },
                                {
                                  "r": "199",
                                  "s": [
                                    {
                                      "r": "198",
                                      "s": [
                                        {
                                          "value": [
                                            "Encounter"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        "."
                                      ]
                                    },
                                    {
                                      "r": "199",
                                      "s": [
                                        {
                                          "value": [
                                            "relevantPeriod"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "200",
                  "locator": "105:3-105:33",
                  "type": "End",
                  "operand": {
                    "localId": "199",
                    "locator": "105:10-105:33",
                    "path": "relevantPeriod",
                    "type": "Property",
                    "source": {
                      "localId": "198",
                      "locator": "105:10-105:18",
                      "name": "Encounter",
                      "type": "OperandRef"
                    }
                  }
                },
                "operand": [
                  {
                    "name": "Encounter",
                    "operandTypeSpecifier": {
                      "localId": "197",
                      "locator": "104:51-104:72",
                      "name": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              {
                "localId": "274",
                "locator": "108:1-128:31",
                "name": "HospitalizationWithObservationAndOutpatientSurgeryService",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "274",
                      "s": [
                        {
                          "value": [
                            "/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/",
                            "define function ",
                            "\"HospitalizationWithObservationAndOutpatientSurgeryService\"",
                            "(",
                            "Encounter",
                            " "
                          ]
                        },
                        {
                          "r": "202",
                          "s": [
                            {
                              "value": [
                                "\"Encounter, Performed\""
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "273",
                          "s": [
                            {
                              "r": "273",
                              "s": [
                                {
                                  "s": [
                                    {
                                      "r": "204",
                                      "s": [
                                        {
                                          "r": "203",
                                          "s": [
                                            {
                                              "s": [
                                                {
                                                  "value": [
                                                    "Encounter"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " ",
                                            "Visit"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n  \t"
                                  ]
                                },
                                {
                                  "s": [
                                    {
                                      "value": [
                                        "let "
                                      ]
                                    },
                                    {
                                      "r": "220",
                                      "s": [
                                        {
                                          "value": [
                                            "ObsVisit",
                                            ": "
                                          ]
                                        },
                                        {
                                          "r": "219",
                                          "s": [
                                            {
                                              "value": [
                                                "Last",
                                                "("
                                              ]
                                            },
                                            {
                                              "r": "218",
                                              "s": [
                                                {
                                                  "s": [
                                                    {
                                                      "r": "206",
                                                      "s": [
                                                        {
                                                          "r": "205",
                                                          "s": [
                                                            {
                                                              "r": "205",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "[",
                                                                    "\"Encounter, Performed\"",
                                                                    ": "
                                                                  ]
                                                                },
                                                                {
                                                                  "s": [
                                                                    {
                                                                      "value": [
                                                                        "\"Observation Services\""
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "value": [
                                                                    "]"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            " ",
                                                            "LastObs"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "\n  \t\t\t"
                                                  ]
                                                },
                                                {
                                                  "r": "213",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "where "
                                                      ]
                                                    },
                                                    {
                                                      "r": "213",
                                                      "s": [
                                                        {
                                                          "r": "208",
                                                          "s": [
                                                            {
                                                              "r": "207",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "LastObs"
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                "."
                                                              ]
                                                            },
                                                            {
                                                              "r": "208",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "relevantPeriod"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            " "
                                                          ]
                                                        },
                                                        {
                                                          "r": "213",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "ends "
                                                              ]
                                                            },
                                                            {
                                                              "r": "212",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "1 ",
                                                                    "hour"
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                " or less on or before"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            " "
                                                          ]
                                                        },
                                                        {
                                                          "r": "211",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "start of "
                                                              ]
                                                            },
                                                            {
                                                              "r": "210",
                                                              "s": [
                                                                {
                                                                  "r": "209",
                                                                  "s": [
                                                                    {
                                                                      "value": [
                                                                        "Visit"
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "value": [
                                                                    "."
                                                                  ]
                                                                },
                                                                {
                                                                  "r": "210",
                                                                  "s": [
                                                                    {
                                                                      "value": [
                                                                        "relevantPeriod"
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "\n  \t\t\t"
                                                  ]
                                                },
                                                {
                                                  "r": "217",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "sort by \n  \t\t\t"
                                                      ]
                                                    },
                                                    {
                                                      "r": "216",
                                                      "s": [
                                                        {
                                                          "r": "215",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "end of "
                                                              ]
                                                            },
                                                            {
                                                              "r": "214",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "relevantPeriod"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n  \t)"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        ",\n  \t"
                                      ]
                                    },
                                    {
                                      "r": "228",
                                      "s": [
                                        {
                                          "value": [
                                            "VisitStart",
                                            ": "
                                          ]
                                        },
                                        {
                                          "r": "227",
                                          "s": [
                                            {
                                              "value": [
                                                "Coalesce",
                                                "("
                                              ]
                                            },
                                            {
                                              "r": "223",
                                              "s": [
                                                {
                                                  "value": [
                                                    "start of "
                                                  ]
                                                },
                                                {
                                                  "r": "222",
                                                  "s": [
                                                    {
                                                      "r": "221",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "ObsVisit"
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "."
                                                      ]
                                                    },
                                                    {
                                                      "r": "222",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "relevantPeriod"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                ", "
                                              ]
                                            },
                                            {
                                              "r": "226",
                                              "s": [
                                                {
                                                  "value": [
                                                    "start of "
                                                  ]
                                                },
                                                {
                                                  "r": "225",
                                                  "s": [
                                                    {
                                                      "r": "224",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "Visit"
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "."
                                                      ]
                                                    },
                                                    {
                                                      "r": "225",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "relevantPeriod"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                ")"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        ",\n  \t"
                                      ]
                                    },
                                    {
                                      "r": "242",
                                      "s": [
                                        {
                                          "value": [
                                            "EDVisit",
                                            ": "
                                          ]
                                        },
                                        {
                                          "r": "241",
                                          "s": [
                                            {
                                              "value": [
                                                "Last",
                                                "("
                                              ]
                                            },
                                            {
                                              "r": "240",
                                              "s": [
                                                {
                                                  "s": [
                                                    {
                                                      "r": "230",
                                                      "s": [
                                                        {
                                                          "r": "229",
                                                          "s": [
                                                            {
                                                              "r": "229",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "[",
                                                                    "\"Encounter, Performed\"",
                                                                    ": "
                                                                  ]
                                                                },
                                                                {
                                                                  "s": [
                                                                    {
                                                                      "value": [
                                                                        "\"Emergency Department Visit\""
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "value": [
                                                                    "]"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            " ",
                                                            "LastED"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "\n  \t\t\t"
                                                  ]
                                                },
                                                {
                                                  "r": "235",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "where "
                                                      ]
                                                    },
                                                    {
                                                      "r": "235",
                                                      "s": [
                                                        {
                                                          "r": "232",
                                                          "s": [
                                                            {
                                                              "r": "231",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "LastED"
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                "."
                                                              ]
                                                            },
                                                            {
                                                              "r": "232",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "relevantPeriod"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            " "
                                                          ]
                                                        },
                                                        {
                                                          "r": "235",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "ends "
                                                              ]
                                                            },
                                                            {
                                                              "r": "234",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "1 ",
                                                                    "hour"
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                " or less on or before"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            " "
                                                          ]
                                                        },
                                                        {
                                                          "r": "233",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "VisitStart"
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "\n  \t\t\t"
                                                  ]
                                                },
                                                {
                                                  "r": "239",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "sort by \n  \t\t\t"
                                                      ]
                                                    },
                                                    {
                                                      "r": "238",
                                                      "s": [
                                                        {
                                                          "r": "237",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "end of "
                                                              ]
                                                            },
                                                            {
                                                              "r": "236",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "relevantPeriod"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n  \t)"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        ",\n  \t"
                                      ]
                                    },
                                    {
                                      "r": "248",
                                      "s": [
                                        {
                                          "value": [
                                            "VisitStartWithED",
                                            ": "
                                          ]
                                        },
                                        {
                                          "r": "247",
                                          "s": [
                                            {
                                              "value": [
                                                "Coalesce",
                                                "("
                                              ]
                                            },
                                            {
                                              "r": "245",
                                              "s": [
                                                {
                                                  "value": [
                                                    "start of "
                                                  ]
                                                },
                                                {
                                                  "r": "244",
                                                  "s": [
                                                    {
                                                      "r": "243",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "EDVisit"
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "."
                                                      ]
                                                    },
                                                    {
                                                      "r": "244",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "relevantPeriod"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                ", "
                                              ]
                                            },
                                            {
                                              "r": "246",
                                              "s": [
                                                {
                                                  "value": [
                                                    "VisitStart"
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                ")"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        ",\n  \t"
                                      ]
                                    },
                                    {
                                      "r": "262",
                                      "s": [
                                        {
                                          "value": [
                                            "OutpatientSurgeryVisit",
                                            ": "
                                          ]
                                        },
                                        {
                                          "r": "261",
                                          "s": [
                                            {
                                              "value": [
                                                "Last",
                                                "("
                                              ]
                                            },
                                            {
                                              "r": "260",
                                              "s": [
                                                {
                                                  "s": [
                                                    {
                                                      "r": "250",
                                                      "s": [
                                                        {
                                                          "r": "249",
                                                          "s": [
                                                            {
                                                              "r": "249",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "[",
                                                                    "\"Encounter, Performed\"",
                                                                    ": "
                                                                  ]
                                                                },
                                                                {
                                                                  "s": [
                                                                    {
                                                                      "value": [
                                                                        "\"Outpatient Surgery Service\""
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "value": [
                                                                    "]"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            " ",
                                                            "LastSurgeryOP"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "\n  \t\t\t"
                                                  ]
                                                },
                                                {
                                                  "r": "255",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "where "
                                                      ]
                                                    },
                                                    {
                                                      "r": "255",
                                                      "s": [
                                                        {
                                                          "r": "252",
                                                          "s": [
                                                            {
                                                              "r": "251",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "LastSurgeryOP"
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                "."
                                                              ]
                                                            },
                                                            {
                                                              "r": "252",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "relevantPeriod"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            " "
                                                          ]
                                                        },
                                                        {
                                                          "r": "255",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "ends "
                                                              ]
                                                            },
                                                            {
                                                              "r": "254",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "1 ",
                                                                    "hour"
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                " or less on or before"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            " "
                                                          ]
                                                        },
                                                        {
                                                          "r": "253",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "VisitStartWithED"
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "\n  \t\t\t"
                                                  ]
                                                },
                                                {
                                                  "r": "259",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "sort by \n  \t\t\t"
                                                      ]
                                                    },
                                                    {
                                                      "r": "258",
                                                      "s": [
                                                        {
                                                          "r": "257",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "end of "
                                                              ]
                                                            },
                                                            {
                                                              "r": "256",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "relevantPeriod"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n  \t)"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n  \t"
                                  ]
                                },
                                {
                                  "r": "272",
                                  "s": [
                                    {
                                      "value": [
                                        "return "
                                      ]
                                    },
                                    {
                                      "r": "271",
                                      "s": [
                                        {
                                          "value": [
                                            "Interval["
                                          ]
                                        },
                                        {
                                          "r": "267",
                                          "s": [
                                            {
                                              "value": [
                                                "Coalesce",
                                                "("
                                              ]
                                            },
                                            {
                                              "r": "265",
                                              "s": [
                                                {
                                                  "value": [
                                                    "start of "
                                                  ]
                                                },
                                                {
                                                  "r": "264",
                                                  "s": [
                                                    {
                                                      "r": "263",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "OutpatientSurgeryVisit"
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "."
                                                      ]
                                                    },
                                                    {
                                                      "r": "264",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "relevantPeriod"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                ", "
                                              ]
                                            },
                                            {
                                              "r": "266",
                                              "s": [
                                                {
                                                  "value": [
                                                    "VisitStartWithED"
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                ")"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            ", \n  \t"
                                          ]
                                        },
                                        {
                                          "r": "270",
                                          "s": [
                                            {
                                              "value": [
                                                "end of "
                                              ]
                                            },
                                            {
                                              "r": "269",
                                              "s": [
                                                {
                                                  "r": "268",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "Visit"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "."
                                                  ]
                                                },
                                                {
                                                  "r": "269",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "relevantPeriod"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "]"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "273",
                  "locator": "109:3-128:31",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "204",
                      "locator": "109:3-109:17",
                      "alias": "Visit",
                      "expression": {
                        "localId": "203",
                        "locator": "109:3-109:11",
                        "name": "Encounter",
                        "type": "OperandRef"
                      }
                    }
                  ],
                  "let": [
                    {
                      "localId": "220",
                      "locator": "110:8-114:4",
                      "identifier": "ObsVisit",
                      "expression": {
                        "localId": "219",
                        "locator": "110:18-114:4",
                        "type": "Last",
                        "source": {
                          "localId": "218",
                          "locator": "110:23-113:26",
                          "type": "Query",
                          "source": [
                            {
                              "localId": "206",
                              "locator": "110:23-110:78",
                              "alias": "LastObs",
                              "expression": {
                                "localId": "205",
                                "locator": "110:23-110:70",
                                "dataType": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                                "templateId": "PositiveEncounterPerformed",
                                "codeProperty": "code",
                                "codeComparator": "in",
                                "type": "Retrieve",
                                "codes": {
                                  "locator": "110:48-110:69",
                                  "name": "Observation Services",
                                  "type": "ValueSetRef"
                                }
                              }
                            }
                          ],
                          "relationship": [],
                          "where": {
                            "localId": "213",
                            "locator": "111:6-111:96",
                            "type": "And",
                            "operand": [
                              {
                                "locator": "111:40-111:53",
                                "type": "In",
                                "operand": [
                                  {
                                    "locator": "111:35-111:38",
                                    "type": "End",
                                    "operand": {
                                      "localId": "208",
                                      "locator": "111:12-111:33",
                                      "path": "relevantPeriod",
                                      "scope": "LastObs",
                                      "type": "Property"
                                    }
                                  },
                                  {
                                    "locator": "111:40-111:53",
                                    "lowClosed": true,
                                    "highClosed": true,
                                    "type": "Interval",
                                    "low": {
                                      "locator": "111:68-111:96",
                                      "type": "Subtract",
                                      "operand": [
                                        {
                                          "localId": "211",
                                          "locator": "111:68-111:96",
                                          "type": "Start",
                                          "operand": {
                                            "localId": "210",
                                            "locator": "111:77-111:96",
                                            "path": "relevantPeriod",
                                            "scope": "Visit",
                                            "type": "Property"
                                          }
                                        },
                                        {
                                          "localId": "212",
                                          "locator": "111:40-111:45",
                                          "value": 1,
                                          "unit": "hour",
                                          "type": "Quantity"
                                        }
                                      ]
                                    },
                                    "high": {
                                      "localId": "211",
                                      "locator": "111:68-111:96",
                                      "type": "Start",
                                      "operand": {
                                        "localId": "210",
                                        "locator": "111:77-111:96",
                                        "path": "relevantPeriod",
                                        "scope": "Visit",
                                        "type": "Property"
                                      }
                                    }
                                  }
                                ]
                              },
                              {
                                "locator": "111:40-111:53",
                                "type": "Not",
                                "operand": {
                                  "locator": "111:40-111:53",
                                  "type": "IsNull",
                                  "operand": {
                                    "localId": "211",
                                    "locator": "111:68-111:96",
                                    "type": "Start",
                                    "operand": {
                                      "localId": "210",
                                      "locator": "111:77-111:96",
                                      "path": "relevantPeriod",
                                      "scope": "Visit",
                                      "type": "Property"
                                    }
                                  }
                                }
                              }
                            ]
                          },
                          "sort": {
                            "localId": "217",
                            "locator": "112:6-113:26",
                            "by": [
                              {
                                "localId": "216",
                                "locator": "113:6-113:26",
                                "direction": "asc",
                                "type": "ByExpression",
                                "expression": {
                                  "localId": "215",
                                  "locator": "113:6-113:26",
                                  "type": "End",
                                  "operand": {
                                    "localId": "214",
                                    "locator": "113:13-113:26",
                                    "name": "relevantPeriod",
                                    "type": "IdentifierRef"
                                  }
                                }
                              }
                            ]
                          }
                        }
                      }
                    },
                    {
                      "localId": "228",
                      "locator": "115:4-115:88",
                      "identifier": "VisitStart",
                      "expression": {
                        "localId": "227",
                        "locator": "115:16-115:88",
                        "type": "Coalesce",
                        "operand": [
                          {
                            "localId": "223",
                            "locator": "115:25-115:56",
                            "type": "Start",
                            "operand": {
                              "localId": "222",
                              "locator": "115:34-115:56",
                              "path": "relevantPeriod",
                              "type": "Property",
                              "source": {
                                "localId": "221",
                                "locator": "115:34-115:41",
                                "name": "ObsVisit",
                                "type": "QueryLetRef"
                              }
                            }
                          },
                          {
                            "localId": "226",
                            "locator": "115:59-115:87",
                            "type": "Start",
                            "operand": {
                              "localId": "225",
                              "locator": "115:68-115:87",
                              "path": "relevantPeriod",
                              "scope": "Visit",
                              "type": "Property"
                            }
                          }
                        ]
                      }
                    },
                    {
                      "localId": "242",
                      "locator": "116:4-120:4",
                      "identifier": "EDVisit",
                      "expression": {
                        "localId": "241",
                        "locator": "116:13-120:4",
                        "type": "Last",
                        "source": {
                          "localId": "240",
                          "locator": "116:18-119:26",
                          "type": "Query",
                          "source": [
                            {
                              "localId": "230",
                              "locator": "116:18-116:78",
                              "alias": "LastED",
                              "expression": {
                                "localId": "229",
                                "locator": "116:18-116:71",
                                "dataType": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                                "templateId": "PositiveEncounterPerformed",
                                "codeProperty": "code",
                                "codeComparator": "in",
                                "type": "Retrieve",
                                "codes": {
                                  "locator": "116:43-116:70",
                                  "name": "Emergency Department Visit",
                                  "type": "ValueSetRef"
                                }
                              }
                            }
                          ],
                          "relationship": [],
                          "where": {
                            "localId": "235",
                            "locator": "117:6-117:76",
                            "type": "And",
                            "operand": [
                              {
                                "locator": "117:39-117:52",
                                "type": "In",
                                "operand": [
                                  {
                                    "locator": "117:34-117:37",
                                    "type": "End",
                                    "operand": {
                                      "localId": "232",
                                      "locator": "117:12-117:32",
                                      "path": "relevantPeriod",
                                      "scope": "LastED",
                                      "type": "Property"
                                    }
                                  },
                                  {
                                    "locator": "117:39-117:52",
                                    "lowClosed": true,
                                    "highClosed": true,
                                    "type": "Interval",
                                    "low": {
                                      "locator": "117:67-117:76",
                                      "type": "Subtract",
                                      "operand": [
                                        {
                                          "localId": "233",
                                          "locator": "117:67-117:76",
                                          "name": "VisitStart",
                                          "type": "QueryLetRef"
                                        },
                                        {
                                          "localId": "234",
                                          "locator": "117:39-117:44",
                                          "value": 1,
                                          "unit": "hour",
                                          "type": "Quantity"
                                        }
                                      ]
                                    },
                                    "high": {
                                      "localId": "233",
                                      "locator": "117:67-117:76",
                                      "name": "VisitStart",
                                      "type": "QueryLetRef"
                                    }
                                  }
                                ]
                              },
                              {
                                "locator": "117:39-117:52",
                                "type": "Not",
                                "operand": {
                                  "locator": "117:39-117:52",
                                  "type": "IsNull",
                                  "operand": {
                                    "localId": "233",
                                    "locator": "117:67-117:76",
                                    "name": "VisitStart",
                                    "type": "QueryLetRef"
                                  }
                                }
                              }
                            ]
                          },
                          "sort": {
                            "localId": "239",
                            "locator": "118:6-119:26",
                            "by": [
                              {
                                "localId": "238",
                                "locator": "119:6-119:26",
                                "direction": "asc",
                                "type": "ByExpression",
                                "expression": {
                                  "localId": "237",
                                  "locator": "119:6-119:26",
                                  "type": "End",
                                  "operand": {
                                    "localId": "236",
                                    "locator": "119:13-119:26",
                                    "name": "relevantPeriod",
                                    "type": "IdentifierRef"
                                  }
                                }
                              }
                            ]
                          }
                        }
                      }
                    },
                    {
                      "localId": "248",
                      "locator": "121:4-121:74",
                      "identifier": "VisitStartWithED",
                      "expression": {
                        "localId": "247",
                        "locator": "121:22-121:74",
                        "type": "Coalesce",
                        "operand": [
                          {
                            "localId": "245",
                            "locator": "121:31-121:61",
                            "type": "Start",
                            "operand": {
                              "localId": "244",
                              "locator": "121:40-121:61",
                              "path": "relevantPeriod",
                              "type": "Property",
                              "source": {
                                "localId": "243",
                                "locator": "121:40-121:46",
                                "name": "EDVisit",
                                "type": "QueryLetRef"
                              }
                            }
                          },
                          {
                            "localId": "246",
                            "locator": "121:64-121:73",
                            "name": "VisitStart",
                            "type": "QueryLetRef"
                          }
                        ]
                      }
                    },
                    {
                      "localId": "262",
                      "locator": "122:4-126:4",
                      "identifier": "OutpatientSurgeryVisit",
                      "expression": {
                        "localId": "261",
                        "locator": "122:28-126:4",
                        "type": "Last",
                        "source": {
                          "localId": "260",
                          "locator": "122:33-125:26",
                          "type": "Query",
                          "source": [
                            {
                              "localId": "250",
                              "locator": "122:33-122:100",
                              "alias": "LastSurgeryOP",
                              "expression": {
                                "localId": "249",
                                "locator": "122:33-122:86",
                                "dataType": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                                "templateId": "PositiveEncounterPerformed",
                                "codeProperty": "code",
                                "codeComparator": "in",
                                "type": "Retrieve",
                                "codes": {
                                  "locator": "122:58-122:85",
                                  "name": "Outpatient Surgery Service",
                                  "type": "ValueSetRef"
                                }
                              }
                            }
                          ],
                          "relationship": [],
                          "where": {
                            "localId": "255",
                            "locator": "123:6-123:89",
                            "type": "And",
                            "operand": [
                              {
                                "locator": "123:46-123:59",
                                "type": "In",
                                "operand": [
                                  {
                                    "locator": "123:41-123:44",
                                    "type": "End",
                                    "operand": {
                                      "localId": "252",
                                      "locator": "123:12-123:39",
                                      "path": "relevantPeriod",
                                      "scope": "LastSurgeryOP",
                                      "type": "Property"
                                    }
                                  },
                                  {
                                    "locator": "123:46-123:59",
                                    "lowClosed": true,
                                    "highClosed": true,
                                    "type": "Interval",
                                    "low": {
                                      "locator": "123:74-123:89",
                                      "type": "Subtract",
                                      "operand": [
                                        {
                                          "localId": "253",
                                          "locator": "123:74-123:89",
                                          "name": "VisitStartWithED",
                                          "type": "QueryLetRef"
                                        },
                                        {
                                          "localId": "254",
                                          "locator": "123:46-123:51",
                                          "value": 1,
                                          "unit": "hour",
                                          "type": "Quantity"
                                        }
                                      ]
                                    },
                                    "high": {
                                      "localId": "253",
                                      "locator": "123:74-123:89",
                                      "name": "VisitStartWithED",
                                      "type": "QueryLetRef"
                                    }
                                  }
                                ]
                              },
                              {
                                "locator": "123:46-123:59",
                                "type": "Not",
                                "operand": {
                                  "locator": "123:46-123:59",
                                  "type": "IsNull",
                                  "operand": {
                                    "localId": "253",
                                    "locator": "123:74-123:89",
                                    "name": "VisitStartWithED",
                                    "type": "QueryLetRef"
                                  }
                                }
                              }
                            ]
                          },
                          "sort": {
                            "localId": "259",
                            "locator": "124:6-125:26",
                            "by": [
                              {
                                "localId": "258",
                                "locator": "125:6-125:26",
                                "direction": "asc",
                                "type": "ByExpression",
                                "expression": {
                                  "localId": "257",
                                  "locator": "125:6-125:26",
                                  "type": "End",
                                  "operand": {
                                    "localId": "256",
                                    "locator": "125:13-125:26",
                                    "name": "relevantPeriod",
                                    "type": "IdentifierRef"
                                  }
                                }
                              }
                            ]
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "return": {
                    "localId": "272",
                    "locator": "127:4-128:31",
                    "expression": {
                      "localId": "271",
                      "locator": "127:11-128:31",
                      "lowClosed": true,
                      "highClosed": true,
                      "type": "Interval",
                      "low": {
                        "localId": "267",
                        "locator": "127:20-127:93",
                        "type": "Coalesce",
                        "operand": [
                          {
                            "localId": "265",
                            "locator": "127:29-127:74",
                            "type": "Start",
                            "operand": {
                              "localId": "264",
                              "locator": "127:38-127:74",
                              "path": "relevantPeriod",
                              "type": "Property",
                              "source": {
                                "localId": "263",
                                "locator": "127:38-127:59",
                                "name": "OutpatientSurgeryVisit",
                                "type": "QueryLetRef"
                              }
                            }
                          },
                          {
                            "localId": "266",
                            "locator": "127:77-127:92",
                            "name": "VisitStartWithED",
                            "type": "QueryLetRef"
                          }
                        ]
                      },
                      "high": {
                        "localId": "270",
                        "locator": "128:4-128:30",
                        "type": "End",
                        "operand": {
                          "localId": "269",
                          "locator": "128:11-128:30",
                          "path": "relevantPeriod",
                          "scope": "Visit",
                          "type": "Property"
                        }
                      }
                    }
                  }
                },
                "operand": [
                  {
                    "name": "Encounter",
                    "operandTypeSpecifier": {
                      "localId": "202",
                      "locator": "108:87-108:108",
                      "name": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              {
                "localId": "327",
                "locator": "131:1-145:31",
                "name": "HospitalizationWithObservation",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "327",
                      "s": [
                        {
                          "value": [
                            "/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/",
                            "define function ",
                            "\"HospitalizationWithObservation\"",
                            "(",
                            "Encounter",
                            " "
                          ]
                        },
                        {
                          "r": "275",
                          "s": [
                            {
                              "value": [
                                "\"Encounter, Performed\""
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "326",
                          "s": [
                            {
                              "r": "326",
                              "s": [
                                {
                                  "s": [
                                    {
                                      "r": "277",
                                      "s": [
                                        {
                                          "r": "276",
                                          "s": [
                                            {
                                              "s": [
                                                {
                                                  "value": [
                                                    "Encounter"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " ",
                                            "Visit"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n  \t"
                                  ]
                                },
                                {
                                  "s": [
                                    {
                                      "value": [
                                        "let "
                                      ]
                                    },
                                    {
                                      "r": "293",
                                      "s": [
                                        {
                                          "value": [
                                            "ObsVisit",
                                            ": "
                                          ]
                                        },
                                        {
                                          "r": "292",
                                          "s": [
                                            {
                                              "value": [
                                                "Last",
                                                "("
                                              ]
                                            },
                                            {
                                              "r": "291",
                                              "s": [
                                                {
                                                  "s": [
                                                    {
                                                      "r": "279",
                                                      "s": [
                                                        {
                                                          "r": "278",
                                                          "s": [
                                                            {
                                                              "r": "278",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "[",
                                                                    "\"Encounter, Performed\"",
                                                                    ": "
                                                                  ]
                                                                },
                                                                {
                                                                  "s": [
                                                                    {
                                                                      "value": [
                                                                        "\"Observation Services\""
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "value": [
                                                                    "]"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            " ",
                                                            "LastObs"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "\n  \t\t\t"
                                                  ]
                                                },
                                                {
                                                  "r": "286",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "where "
                                                      ]
                                                    },
                                                    {
                                                      "r": "286",
                                                      "s": [
                                                        {
                                                          "r": "281",
                                                          "s": [
                                                            {
                                                              "r": "280",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "LastObs"
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                "."
                                                              ]
                                                            },
                                                            {
                                                              "r": "281",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "relevantPeriod"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            " "
                                                          ]
                                                        },
                                                        {
                                                          "r": "286",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "ends "
                                                              ]
                                                            },
                                                            {
                                                              "r": "285",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "1 ",
                                                                    "hour"
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                " or less on or before"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            " "
                                                          ]
                                                        },
                                                        {
                                                          "r": "284",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "start of "
                                                              ]
                                                            },
                                                            {
                                                              "r": "283",
                                                              "s": [
                                                                {
                                                                  "r": "282",
                                                                  "s": [
                                                                    {
                                                                      "value": [
                                                                        "Visit"
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "value": [
                                                                    "."
                                                                  ]
                                                                },
                                                                {
                                                                  "r": "283",
                                                                  "s": [
                                                                    {
                                                                      "value": [
                                                                        "relevantPeriod"
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "\n  \t\t\t"
                                                  ]
                                                },
                                                {
                                                  "r": "290",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "sort by \n  \t\t\t"
                                                      ]
                                                    },
                                                    {
                                                      "r": "289",
                                                      "s": [
                                                        {
                                                          "r": "288",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "end of "
                                                              ]
                                                            },
                                                            {
                                                              "r": "287",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "relevantPeriod"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n  \t)"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        ",\n  \t"
                                      ]
                                    },
                                    {
                                      "r": "301",
                                      "s": [
                                        {
                                          "value": [
                                            "VisitStart",
                                            ": "
                                          ]
                                        },
                                        {
                                          "r": "300",
                                          "s": [
                                            {
                                              "value": [
                                                "Coalesce",
                                                "("
                                              ]
                                            },
                                            {
                                              "r": "296",
                                              "s": [
                                                {
                                                  "value": [
                                                    "start of "
                                                  ]
                                                },
                                                {
                                                  "r": "295",
                                                  "s": [
                                                    {
                                                      "r": "294",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "ObsVisit"
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "."
                                                      ]
                                                    },
                                                    {
                                                      "r": "295",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "relevantPeriod"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                ", "
                                              ]
                                            },
                                            {
                                              "r": "299",
                                              "s": [
                                                {
                                                  "value": [
                                                    "start of "
                                                  ]
                                                },
                                                {
                                                  "r": "298",
                                                  "s": [
                                                    {
                                                      "r": "297",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "Visit"
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "."
                                                      ]
                                                    },
                                                    {
                                                      "r": "298",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "relevantPeriod"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                ")"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        ",\n  \t"
                                      ]
                                    },
                                    {
                                      "r": "315",
                                      "s": [
                                        {
                                          "value": [
                                            "EDVisit",
                                            ": "
                                          ]
                                        },
                                        {
                                          "r": "314",
                                          "s": [
                                            {
                                              "value": [
                                                "Last",
                                                "("
                                              ]
                                            },
                                            {
                                              "r": "313",
                                              "s": [
                                                {
                                                  "s": [
                                                    {
                                                      "r": "303",
                                                      "s": [
                                                        {
                                                          "r": "302",
                                                          "s": [
                                                            {
                                                              "r": "302",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "[",
                                                                    "\"Encounter, Performed\"",
                                                                    ": "
                                                                  ]
                                                                },
                                                                {
                                                                  "s": [
                                                                    {
                                                                      "value": [
                                                                        "\"Emergency Department Visit\""
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "value": [
                                                                    "]"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            " ",
                                                            "LastED"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "\n  \t\t\t"
                                                  ]
                                                },
                                                {
                                                  "r": "308",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "where "
                                                      ]
                                                    },
                                                    {
                                                      "r": "308",
                                                      "s": [
                                                        {
                                                          "r": "305",
                                                          "s": [
                                                            {
                                                              "r": "304",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "LastED"
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                "."
                                                              ]
                                                            },
                                                            {
                                                              "r": "305",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "relevantPeriod"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            " "
                                                          ]
                                                        },
                                                        {
                                                          "r": "308",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "ends "
                                                              ]
                                                            },
                                                            {
                                                              "r": "307",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "1 ",
                                                                    "hour"
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                " or less on or before"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            " "
                                                          ]
                                                        },
                                                        {
                                                          "r": "306",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "VisitStart"
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "\n  \t\t\t"
                                                  ]
                                                },
                                                {
                                                  "r": "312",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "sort by \n  \t\t\t"
                                                      ]
                                                    },
                                                    {
                                                      "r": "311",
                                                      "s": [
                                                        {
                                                          "r": "310",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "end of "
                                                              ]
                                                            },
                                                            {
                                                              "r": "309",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "relevantPeriod"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n  \t)"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n  \t"
                                  ]
                                },
                                {
                                  "r": "325",
                                  "s": [
                                    {
                                      "value": [
                                        "return "
                                      ]
                                    },
                                    {
                                      "r": "324",
                                      "s": [
                                        {
                                          "value": [
                                            "Interval["
                                          ]
                                        },
                                        {
                                          "r": "320",
                                          "s": [
                                            {
                                              "value": [
                                                "Coalesce",
                                                "("
                                              ]
                                            },
                                            {
                                              "r": "318",
                                              "s": [
                                                {
                                                  "value": [
                                                    "start of "
                                                  ]
                                                },
                                                {
                                                  "r": "317",
                                                  "s": [
                                                    {
                                                      "r": "316",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "EDVisit"
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "."
                                                      ]
                                                    },
                                                    {
                                                      "r": "317",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "relevantPeriod"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                ", "
                                              ]
                                            },
                                            {
                                              "r": "319",
                                              "s": [
                                                {
                                                  "value": [
                                                    "VisitStart"
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                ")"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            ", \n  \t"
                                          ]
                                        },
                                        {
                                          "r": "323",
                                          "s": [
                                            {
                                              "value": [
                                                "end of "
                                              ]
                                            },
                                            {
                                              "r": "322",
                                              "s": [
                                                {
                                                  "r": "321",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "Visit"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "."
                                                  ]
                                                },
                                                {
                                                  "r": "322",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "relevantPeriod"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "]"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "326",
                  "locator": "132:3-145:31",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "277",
                      "locator": "132:3-132:17",
                      "alias": "Visit",
                      "expression": {
                        "localId": "276",
                        "locator": "132:3-132:11",
                        "name": "Encounter",
                        "type": "OperandRef"
                      }
                    }
                  ],
                  "let": [
                    {
                      "localId": "293",
                      "locator": "133:8-137:4",
                      "identifier": "ObsVisit",
                      "expression": {
                        "localId": "292",
                        "locator": "133:18-137:4",
                        "type": "Last",
                        "source": {
                          "localId": "291",
                          "locator": "133:23-136:26",
                          "type": "Query",
                          "source": [
                            {
                              "localId": "279",
                              "locator": "133:23-133:78",
                              "alias": "LastObs",
                              "expression": {
                                "localId": "278",
                                "locator": "133:23-133:70",
                                "dataType": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                                "templateId": "PositiveEncounterPerformed",
                                "codeProperty": "code",
                                "codeComparator": "in",
                                "type": "Retrieve",
                                "codes": {
                                  "locator": "133:48-133:69",
                                  "name": "Observation Services",
                                  "type": "ValueSetRef"
                                }
                              }
                            }
                          ],
                          "relationship": [],
                          "where": {
                            "localId": "286",
                            "locator": "134:6-134:96",
                            "type": "And",
                            "operand": [
                              {
                                "locator": "134:40-134:53",
                                "type": "In",
                                "operand": [
                                  {
                                    "locator": "134:35-134:38",
                                    "type": "End",
                                    "operand": {
                                      "localId": "281",
                                      "locator": "134:12-134:33",
                                      "path": "relevantPeriod",
                                      "scope": "LastObs",
                                      "type": "Property"
                                    }
                                  },
                                  {
                                    "locator": "134:40-134:53",
                                    "lowClosed": true,
                                    "highClosed": true,
                                    "type": "Interval",
                                    "low": {
                                      "locator": "134:68-134:96",
                                      "type": "Subtract",
                                      "operand": [
                                        {
                                          "localId": "284",
                                          "locator": "134:68-134:96",
                                          "type": "Start",
                                          "operand": {
                                            "localId": "283",
                                            "locator": "134:77-134:96",
                                            "path": "relevantPeriod",
                                            "scope": "Visit",
                                            "type": "Property"
                                          }
                                        },
                                        {
                                          "localId": "285",
                                          "locator": "134:40-134:45",
                                          "value": 1,
                                          "unit": "hour",
                                          "type": "Quantity"
                                        }
                                      ]
                                    },
                                    "high": {
                                      "localId": "284",
                                      "locator": "134:68-134:96",
                                      "type": "Start",
                                      "operand": {
                                        "localId": "283",
                                        "locator": "134:77-134:96",
                                        "path": "relevantPeriod",
                                        "scope": "Visit",
                                        "type": "Property"
                                      }
                                    }
                                  }
                                ]
                              },
                              {
                                "locator": "134:40-134:53",
                                "type": "Not",
                                "operand": {
                                  "locator": "134:40-134:53",
                                  "type": "IsNull",
                                  "operand": {
                                    "localId": "284",
                                    "locator": "134:68-134:96",
                                    "type": "Start",
                                    "operand": {
                                      "localId": "283",
                                      "locator": "134:77-134:96",
                                      "path": "relevantPeriod",
                                      "scope": "Visit",
                                      "type": "Property"
                                    }
                                  }
                                }
                              }
                            ]
                          },
                          "sort": {
                            "localId": "290",
                            "locator": "135:6-136:26",
                            "by": [
                              {
                                "localId": "289",
                                "locator": "136:6-136:26",
                                "direction": "asc",
                                "type": "ByExpression",
                                "expression": {
                                  "localId": "288",
                                  "locator": "136:6-136:26",
                                  "type": "End",
                                  "operand": {
                                    "localId": "287",
                                    "locator": "136:13-136:26",
                                    "name": "relevantPeriod",
                                    "type": "IdentifierRef"
                                  }
                                }
                              }
                            ]
                          }
                        }
                      }
                    },
                    {
                      "localId": "301",
                      "locator": "138:4-138:88",
                      "identifier": "VisitStart",
                      "expression": {
                        "localId": "300",
                        "locator": "138:16-138:88",
                        "type": "Coalesce",
                        "operand": [
                          {
                            "localId": "296",
                            "locator": "138:25-138:56",
                            "type": "Start",
                            "operand": {
                              "localId": "295",
                              "locator": "138:34-138:56",
                              "path": "relevantPeriod",
                              "type": "Property",
                              "source": {
                                "localId": "294",
                                "locator": "138:34-138:41",
                                "name": "ObsVisit",
                                "type": "QueryLetRef"
                              }
                            }
                          },
                          {
                            "localId": "299",
                            "locator": "138:59-138:87",
                            "type": "Start",
                            "operand": {
                              "localId": "298",
                              "locator": "138:68-138:87",
                              "path": "relevantPeriod",
                              "scope": "Visit",
                              "type": "Property"
                            }
                          }
                        ]
                      }
                    },
                    {
                      "localId": "315",
                      "locator": "139:4-143:4",
                      "identifier": "EDVisit",
                      "expression": {
                        "localId": "314",
                        "locator": "139:13-143:4",
                        "type": "Last",
                        "source": {
                          "localId": "313",
                          "locator": "139:18-142:26",
                          "type": "Query",
                          "source": [
                            {
                              "localId": "303",
                              "locator": "139:18-139:78",
                              "alias": "LastED",
                              "expression": {
                                "localId": "302",
                                "locator": "139:18-139:71",
                                "dataType": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                                "templateId": "PositiveEncounterPerformed",
                                "codeProperty": "code",
                                "codeComparator": "in",
                                "type": "Retrieve",
                                "codes": {
                                  "locator": "139:43-139:70",
                                  "name": "Emergency Department Visit",
                                  "type": "ValueSetRef"
                                }
                              }
                            }
                          ],
                          "relationship": [],
                          "where": {
                            "localId": "308",
                            "locator": "140:6-140:76",
                            "type": "And",
                            "operand": [
                              {
                                "locator": "140:39-140:52",
                                "type": "In",
                                "operand": [
                                  {
                                    "locator": "140:34-140:37",
                                    "type": "End",
                                    "operand": {
                                      "localId": "305",
                                      "locator": "140:12-140:32",
                                      "path": "relevantPeriod",
                                      "scope": "LastED",
                                      "type": "Property"
                                    }
                                  },
                                  {
                                    "locator": "140:39-140:52",
                                    "lowClosed": true,
                                    "highClosed": true,
                                    "type": "Interval",
                                    "low": {
                                      "locator": "140:67-140:76",
                                      "type": "Subtract",
                                      "operand": [
                                        {
                                          "localId": "306",
                                          "locator": "140:67-140:76",
                                          "name": "VisitStart",
                                          "type": "QueryLetRef"
                                        },
                                        {
                                          "localId": "307",
                                          "locator": "140:39-140:44",
                                          "value": 1,
                                          "unit": "hour",
                                          "type": "Quantity"
                                        }
                                      ]
                                    },
                                    "high": {
                                      "localId": "306",
                                      "locator": "140:67-140:76",
                                      "name": "VisitStart",
                                      "type": "QueryLetRef"
                                    }
                                  }
                                ]
                              },
                              {
                                "locator": "140:39-140:52",
                                "type": "Not",
                                "operand": {
                                  "locator": "140:39-140:52",
                                  "type": "IsNull",
                                  "operand": {
                                    "localId": "306",
                                    "locator": "140:67-140:76",
                                    "name": "VisitStart",
                                    "type": "QueryLetRef"
                                  }
                                }
                              }
                            ]
                          },
                          "sort": {
                            "localId": "312",
                            "locator": "141:6-142:26",
                            "by": [
                              {
                                "localId": "311",
                                "locator": "142:6-142:26",
                                "direction": "asc",
                                "type": "ByExpression",
                                "expression": {
                                  "localId": "310",
                                  "locator": "142:6-142:26",
                                  "type": "End",
                                  "operand": {
                                    "localId": "309",
                                    "locator": "142:13-142:26",
                                    "name": "relevantPeriod",
                                    "type": "IdentifierRef"
                                  }
                                }
                              }
                            ]
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "return": {
                    "localId": "325",
                    "locator": "144:4-145:31",
                    "expression": {
                      "localId": "324",
                      "locator": "144:11-145:31",
                      "lowClosed": true,
                      "highClosed": true,
                      "type": "Interval",
                      "low": {
                        "localId": "320",
                        "locator": "144:20-144:72",
                        "type": "Coalesce",
                        "operand": [
                          {
                            "localId": "318",
                            "locator": "144:29-144:59",
                            "type": "Start",
                            "operand": {
                              "localId": "317",
                              "locator": "144:38-144:59",
                              "path": "relevantPeriod",
                              "type": "Property",
                              "source": {
                                "localId": "316",
                                "locator": "144:38-144:44",
                                "name": "EDVisit",
                                "type": "QueryLetRef"
                              }
                            }
                          },
                          {
                            "localId": "319",
                            "locator": "144:62-144:71",
                            "name": "VisitStart",
                            "type": "QueryLetRef"
                          }
                        ]
                      },
                      "high": {
                        "localId": "323",
                        "locator": "145:4-145:30",
                        "type": "End",
                        "operand": {
                          "localId": "322",
                          "locator": "145:11-145:30",
                          "path": "relevantPeriod",
                          "scope": "Visit",
                          "type": "Property"
                        }
                      }
                    }
                  }
                },
                "operand": [
                  {
                    "name": "Encounter",
                    "operandTypeSpecifier": {
                      "localId": "275",
                      "locator": "131:60-131:81",
                      "name": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              {
                "localId": "342",
                "locator": "148:1-149:100",
                "name": "ToDate",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "342",
                      "s": [
                        {
                          "value": [
                            "/*ToDate takes a given DateTime value and returns a DateTime with the time components \"zeroed\", and the timezone of the input value, for example, given the DateTime @2012-01-01T06:30:00.0Z, this function will return @2012-01-01T00:00:00.0Z.*/",
                            "define function ",
                            "\"ToDate\"",
                            "(",
                            "Value",
                            " "
                          ]
                        },
                        {
                          "r": "328",
                          "s": [
                            {
                              "value": [
                                "DateTime"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "341",
                          "s": [
                            {
                              "r": "341",
                              "s": [
                                {
                                  "value": [
                                    "DateTime",
                                    "("
                                  ]
                                },
                                {
                                  "r": "330",
                                  "s": [
                                    {
                                      "value": [
                                        "year from "
                                      ]
                                    },
                                    {
                                      "r": "329",
                                      "s": [
                                        {
                                          "value": [
                                            "Value"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    ", "
                                  ]
                                },
                                {
                                  "r": "332",
                                  "s": [
                                    {
                                      "value": [
                                        "month from "
                                      ]
                                    },
                                    {
                                      "r": "331",
                                      "s": [
                                        {
                                          "value": [
                                            "Value"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    ", "
                                  ]
                                },
                                {
                                  "r": "334",
                                  "s": [
                                    {
                                      "value": [
                                        "day from "
                                      ]
                                    },
                                    {
                                      "r": "333",
                                      "s": [
                                        {
                                          "value": [
                                            "Value"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "r": "335",
                                  "value": [
                                    ", ",
                                    "0",
                                    ", ",
                                    "0",
                                    ", ",
                                    "0",
                                    ", ",
                                    "0",
                                    ", "
                                  ]
                                },
                                {
                                  "r": "340",
                                  "s": [
                                    {
                                      "value": [
                                        "timezoneoffset from "
                                      ]
                                    },
                                    {
                                      "r": "339",
                                      "s": [
                                        {
                                          "value": [
                                            "Value"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    ")"
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "341",
                  "locator": "149:3-149:100",
                  "type": "DateTime",
                  "year": {
                    "localId": "330",
                    "locator": "149:12-149:26",
                    "precision": "Year",
                    "type": "DateTimeComponentFrom",
                    "operand": {
                      "localId": "329",
                      "locator": "149:22-149:26",
                      "name": "Value",
                      "type": "OperandRef"
                    }
                  },
                  "month": {
                    "localId": "332",
                    "locator": "149:29-149:44",
                    "precision": "Month",
                    "type": "DateTimeComponentFrom",
                    "operand": {
                      "localId": "331",
                      "locator": "149:40-149:44",
                      "name": "Value",
                      "type": "OperandRef"
                    }
                  },
                  "day": {
                    "localId": "334",
                    "locator": "149:47-149:60",
                    "precision": "Day",
                    "type": "DateTimeComponentFrom",
                    "operand": {
                      "localId": "333",
                      "locator": "149:56-149:60",
                      "name": "Value",
                      "type": "OperandRef"
                    }
                  },
                  "hour": {
                    "localId": "335",
                    "locator": "149:63",
                    "valueType": "{urn:hl7-org:elm-types:r1}Integer",
                    "value": "0",
                    "type": "Literal"
                  },
                  "minute": {
                    "localId": "336",
                    "locator": "149:66",
                    "valueType": "{urn:hl7-org:elm-types:r1}Integer",
                    "value": "0",
                    "type": "Literal"
                  },
                  "second": {
                    "localId": "337",
                    "locator": "149:69",
                    "valueType": "{urn:hl7-org:elm-types:r1}Integer",
                    "value": "0",
                    "type": "Literal"
                  },
                  "millisecond": {
                    "localId": "338",
                    "locator": "149:72",
                    "valueType": "{urn:hl7-org:elm-types:r1}Integer",
                    "value": "0",
                    "type": "Literal"
                  },
                  "timezoneOffset": {
                    "localId": "340",
                    "locator": "149:75-149:99",
                    "type": "TimezoneOffsetFrom",
                    "operand": {
                      "localId": "339",
                      "locator": "149:95-149:99",
                      "name": "Value",
                      "type": "OperandRef"
                    }
                  }
                },
                "operand": [
                  {
                    "name": "Value",
                    "operandTypeSpecifier": {
                      "localId": "328",
                      "locator": "148:32-148:39",
                      "name": "{urn:hl7-org:elm-types:r1}DateTime",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              {
                "localId": "347",
                "locator": "152:1-153:61",
                "name": "HospitalizationWithObservationLengthofStay",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "347",
                      "s": [
                        {
                          "value": [
                            "/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/",
                            "define function ",
                            "\"HospitalizationWithObservationLengthofStay\"",
                            "(",
                            "Encounter",
                            " "
                          ]
                        },
                        {
                          "r": "343",
                          "s": [
                            {
                              "value": [
                                "\"Encounter, Performed\""
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "346",
                          "s": [
                            {
                              "r": "346",
                              "s": [
                                {
                                  "value": [
                                    "\"LengthInDays\"",
                                    "("
                                  ]
                                },
                                {
                                  "r": "345",
                                  "s": [
                                    {
                                      "value": [
                                        "\"HospitalizationWithObservation\"",
                                        "("
                                      ]
                                    },
                                    {
                                      "r": "344",
                                      "s": [
                                        {
                                          "value": [
                                            "Encounter"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        ")"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    ")"
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "346",
                  "locator": "153:3-153:61",
                  "name": "LengthInDays",
                  "type": "FunctionRef",
                  "operand": [
                    {
                      "localId": "345",
                      "locator": "153:18-153:60",
                      "name": "HospitalizationWithObservation",
                      "type": "FunctionRef",
                      "operand": [
                        {
                          "localId": "344",
                          "locator": "153:51-153:59",
                          "name": "Encounter",
                          "type": "OperandRef"
                        }
                      ]
                    }
                  ]
                },
                "operand": [
                  {
                    "name": "Encounter",
                    "operandTypeSpecifier": {
                      "localId": "343",
                      "locator": "152:72-152:93",
                      "name": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              {
                "localId": "368",
                "locator": "156:1-161:3",
                "name": "FirstInpatientIntensiveCareUnit",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "368",
                      "s": [
                        {
                          "value": [
                            "/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/",
                            "define function ",
                            "\"FirstInpatientIntensiveCareUnit\"",
                            "(",
                            "Encounter",
                            " "
                          ]
                        },
                        {
                          "r": "348",
                          "s": [
                            {
                              "value": [
                                "\"Encounter, Performed\""
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "367",
                          "s": [
                            {
                              "r": "367",
                              "s": [
                                {
                                  "value": [
                                    "First",
                                    "("
                                  ]
                                },
                                {
                                  "r": "366",
                                  "s": [
                                    {
                                      "s": [
                                        {
                                          "r": "351",
                                          "s": [
                                            {
                                              "r": "350",
                                              "s": [
                                                {
                                                  "value": [
                                                    "("
                                                  ]
                                                },
                                                {
                                                  "r": "350",
                                                  "s": [
                                                    {
                                                      "r": "349",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "Encounter"
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "."
                                                      ]
                                                    },
                                                    {
                                                      "r": "350",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "facilityLocations"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    ")"
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "HospitalLocation"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        "\n      "
                                      ]
                                    },
                                    {
                                      "r": "361",
                                      "s": [
                                        {
                                          "value": [
                                            "where "
                                          ]
                                        },
                                        {
                                          "r": "361",
                                          "s": [
                                            {
                                              "r": "355",
                                              "s": [
                                                {
                                                  "r": "353",
                                                  "s": [
                                                    {
                                                      "r": "352",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "HospitalLocation"
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "."
                                                      ]
                                                    },
                                                    {
                                                      "r": "353",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "code"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    " in "
                                                  ]
                                                },
                                                {
                                                  "r": "354",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "\"Intensive Care Unit\""
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n        and "
                                              ]
                                            },
                                            {
                                              "r": "360",
                                              "s": [
                                                {
                                                  "r": "357",
                                                  "s": [
                                                    {
                                                      "r": "356",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "HospitalLocation"
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "."
                                                      ]
                                                    },
                                                    {
                                                      "r": "357",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "locationPeriod"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "r": "360",
                                                  "value": [
                                                    " ",
                                                    "during",
                                                    " "
                                                  ]
                                                },
                                                {
                                                  "r": "359",
                                                  "s": [
                                                    {
                                                      "r": "358",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "Encounter"
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "."
                                                      ]
                                                    },
                                                    {
                                                      "r": "359",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "relevantPeriod"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        "\n      "
                                      ]
                                    },
                                    {
                                      "r": "365",
                                      "s": [
                                        {
                                          "value": [
                                            "sort by "
                                          ]
                                        },
                                        {
                                          "r": "364",
                                          "s": [
                                            {
                                              "r": "363",
                                              "s": [
                                                {
                                                  "value": [
                                                    "start of "
                                                  ]
                                                },
                                                {
                                                  "r": "362",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "locationPeriod"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n  )"
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "367",
                  "locator": "157:3-161:3",
                  "type": "First",
                  "source": {
                    "localId": "366",
                    "locator": "157:9-160:37",
                    "type": "Query",
                    "source": [
                      {
                        "localId": "351",
                        "locator": "157:9-157:53",
                        "alias": "HospitalLocation",
                        "expression": {
                          "localId": "350",
                          "locator": "157:9-157:37",
                          "path": "facilityLocations",
                          "type": "Property",
                          "source": {
                            "localId": "349",
                            "locator": "157:10-157:18",
                            "name": "Encounter",
                            "type": "OperandRef"
                          }
                        }
                      }
                    ],
                    "relationship": [],
                    "where": {
                      "localId": "361",
                      "locator": "158:7-159:75",
                      "type": "And",
                      "operand": [
                        {
                          "localId": "355",
                          "locator": "158:13-158:58",
                          "type": "InValueSet",
                          "code": {
                            "localId": "353",
                            "locator": "158:13-158:33",
                            "path": "code",
                            "scope": "HospitalLocation",
                            "type": "Property"
                          },
                          "valueset": {
                            "localId": "354",
                            "locator": "158:38-158:58",
                            "name": "Intensive Care Unit",
                            "type": "ValueSetRef"
                          }
                        },
                        {
                          "localId": "360",
                          "locator": "159:13-159:75",
                          "type": "IncludedIn",
                          "operand": [
                            {
                              "localId": "357",
                              "locator": "159:13-159:43",
                              "path": "locationPeriod",
                              "scope": "HospitalLocation",
                              "type": "Property"
                            },
                            {
                              "localId": "359",
                              "locator": "159:52-159:75",
                              "path": "relevantPeriod",
                              "type": "Property",
                              "source": {
                                "localId": "358",
                                "locator": "159:52-159:60",
                                "name": "Encounter",
                                "type": "OperandRef"
                              }
                            }
                          ]
                        }
                      ]
                    },
                    "sort": {
                      "localId": "365",
                      "locator": "160:7-160:37",
                      "by": [
                        {
                          "localId": "364",
                          "locator": "160:15-160:37",
                          "direction": "asc",
                          "type": "ByExpression",
                          "expression": {
                            "localId": "363",
                            "locator": "160:15-160:37",
                            "type": "Start",
                            "operand": {
                              "localId": "362",
                              "locator": "160:24-160:37",
                              "name": "locationPeriod",
                              "type": "IdentifierRef"
                            }
                          }
                        }
                      ]
                    }
                  }
                },
                "operand": [
                  {
                    "name": "Encounter",
                    "operandTypeSpecifier": {
                      "localId": "348",
                      "locator": "156:61-156:82",
                      "name": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                      "type": "NamedTypeSpecifier"
                    }
                  }
                ]
              },
              {
                "localId": "386",
                "locator": "164:1-167:35",
                "name": "NormalizeInterval",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "386",
                      "s": [
                        {
                          "value": [
                            "/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/",
                            "define function ",
                            "\"NormalizeInterval\"",
                            "(",
                            "pointInTime",
                            " "
                          ]
                        },
                        {
                          "r": "369",
                          "s": [
                            {
                              "value": [
                                "DateTime"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            ", ",
                            "period",
                            " "
                          ]
                        },
                        {
                          "r": "371",
                          "s": [
                            {
                              "value": [
                                "Interval<"
                              ]
                            },
                            {
                              "r": "370",
                              "s": [
                                {
                                  "value": [
                                    "DateTime"
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                ">"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "385",
                          "s": [
                            {
                              "r": "385",
                              "s": [
                                {
                                  "value": [
                                    "if "
                                  ]
                                },
                                {
                                  "r": "373",
                                  "s": [
                                    {
                                      "r": "372",
                                      "s": [
                                        {
                                          "value": [
                                            "pointInTime"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " is not null"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    " then "
                                  ]
                                },
                                {
                                  "r": "376",
                                  "s": [
                                    {
                                      "value": [
                                        "Interval["
                                      ]
                                    },
                                    {
                                      "r": "374",
                                      "s": [
                                        {
                                          "value": [
                                            "pointInTime"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        ", "
                                      ]
                                    },
                                    {
                                      "r": "375",
                                      "s": [
                                        {
                                          "value": [
                                            "pointInTime"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        "]"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n    else "
                                  ]
                                },
                                {
                                  "r": "384",
                                  "s": [
                                    {
                                      "value": [
                                        "if "
                                      ]
                                    },
                                    {
                                      "r": "378",
                                      "s": [
                                        {
                                          "r": "377",
                                          "s": [
                                            {
                                              "value": [
                                                "period"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " is not null"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " then "
                                      ]
                                    },
                                    {
                                      "r": "379",
                                      "s": [
                                        {
                                          "value": [
                                            "period"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " \n    else "
                                      ]
                                    },
                                    {
                                      "r": "383",
                                      "s": [
                                        {
                                          "r": "380",
                                          "value": [
                                            "null",
                                            " as "
                                          ]
                                        },
                                        {
                                          "r": "382",
                                          "s": [
                                            {
                                              "value": [
                                                "Interval<"
                                              ]
                                            },
                                            {
                                              "r": "381",
                                              "s": [
                                                {
                                                  "value": [
                                                    "DateTime"
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                ">"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "385",
                  "locator": "165:3-167:35",
                  "type": "If",
                  "condition": {
                    "localId": "373",
                    "locator": "165:6-165:28",
                    "type": "Not",
                    "operand": {
                      "locator": "165:6-165:28",
                      "type": "IsNull",
                      "operand": {
                        "localId": "372",
                        "locator": "165:6-165:16",
                        "name": "pointInTime",
                        "type": "OperandRef"
                      }
                    }
                  },
                  "then": {
                    "localId": "376",
                    "locator": "165:35-165:68",
                    "lowClosed": true,
                    "highClosed": true,
                    "type": "Interval",
                    "low": {
                      "localId": "374",
                      "locator": "165:44-165:54",
                      "name": "pointInTime",
                      "type": "OperandRef"
                    },
                    "high": {
                      "localId": "375",
                      "locator": "165:57-165:67",
                      "name": "pointInTime",
                      "type": "OperandRef"
                    }
                  },
                  "else": {
                    "localId": "384",
                    "locator": "166:10-167:35",
                    "type": "If",
                    "condition": {
                      "localId": "378",
                      "locator": "166:13-166:30",
                      "type": "Not",
                      "operand": {
                        "locator": "166:13-166:30",
                        "type": "IsNull",
                        "operand": {
                          "localId": "377",
                          "locator": "166:13-166:18",
                          "name": "period",
                          "type": "OperandRef"
                        }
                      }
                    },
                    "then": {
                      "localId": "379",
                      "locator": "166:37-166:42",
                      "name": "period",
                      "type": "OperandRef"
                    },
                    "else": {
                      "localId": "383",
                      "locator": "167:10-167:35",
                      "strict": false,
                      "type": "As",
                      "operand": {
                        "localId": "380",
                        "locator": "167:10-167:13",
                        "type": "Null"
                      },
                      "asTypeSpecifier": {
                        "localId": "382",
                        "locator": "167:18-167:35",
                        "type": "IntervalTypeSpecifier",
                        "pointType": {
                          "localId": "381",
                          "locator": "167:27-167:34",
                          "name": "{urn:hl7-org:elm-types:r1}DateTime",
                          "type": "NamedTypeSpecifier"
                        }
                      }
                    }
                  }
                },
                "operand": [
                  {
                    "name": "pointInTime",
                    "operandTypeSpecifier": {
                      "localId": "369",
                      "locator": "164:49-164:56",
                      "name": "{urn:hl7-org:elm-types:r1}DateTime",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  {
                    "name": "period",
                    "operandTypeSpecifier": {
                      "localId": "371",
                      "locator": "164:66-164:83",
                      "type": "IntervalTypeSpecifier",
                      "pointType": {
                        "localId": "370",
                        "locator": "164:75-164:82",
                        "name": "{urn:hl7-org:elm-types:r1}DateTime",
                        "type": "NamedTypeSpecifier"
                      }
                    }
                  }
                ]
              },
              {
                "localId": "399",
                "locator": "170:1-173:3",
                "name": "HasStart",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "399",
                      "s": [
                        {
                          "value": [
                            "/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/",
                            "define function ",
                            "\"HasStart\"",
                            "(",
                            "period",
                            " "
                          ]
                        },
                        {
                          "r": "388",
                          "s": [
                            {
                              "value": [
                                "Interval<"
                              ]
                            },
                            {
                              "r": "387",
                              "s": [
                                {
                                  "value": [
                                    "DateTime"
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                ">"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "398",
                          "s": [
                            {
                              "r": "398",
                              "s": [
                                {
                                  "value": [
                                    "not "
                                  ]
                                },
                                {
                                  "r": "397",
                                  "s": [
                                    {
                                      "value": [
                                        "( "
                                      ]
                                    },
                                    {
                                      "r": "397",
                                      "s": [
                                        {
                                          "r": "391",
                                          "s": [
                                            {
                                              "r": "390",
                                              "s": [
                                                {
                                                  "value": [
                                                    "start of "
                                                  ]
                                                },
                                                {
                                                  "r": "389",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "period"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                " is null"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "\n      or "
                                          ]
                                        },
                                        {
                                          "r": "396",
                                          "s": [
                                            {
                                              "r": "393",
                                              "s": [
                                                {
                                                  "value": [
                                                    "start of "
                                                  ]
                                                },
                                                {
                                                  "r": "392",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "period"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                " ",
                                                "=",
                                                " "
                                              ]
                                            },
                                            {
                                              "r": "395",
                                              "s": [
                                                {
                                                  "value": [
                                                    "minimum",
                                                    " "
                                                  ]
                                                },
                                                {
                                                  "r": "394",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "DateTime"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        "\n  )"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "398",
                  "locator": "171:3-173:3",
                  "type": "Not",
                  "operand": {
                    "localId": "397",
                    "locator": "171:7-173:3",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "391",
                        "locator": "171:9-171:31",
                        "type": "IsNull",
                        "operand": {
                          "localId": "390",
                          "locator": "171:9-171:23",
                          "type": "Start",
                          "operand": {
                            "localId": "389",
                            "locator": "171:18-171:23",
                            "name": "period",
                            "type": "OperandRef"
                          }
                        }
                      },
                      {
                        "localId": "396",
                        "locator": "172:10-172:43",
                        "type": "Equal",
                        "operand": [
                          {
                            "localId": "393",
                            "locator": "172:10-172:24",
                            "type": "Start",
                            "operand": {
                              "localId": "392",
                              "locator": "172:19-172:24",
                              "name": "period",
                              "type": "OperandRef"
                            }
                          },
                          {
                            "localId": "395",
                            "locator": "172:28-172:43",
                            "valueType": "{urn:hl7-org:elm-types:r1}DateTime",
                            "type": "MinValue"
                          }
                        ]
                      }
                    ]
                  }
                },
                "operand": [
                  {
                    "name": "period",
                    "operandTypeSpecifier": {
                      "localId": "388",
                      "locator": "170:35-170:52",
                      "type": "IntervalTypeSpecifier",
                      "pointType": {
                        "localId": "387",
                        "locator": "170:44-170:51",
                        "name": "{urn:hl7-org:elm-types:r1}DateTime",
                        "type": "NamedTypeSpecifier"
                      }
                    }
                  }
                ]
              },
              {
                "localId": "412",
                "locator": "176:1-181:3",
                "name": "HasEnd",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "412",
                      "s": [
                        {
                          "value": [
                            "/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/",
                            "define function ",
                            "\"HasEnd\"",
                            "(",
                            "period",
                            " "
                          ]
                        },
                        {
                          "r": "401",
                          "s": [
                            {
                              "value": [
                                "Interval<"
                              ]
                            },
                            {
                              "r": "400",
                              "s": [
                                {
                                  "value": [
                                    "DateTime"
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                ">"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "411",
                          "s": [
                            {
                              "r": "411",
                              "s": [
                                {
                                  "value": [
                                    "not "
                                  ]
                                },
                                {
                                  "r": "410",
                                  "s": [
                                    {
                                      "value": [
                                        "( \n    "
                                      ]
                                    },
                                    {
                                      "r": "410",
                                      "s": [
                                        {
                                          "r": "404",
                                          "s": [
                                            {
                                              "r": "403",
                                              "s": [
                                                {
                                                  "value": [
                                                    "end of "
                                                  ]
                                                },
                                                {
                                                  "r": "402",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "period"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                " is null"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "\n      or \n      "
                                          ]
                                        },
                                        {
                                          "r": "409",
                                          "s": [
                                            {
                                              "r": "406",
                                              "s": [
                                                {
                                                  "value": [
                                                    "end of "
                                                  ]
                                                },
                                                {
                                                  "r": "405",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "period"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                " ",
                                                "=",
                                                " "
                                              ]
                                            },
                                            {
                                              "r": "408",
                                              "s": [
                                                {
                                                  "value": [
                                                    "maximum",
                                                    " "
                                                  ]
                                                },
                                                {
                                                  "r": "407",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "DateTime"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        "\n  )"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "411",
                  "locator": "177:3-181:3",
                  "type": "Not",
                  "operand": {
                    "localId": "410",
                    "locator": "177:7-181:3",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "404",
                        "locator": "178:5-178:25",
                        "type": "IsNull",
                        "operand": {
                          "localId": "403",
                          "locator": "178:5-178:17",
                          "type": "End",
                          "operand": {
                            "localId": "402",
                            "locator": "178:12-178:17",
                            "name": "period",
                            "type": "OperandRef"
                          }
                        }
                      },
                      {
                        "localId": "409",
                        "locator": "180:7-180:38",
                        "type": "Equal",
                        "operand": [
                          {
                            "localId": "406",
                            "locator": "180:7-180:19",
                            "type": "End",
                            "operand": {
                              "localId": "405",
                              "locator": "180:14-180:19",
                              "name": "period",
                              "type": "OperandRef"
                            }
                          },
                          {
                            "localId": "408",
                            "locator": "180:23-180:38",
                            "valueType": "{urn:hl7-org:elm-types:r1}DateTime",
                            "type": "MaxValue"
                          }
                        ]
                      }
                    ]
                  }
                },
                "operand": [
                  {
                    "name": "period",
                    "operandTypeSpecifier": {
                      "localId": "401",
                      "locator": "176:33-176:50",
                      "type": "IntervalTypeSpecifier",
                      "pointType": {
                        "localId": "400",
                        "locator": "176:42-176:49",
                        "name": "{urn:hl7-org:elm-types:r1}DateTime",
                        "type": "NamedTypeSpecifier"
                      }
                    }
                  }
                ]
              },
              {
                "localId": "422",
                "locator": "184:1-187:24",
                "name": "Latest",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "422",
                      "s": [
                        {
                          "value": [
                            "/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/",
                            "define function ",
                            "\"Latest\"",
                            "(",
                            "period",
                            " "
                          ]
                        },
                        {
                          "r": "414",
                          "s": [
                            {
                              "value": [
                                "Interval<"
                              ]
                            },
                            {
                              "r": "413",
                              "s": [
                                {
                                  "value": [
                                    "DateTime"
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                ">"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "421",
                          "s": [
                            {
                              "r": "421",
                              "s": [
                                {
                                  "value": [
                                    "if "
                                  ]
                                },
                                {
                                  "r": "416",
                                  "s": [
                                    {
                                      "value": [
                                        "( "
                                      ]
                                    },
                                    {
                                      "r": "416",
                                      "s": [
                                        {
                                          "value": [
                                            "HasEnd",
                                            "("
                                          ]
                                        },
                                        {
                                          "r": "415",
                                          "s": [
                                            {
                                              "value": [
                                                "period"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            ")"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        ")"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    " then \n  "
                                  ]
                                },
                                {
                                  "r": "418",
                                  "s": [
                                    {
                                      "value": [
                                        "end of "
                                      ]
                                    },
                                    {
                                      "r": "417",
                                      "s": [
                                        {
                                          "value": [
                                            "period"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    " \n    else "
                                  ]
                                },
                                {
                                  "r": "420",
                                  "s": [
                                    {
                                      "value": [
                                        "start of "
                                      ]
                                    },
                                    {
                                      "r": "419",
                                      "s": [
                                        {
                                          "value": [
                                            "period"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "421",
                  "locator": "185:3-187:24",
                  "type": "If",
                  "condition": {
                    "localId": "416",
                    "locator": "185:6-185:22",
                    "name": "HasEnd",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "415",
                        "locator": "185:15-185:20",
                        "name": "period",
                        "type": "OperandRef"
                      }
                    ]
                  },
                  "then": {
                    "localId": "418",
                    "locator": "186:3-186:15",
                    "type": "End",
                    "operand": {
                      "localId": "417",
                      "locator": "186:10-186:15",
                      "name": "period",
                      "type": "OperandRef"
                    }
                  },
                  "else": {
                    "localId": "420",
                    "locator": "187:10-187:24",
                    "type": "Start",
                    "operand": {
                      "localId": "419",
                      "locator": "187:19-187:24",
                      "name": "period",
                      "type": "OperandRef"
                    }
                  }
                },
                "operand": [
                  {
                    "name": "period",
                    "operandTypeSpecifier": {
                      "localId": "414",
                      "locator": "184:33-184:50",
                      "type": "IntervalTypeSpecifier",
                      "pointType": {
                        "localId": "413",
                        "locator": "184:42-184:49",
                        "name": "{urn:hl7-org:elm-types:r1}DateTime",
                        "type": "NamedTypeSpecifier"
                      }
                    }
                  }
                ]
              },
              {
                "localId": "432",
                "locator": "190:1-193:15",
                "name": "Earliest",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "432",
                      "s": [
                        {
                          "value": [
                            "/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/",
                            "define function ",
                            "\"Earliest\"",
                            "(",
                            "period",
                            " "
                          ]
                        },
                        {
                          "r": "424",
                          "s": [
                            {
                              "value": [
                                "Interval<"
                              ]
                            },
                            {
                              "r": "423",
                              "s": [
                                {
                                  "value": [
                                    "DateTime"
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                ">"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "431",
                          "s": [
                            {
                              "r": "431",
                              "s": [
                                {
                                  "value": [
                                    "if "
                                  ]
                                },
                                {
                                  "r": "426",
                                  "s": [
                                    {
                                      "value": [
                                        "( "
                                      ]
                                    },
                                    {
                                      "r": "426",
                                      "s": [
                                        {
                                          "value": [
                                            "HasStart",
                                            "("
                                          ]
                                        },
                                        {
                                          "r": "425",
                                          "s": [
                                            {
                                              "value": [
                                                "period"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            ")"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        ")"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    " then "
                                  ]
                                },
                                {
                                  "r": "428",
                                  "s": [
                                    {
                                      "value": [
                                        "start of "
                                      ]
                                    },
                                    {
                                      "r": "427",
                                      "s": [
                                        {
                                          "value": [
                                            "period"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    " \n    else \n  "
                                  ]
                                },
                                {
                                  "r": "430",
                                  "s": [
                                    {
                                      "value": [
                                        "end of "
                                      ]
                                    },
                                    {
                                      "r": "429",
                                      "s": [
                                        {
                                          "value": [
                                            "period"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "431",
                  "locator": "191:3-193:15",
                  "type": "If",
                  "condition": {
                    "localId": "426",
                    "locator": "191:6-191:24",
                    "name": "HasStart",
                    "type": "FunctionRef",
                    "operand": [
                      {
                        "localId": "425",
                        "locator": "191:17-191:22",
                        "name": "period",
                        "type": "OperandRef"
                      }
                    ]
                  },
                  "then": {
                    "localId": "428",
                    "locator": "191:31-191:45",
                    "type": "Start",
                    "operand": {
                      "localId": "427",
                      "locator": "191:40-191:45",
                      "name": "period",
                      "type": "OperandRef"
                    }
                  },
                  "else": {
                    "localId": "430",
                    "locator": "193:3-193:15",
                    "type": "End",
                    "operand": {
                      "localId": "429",
                      "locator": "193:10-193:15",
                      "name": "period",
                      "type": "OperandRef"
                    }
                  }
                },
                "operand": [
                  {
                    "name": "period",
                    "operandTypeSpecifier": {
                      "localId": "424",
                      "locator": "190:35-190:52",
                      "type": "IntervalTypeSpecifier",
                      "pointType": {
                        "localId": "423",
                        "locator": "190:44-190:51",
                        "name": "{urn:hl7-org:elm-types:r1}DateTime",
                        "type": "NamedTypeSpecifier"
                      }
                    }
                  }
                ]
              },
              {
                "localId": "440",
                "locator": "196:1-197:48",
                "name": "LatestOf",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "440",
                      "s": [
                        {
                          "value": [
                            "/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/",
                            "define function ",
                            "\"LatestOf\"",
                            "(",
                            "pointInTime",
                            " "
                          ]
                        },
                        {
                          "r": "433",
                          "s": [
                            {
                              "value": [
                                "DateTime"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            ", ",
                            "period",
                            " "
                          ]
                        },
                        {
                          "r": "435",
                          "s": [
                            {
                              "value": [
                                "Interval<"
                              ]
                            },
                            {
                              "r": "434",
                              "s": [
                                {
                                  "value": [
                                    "DateTime"
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                ">"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "439",
                          "s": [
                            {
                              "r": "439",
                              "s": [
                                {
                                  "value": [
                                    "Latest",
                                    "("
                                  ]
                                },
                                {
                                  "r": "438",
                                  "s": [
                                    {
                                      "value": [
                                        "NormalizeInterval",
                                        "("
                                      ]
                                    },
                                    {
                                      "r": "436",
                                      "s": [
                                        {
                                          "value": [
                                            "pointInTime"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        ", "
                                      ]
                                    },
                                    {
                                      "r": "437",
                                      "s": [
                                        {
                                          "value": [
                                            "period"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        ")"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    ")"
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "439",
                  "locator": "197:3-197:48",
                  "name": "Latest",
                  "type": "FunctionRef",
                  "operand": [
                    {
                      "localId": "438",
                      "locator": "197:10-197:47",
                      "name": "NormalizeInterval",
                      "type": "FunctionRef",
                      "operand": [
                        {
                          "localId": "436",
                          "locator": "197:28-197:38",
                          "name": "pointInTime",
                          "type": "OperandRef"
                        },
                        {
                          "localId": "437",
                          "locator": "197:41-197:46",
                          "name": "period",
                          "type": "OperandRef"
                        }
                      ]
                    }
                  ]
                },
                "operand": [
                  {
                    "name": "pointInTime",
                    "operandTypeSpecifier": {
                      "localId": "433",
                      "locator": "196:40-196:47",
                      "name": "{urn:hl7-org:elm-types:r1}DateTime",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  {
                    "name": "period",
                    "operandTypeSpecifier": {
                      "localId": "435",
                      "locator": "196:57-196:74",
                      "type": "IntervalTypeSpecifier",
                      "pointType": {
                        "localId": "434",
                        "locator": "196:66-196:73",
                        "name": "{urn:hl7-org:elm-types:r1}DateTime",
                        "type": "NamedTypeSpecifier"
                      }
                    }
                  }
                ]
              },
              {
                "localId": "448",
                "locator": "200:1-201:50",
                "name": "EarliestOf",
                "context": "Patient",
                "accessLevel": "Public",
                "type": "FunctionDef",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "448",
                      "s": [
                        {
                          "value": [
                            "/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/",
                            "define function ",
                            "\"EarliestOf\"",
                            "(",
                            "pointInTime",
                            " "
                          ]
                        },
                        {
                          "r": "441",
                          "s": [
                            {
                              "value": [
                                "DateTime"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            ", ",
                            "period",
                            " "
                          ]
                        },
                        {
                          "r": "443",
                          "s": [
                            {
                              "value": [
                                "Interval<"
                              ]
                            },
                            {
                              "r": "442",
                              "s": [
                                {
                                  "value": [
                                    "DateTime"
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                ">"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " ):\n  "
                          ]
                        },
                        {
                          "r": "447",
                          "s": [
                            {
                              "r": "447",
                              "s": [
                                {
                                  "value": [
                                    "Earliest",
                                    "("
                                  ]
                                },
                                {
                                  "r": "446",
                                  "s": [
                                    {
                                      "value": [
                                        "NormalizeInterval",
                                        "("
                                      ]
                                    },
                                    {
                                      "r": "444",
                                      "s": [
                                        {
                                          "value": [
                                            "pointInTime"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        ", "
                                      ]
                                    },
                                    {
                                      "r": "445",
                                      "s": [
                                        {
                                          "value": [
                                            "period"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        ")"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    ")"
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "447",
                  "locator": "201:3-201:50",
                  "name": "Earliest",
                  "type": "FunctionRef",
                  "operand": [
                    {
                      "localId": "446",
                      "locator": "201:12-201:49",
                      "name": "NormalizeInterval",
                      "type": "FunctionRef",
                      "operand": [
                        {
                          "localId": "444",
                          "locator": "201:30-201:40",
                          "name": "pointInTime",
                          "type": "OperandRef"
                        },
                        {
                          "localId": "445",
                          "locator": "201:43-201:48",
                          "name": "period",
                          "type": "OperandRef"
                        }
                      ]
                    }
                  ]
                },
                "operand": [
                  {
                    "name": "pointInTime",
                    "operandTypeSpecifier": {
                      "localId": "441",
                      "locator": "200:42-200:49",
                      "name": "{urn:hl7-org:elm-types:r1}DateTime",
                      "type": "NamedTypeSpecifier"
                    }
                  },
                  {
                    "name": "period",
                    "operandTypeSpecifier": {
                      "localId": "443",
                      "locator": "200:59-200:76",
                      "type": "IntervalTypeSpecifier",
                      "pointType": {
                        "localId": "442",
                        "locator": "200:68-200:75",
                        "name": "{urn:hl7-org:elm-types:r1}DateTime",
                        "type": "NamedTypeSpecifier"
                      }
                    }
                  }
                ]
              }
            ]
          }
        }
      },
      "cql": "library MATGlobalCommonFunctionsNEW version '7.0.000'\n\n/*This is an interim version for use prior to AU 2020 release.  We anticipate another release for inclusion with the program measures in Spring 2020*/\n\nusing QDM version '5.6'\n\nvalueset \"Emergency Department Visit\": 'urn:oid:2.16.840.1.113883.3.117.1.7.1.292' \nvalueset \"Encounter Inpatient\": 'urn:oid:2.16.840.1.113883.3.666.5.307' \nvalueset \"Intensive Care Unit\": 'urn:oid:2.16.840.1.113762.1.4.1029.206' \nvalueset \"Observation Services\": 'urn:oid:2.16.840.1.113762.1.4.1111.143' \nvalueset \"Outpatient Surgery Service\": 'urn:oid:2.16.840.1.113762.1.4.1110.38' \n\nparameter \"Measurement Period\" Interval<DateTime>\n\ncontext Patient\n\ndefine \"ED Encounter\":\n  [\"Encounter, Performed\": \"Emergency Department Visit\"]\n\ndefine \"Inpatient Encounter\":\n  [\"Encounter, Performed\": \"Encounter Inpatient\"] EncounterInpatient\n    where \"LengthInDays\"(EncounterInpatient.relevantPeriod)<= 120\n      and EncounterInpatient.relevantPeriod ends during day of \"Measurement Period\"\n\n/*CalendarAgeInDaysAt calculates the calendar age (meaning the age without considering time components) in days.*/\ndefine function \"CalendarAgeInDaysAt\"(BirthDateTime DateTime, AsOf DateTime ):\n  days between ToDate(BirthDateTime)and ToDate(AsOf)\n\n/*CalendarAgeInDays calculates the calendar age (meaning the age without considering time components) in days as of today*/\ndefine function \"CalendarAgeInDays\"(BirthDateTime DateTime ):\n  CalendarAgeInDaysAt(BirthDateTime, Today())\n\n/*CalendarAgeInMonthsAt calculates the calendar age (meaning the age without considering time components) in months.*/\ndefine function \"CalendarAgeInMonthsAt\"(BirthDateTime DateTime, AsOf DateTime ):\n  months between ToDate(BirthDateTime)and ToDate(AsOf)\n\n/*CalendarAgeInMonths calculates the calendar age (meaning the age without considering time components) in months as of today.*/\ndefine function \"CalendarAgeInMonths\"(BirthDateTime DateTime ):\n  CalendarAgeInMonthsAt(BirthDateTime, Today())\n\n/*CalendarAgeInYearsAt calculates the calendar age (meaning the age without considering time components) in years.*/\ndefine function \"CalendarAgeInYearsAt\"(BirthDateTime DateTime, AsOf DateTime ):\n  years between ToDate(BirthDateTime)and ToDate(AsOf)\n\n/*CalendarAgeInYears calculates the calendar age (meaning the age without considering time components) in years as of today.*/\ndefine function \"CalendarAgeInYears\"(BirthDateTime DateTime ):\n  CalendarAgeInYearsAt(BirthDateTime, Today())\n\n/*calculates the difference in calendar days between the start and end of the given interval.*/\ndefine function \"LengthInDays\"(Value Interval<DateTime> ):\n  difference in days between start of Value and end of Value\n\n/* returns list of all locations within an encounter, including locations for immediately prior ED visit. */\ndefine function \"HospitalizationLocations\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet EDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn if EDVisit is null then Visit.facilityLocations \n  \t\telse flatten { EDVisit.facilityLocations, Visit.facilityLocations }\n\n/*Returns the arrival time in the ED for the encounter.  \n*/\ndefine function \"EmergencyDepartmentArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  start of First((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\twhere HospitalLocation.code in \"Emergency Department Visit\"\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Returns admission time for an encounter or for immediately prior emergency department visit.  */\ndefine function \"HospitalAdmissionTime\"(Encounter \"Encounter, Performed\" ):\n  start of \"Hospitalization\"(Encounter)\n\n/*Returns earliest arrival time for an encounter including any prior ED visit. */\ndefine function \"HospitalArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  start of First((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/\ndefine function \"Hospitalization\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet EDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of EDVisit.relevantPeriod, start of Visit.relevantPeriod), \n  \tend of Visit.relevantPeriod]\n\n/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/\ndefine function \"HospitalizationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  LengthInDays(\"Hospitalization\"(Encounter))\n\n/*Returns the latest departure time for encounter including any prior ED visit. */\ndefine function \"HospitalDepartureTime\"(Encounter \"Encounter, Performed\" ):\n  end of Last((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Hospital Discharge Time returns the discharge time for an encounter*/\ndefine function \"HospitalDischargeTime\"(Encounter \"Encounter, Performed\" ):\n  end of Encounter.relevantPeriod\n\n/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/\ndefine function \"HospitalizationWithObservationAndOutpatientSurgeryService\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet ObsVisit: Last([\"Encounter, Performed\": \"Observation Services\"] LastObs\n  \t\t\twhere LastObs.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStart: Coalesce(start of ObsVisit.relevantPeriod, start of Visit.relevantPeriod),\n  \tEDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before VisitStart\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStartWithED: Coalesce(start of EDVisit.relevantPeriod, VisitStart),\n  \tOutpatientSurgeryVisit: Last([\"Encounter, Performed\": \"Outpatient Surgery Service\"] LastSurgeryOP\n  \t\t\twhere LastSurgeryOP.relevantPeriod ends 1 hour or less on or before VisitStartWithED\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of OutpatientSurgeryVisit.relevantPeriod, VisitStartWithED), \n  \tend of Visit.relevantPeriod]\n\n/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservation\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet ObsVisit: Last([\"Encounter, Performed\": \"Observation Services\"] LastObs\n  \t\t\twhere LastObs.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStart: Coalesce(start of ObsVisit.relevantPeriod, start of Visit.relevantPeriod),\n  \tEDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before VisitStart\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of EDVisit.relevantPeriod, VisitStart), \n  \tend of Visit.relevantPeriod]\n\n/*ToDate takes a given DateTime value and returns a DateTime with the time components \"zeroed\", and the timezone of the input value, for example, given the DateTime @2012-01-01T06:30:00.0Z, this function will return @2012-01-01T00:00:00.0Z.*/\ndefine function \"ToDate\"(Value DateTime ):\n  DateTime(year from Value, month from Value, day from Value, 0, 0, 0, 0, timezoneoffset from Value)\n\n/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  \"LengthInDays\"(\"HospitalizationWithObservation\"(Encounter))\n\n/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/\ndefine function \"FirstInpatientIntensiveCareUnit\"(Encounter \"Encounter, Performed\" ):\n  First((Encounter.facilityLocations)HospitalLocation\n      where HospitalLocation.code in \"Intensive Care Unit\"\n        and HospitalLocation.locationPeriod during Encounter.relevantPeriod\n      sort by start of locationPeriod\n  )\n\n/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/\ndefine function \"NormalizeInterval\"(pointInTime DateTime, period Interval<DateTime> ):\n  if pointInTime is not null then Interval[pointInTime, pointInTime]\n    else if period is not null then period \n    else null as Interval<DateTime>\n\n/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/\ndefine function \"HasStart\"(period Interval<DateTime> ):\n  not ( start of period is null\n      or start of period = minimum DateTime\n  )\n\n/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/\ndefine function \"HasEnd\"(period Interval<DateTime> ):\n  not ( \n    end of period is null\n      or \n      end of period = maximum DateTime\n  )\n\n/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/\ndefine function \"Latest\"(period Interval<DateTime> ):\n  if ( HasEnd(period)) then \n  end of period \n    else start of period\n\n/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/\ndefine function \"Earliest\"(period Interval<DateTime> ):\n  if ( HasStart(period)) then start of period \n    else \n  end of period\n\n/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/\ndefine function \"LatestOf\"(pointInTime DateTime, period Interval<DateTime> ):\n  Latest(NormalizeInterval(pointInTime, period))\n\n/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/\ndefine function \"EarliestOf\"(pointInTime DateTime, period Interval<DateTime> ):\n  Earliest(NormalizeInterval(pointInTime, period))\n\n",
      "elm_annotations": {
        "statements": [
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"ED Encounter\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "text": "[\"Encounter, Performed\": "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "\"Emergency Department Visit\""
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "]"
                          }
                        ]
                      }
                    ],
                    "node_type": "Retrieve",
                    "ref_id": "10"
                  }
                ],
                "ref_id": "11"
              }
            ],
            "define_name": "ED Encounter"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Inpatient Encounter\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "[\"Encounter, Performed\": "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "\"Encounter Inpatient\""
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "]"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Retrieve",
                                    "ref_id": "12"
                                  }
                                ],
                                "node_type": "Retrieve",
                                "ref_id": "12"
                              },
                              {
                                "children": [
                                  {
                                    "text": " EncounterInpatient"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "13"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "where "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"LengthInDays\"("
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "EncounterInpatient"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "14"
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "."
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "relevantPeriod"
                                                  }
                                                ]
                                              }
                                            ],
                                            "node_type": "Property",
                                            "ref_id": "15"
                                          }
                                        ],
                                        "node_type": "Property",
                                        "ref_id": "15"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": ")"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "FunctionRef",
                                    "ref_id": "24"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "<= 120"
                                      }
                                    ],
                                    "node_type": "Literal",
                                    "ref_id": "25"
                                  }
                                ],
                                "node_type": "LessOrEqual",
                                "ref_id": "26"
                              },
                              {
                                "children": [
                                  {
                                    "text": "\n      and "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "EncounterInpatient"
                                              }
                                            ]
                                          }
                                        ],
                                        "ref_id": "27"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "."
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "relevantPeriod"
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "Property",
                                        "ref_id": "28"
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "28"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": " ends during day of "
                                      }
                                    ],
                                    "node_type": "In",
                                    "ref_id": "30"
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Measurement Period\""
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "ParameterRef",
                                    "ref_id": "29"
                                  }
                                ],
                                "node_type": "In",
                                "ref_id": "30"
                              }
                            ],
                            "ref_id": "31"
                          }
                        ],
                        "ref_id": "31"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "32"
                  }
                ],
                "ref_id": "33"
              }
            ],
            "define_name": "Inpatient Encounter"
          }
        ],
        "identifier": {
          "id": "MATGlobalCommonFunctionsNEW",
          "version": "7.0.000"
        }
      },
      "statement_dependencies": [
        {
          "_id": "60d2433eb7b4da5e252cb554",
          "statement_name": "CalendarAgeInYearsAt",
          "statement_references": []
        },
        {
          "_id": "60d2433eb7b4da5e252cb555",
          "statement_name": "ED Encounter",
          "statement_references": []
        }
      ]
    },
    {
      "is_main_library": false,
      "is_top_level": true,
      "_id": "60d2433eb7b4da5e252cb556",
      "library_name": "THATKACommon",
      "library_version": "1.0.000",
      "elm": {
        "library": {
          "annotation": [
            {
              "translatorOptions": "EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion,DisableMethodInvocation",
              "type": "CqlToElmInfo"
            },
            {
              "type": "Annotation",
              "s": {
                "r": "630",
                "s": [
                  {
                    "value": [
                      "",
                      "library THATKACommon version '1.0.000'"
                    ]
                  }
                ]
              }
            }
          ],
          "identifier": {
            "id": "THATKACommon",
            "version": "1.0.000"
          },
          "schemaIdentifier": {
            "id": "urn:hl7-org:elm",
            "version": "r1"
          },
          "usings": {
            "def": [
              {
                "localIdentifier": "System",
                "uri": "urn:hl7-org:elm-types:r1"
              },
              {
                "localId": "1",
                "locator": "3:1-3:23",
                "localIdentifier": "QDM",
                "uri": "urn:healthit-gov:qdm:v5_6",
                "version": "5.6",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "1",
                      "s": [
                        {
                          "value": [
                            "",
                            "using "
                          ]
                        },
                        {
                          "s": [
                            {
                              "value": [
                                "QDM"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " version ",
                            "'5.6'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              }
            ]
          },
          "includes": {
            "def": [
              {
                "localId": "2",
                "locator": "5:1-5:67",
                "localIdentifier": "Global",
                "path": "MATGlobalCommonFunctionsNEW",
                "version": "7.0.000",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "2",
                      "s": [
                        {
                          "value": [
                            "",
                            "include "
                          ]
                        },
                        {
                          "s": [
                            {
                              "value": [
                                "MATGlobalCommonFunctionsNEW"
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " version ",
                            "'7.0.000'",
                            " called ",
                            "Global"
                          ]
                        }
                      ]
                    }
                  }
                ]
              }
            ]
          },
          "parameters": {
            "def": [
              {
                "localId": "39",
                "locator": "41:1-41:49",
                "name": "Measurement Period",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "39",
                      "s": [
                        {
                          "value": [
                            "",
                            "parameter ",
                            "\"Measurement Period\"",
                            " "
                          ]
                        },
                        {
                          "r": "38",
                          "s": [
                            {
                              "value": [
                                "Interval<"
                              ]
                            },
                            {
                              "r": "37",
                              "s": [
                                {
                                  "value": [
                                    "DateTime"
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                ">"
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "parameterTypeSpecifier": {
                  "localId": "38",
                  "locator": "41:32-41:49",
                  "type": "IntervalTypeSpecifier",
                  "pointType": {
                    "localId": "37",
                    "locator": "41:41-41:48",
                    "name": "{urn:hl7-org:elm-types:r1}DateTime",
                    "type": "NamedTypeSpecifier"
                  }
                }
              }
            ]
          },
          "codeSystems": {
            "def": [
              {
                "localId": "3",
                "locator": "7:1-7:51",
                "name": "LOINC",
                "id": "2.16.840.1.113883.6.1",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "3",
                      "s": [
                        {
                          "value": [
                            "",
                            "codesystem ",
                            "\"LOINC\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113883.6.1'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "4",
                "locator": "8:1-8:55",
                "name": "SNOMEDCT",
                "id": "2.16.840.1.113883.6.96",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "4",
                      "s": [
                        {
                          "value": [
                            "",
                            "codesystem ",
                            "\"SNOMEDCT\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113883.6.96'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              }
            ]
          },
          "valueSets": {
            "def": [
              {
                "localId": "5",
                "locator": "10:1-10:67",
                "name": "Active Bleeding",
                "id": "2.16.840.1.113762.1.4.1206.28",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "5",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Active Bleeding\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113762.1.4.1206.28'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "6",
                "locator": "11:1-11:88",
                "name": "Anticoagulant Medications, Injection",
                "id": "2.16.840.1.113762.1.4.1206.21",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "6",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Anticoagulant Medications, Injection\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113762.1.4.1206.21'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "7",
                "locator": "12:1-12:83",
                "name": "Anticoagulant Medications, Oral",
                "id": "2.16.840.1.113762.1.4.1206.20",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "7",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Anticoagulant Medications, Oral\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113762.1.4.1206.20'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "8",
                "locator": "13:1-13:74",
                "name": "Atrial Fibrillation",
                "id": "2.16.840.1.113883.17.4077.3.1001",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "8",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Atrial Fibrillation\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113883.17.4077.3.1001'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "9",
                "locator": "14:1-14:85",
                "name": "Blood Transfusion Administration",
                "id": "2.16.840.1.113762.1.4.1029.209",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "9",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Blood Transfusion Administration\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113762.1.4.1029.209'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "10",
                "locator": "15:1-15:59",
                "name": "Cancer",
                "id": "2.16.840.1.113883.3.526.3.1010",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "10",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Cancer\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113883.3.526.3.1010'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "11",
                "locator": "16:1-16:83",
                "name": "Coagulation Disorder Conditions",
                "id": "2.16.840.1.113762.1.4.1206.17",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "11",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Coagulation Disorder Conditions\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113762.1.4.1206.17'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "12",
                "locator": "17:1-17:76",
                "name": "Comorbidity Risk Factors",
                "id": "2.16.840.1.113762.1.4.1206.13",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "12",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Comorbidity Risk Factors\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113762.1.4.1206.13'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "13",
                "locator": "18:1-18:80",
                "name": "Current Smoking Tobacco User",
                "id": "2.16.840.1.113762.1.4.1111.99",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "13",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Current Smoking Tobacco User\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113762.1.4.1111.99'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "14",
                "locator": "19:1-19:84",
                "name": "Encounter Hospital Outpatient",
                "id": "2.16.840.1.113883.3.3157.1002.14",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "14",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Encounter Hospital Outpatient\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113883.3.3157.1002.14'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "15",
                "locator": "20:1-20:71",
                "name": "Encounter Inpatient",
                "id": "2.16.840.1.113883.3.666.5.307",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "15",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Encounter Inpatient\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113883.3.666.5.307'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "16",
                "locator": "21:1-21:98",
                "name": "Fracture Exclusions For Hip And Knee Procedures",
                "id": "2.16.840.1.113762.1.4.1206.2",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "16",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Fracture Exclusions For Hip And Knee Procedures\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113762.1.4.1206.2'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "17",
                "locator": "22:1-22:80",
                "name": "General Major Bleeding Events",
                "id": "2.16.840.1.113762.1.4.1179.5",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "17",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"General Major Bleeding Events\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113762.1.4.1179.5'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "18",
                "locator": "23:1-23:67",
                "name": "General Surgery",
                "id": "2.16.840.1.113762.1.4.1206.15",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "18",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"General Surgery\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113762.1.4.1206.15'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "19",
                "locator": "24:1-24:83",
                "name": "Left Against Medical Advice",
                "id": "2.16.840.1.113883.3.117.1.7.1.308",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "19",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Left Against Medical Advice\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113883.3.117.1.7.1.308'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "20",
                "locator": "25:1-25:118",
                "name": "Malignant Neoplasm Complications Related To Hip and Knee Procedures",
                "id": "2.16.840.1.113762.1.4.1206.7",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "20",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Malignant Neoplasm Complications Related To Hip and Knee Procedures\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113762.1.4.1206.7'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "21",
                "locator": "26:1-26:110",
                "name": "Mechanical Complications Related To Hip and Knee Procedures",
                "id": "2.16.840.1.113762.1.4.1206.1",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "21",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Mechanical Complications Related To Hip and Knee Procedures\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113762.1.4.1206.1'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "22",
                "locator": "27:1-27:95",
                "name": "Nonprimary Total Hip, Total Knee Replacement",
                "id": "2.16.840.1.113762.1.4.1206.5",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "22",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Nonprimary Total Hip, Total Knee Replacement\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113762.1.4.1206.5'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "23",
                "locator": "28:1-28:82",
                "name": "Postoperative Visit",
                "id": "2.16.840.1.113883.3.464.1003.101.12.1070",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "23",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Postoperative Visit\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1070'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "24",
                "locator": "29:1-29:80",
                "name": "Pulmonary Embolism or DVT",
                "id": "2.16.840.1.113883.17.4077.3.1036",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "24",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Pulmonary Embolism or DVT\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113883.17.4077.3.1036'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "25",
                "locator": "30:1-30:71",
                "name": "Renal insufficiency",
                "id": "2.16.840.1.113883.3.3157.1330",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "25",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Renal insufficiency\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113883.3.3157.1330'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "26",
                "locator": "31:1-31:74",
                "name": "Tobacco Use Screening",
                "id": "2.16.840.1.113883.3.526.3.1278",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "26",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Tobacco Use Screening\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113883.3.526.3.1278'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "27",
                "locator": "32:1-32:85",
                "name": "Total Hip, Total Knee Replacement",
                "id": "2.16.840.1.113762.1.4.1029.96",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "27",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Total Hip, Total Knee Replacement\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113762.1.4.1029.96'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "28",
                "locator": "33:1-33:85",
                "name": "Transfer From Acute Care Hospital",
                "id": "2.16.840.1.113883.13.190.5.43",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "28",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Transfer From Acute Care Hospital\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113883.13.190.5.43'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "29",
                "locator": "34:1-34:87",
                "name": "Treatment of Hemorrhage or Hematoma",
                "id": "2.16.840.1.113762.1.4.1206.14",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "29",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Treatment of Hemorrhage or Hematoma\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113762.1.4.1206.14'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "localId": "30",
                "locator": "35:1-35:78",
                "name": "Venous Thromboembolism",
                "id": "2.16.840.1.113883.3.117.1.7.1.279",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "30",
                      "s": [
                        {
                          "value": [
                            "",
                            "valueset ",
                            "\"Venous Thromboembolism\"",
                            ": ",
                            "'urn:oid:2.16.840.1.113883.3.117.1.7.1.279'"
                          ]
                        }
                      ]
                    }
                  }
                ]
              }
            ]
          },
          "codes": {
            "def": [
              {
                "localId": "32",
                "locator": "37:1-37:100",
                "name": "Body mass index (BMI) [Ratio]",
                "id": "39156-5",
                "display": "Body mass index (BMI) [Ratio]",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "32",
                      "s": [
                        {
                          "value": [
                            "",
                            "code ",
                            "\"Body mass index (BMI) [Ratio]\"",
                            ": ",
                            "'39156-5'",
                            " from "
                          ]
                        },
                        {
                          "r": "31",
                          "s": [
                            {
                              "value": [
                                "\"LOINC\""
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " display ",
                            "'Body mass index (BMI) [Ratio]'"
                          ]
                        }
                      ]
                    }
                  }
                ],
                "codeSystem": {
                  "localId": "31",
                  "locator": "37:54-37:60",
                  "name": "LOINC"
                }
              },
              {
                "localId": "34",
                "locator": "38:1-38:168",
                "name": "Hospital-based outpatient emergency care center (environment)",
                "id": "73770003",
                "display": "Hospital-based outpatient emergency care center (environment)",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "34",
                      "s": [
                        {
                          "value": [
                            "",
                            "code ",
                            "\"Hospital-based outpatient emergency care center (environment)\"",
                            ": ",
                            "'73770003'",
                            " from "
                          ]
                        },
                        {
                          "r": "33",
                          "s": [
                            {
                              "value": [
                                "\"SNOMEDCT\""
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " display ",
                            "'Hospital-based outpatient emergency care center (environment)'"
                          ]
                        }
                      ]
                    }
                  }
                ],
                "codeSystem": {
                  "localId": "33",
                  "locator": "38:87-38:96",
                  "name": "SNOMEDCT"
                }
              },
              {
                "localId": "36",
                "locator": "39:1-39:139",
                "name": "Outpatient surgery service (qualifier value)",
                "id": "2621000175106",
                "display": "Outpatient surgery service (qualifier value)",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "36",
                      "s": [
                        {
                          "value": [
                            "",
                            "code ",
                            "\"Outpatient surgery service (qualifier value)\"",
                            ": ",
                            "'2621000175106'",
                            " from "
                          ]
                        },
                        {
                          "r": "35",
                          "s": [
                            {
                              "value": [
                                "\"SNOMEDCT\""
                              ]
                            }
                          ]
                        },
                        {
                          "value": [
                            " display ",
                            "'Outpatient surgery service (qualifier value)'"
                          ]
                        }
                      ]
                    }
                  }
                ],
                "codeSystem": {
                  "localId": "35",
                  "locator": "39:75-39:84",
                  "name": "SNOMEDCT"
                }
              }
            ]
          },
          "contexts": {
            "def": [
              {
                "locator": "43:1-43:15",
                "name": "Patient"
              }
            ]
          },
          "statements": {
            "def": [
              {
                "locator": "43:1-43:15",
                "name": "Patient",
                "context": "Patient",
                "expression": {
                  "type": "SingletonFrom",
                  "operand": {
                    "locator": "43:1-43:15",
                    "dataType": "{urn:healthit-gov:qdm:v5_6}Patient",
                    "templateId": "Patient",
                    "type": "Retrieve"
                  }
                }
              },
              {
                "localId": "49",
                "locator": "45:1-48:69",
                "name": "Patient Encounters",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "49",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Patient Encounters\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "48",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "43",
                                  "s": [
                                    {
                                      "r": "42",
                                      "s": [
                                        {
                                          "value": [
                                            "( "
                                          ]
                                        },
                                        {
                                          "r": "42",
                                          "s": [
                                            {
                                              "r": "40",
                                              "s": [
                                                {
                                                  "value": [
                                                    "[",
                                                    "\"Encounter, Performed\"",
                                                    ": "
                                                  ]
                                                },
                                                {
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "\"Encounter Inpatient\""
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "]"
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n    union "
                                              ]
                                            },
                                            {
                                              "r": "41",
                                              "s": [
                                                {
                                                  "value": [
                                                    "[",
                                                    "\"Encounter, Performed\"",
                                                    ": "
                                                  ]
                                                },
                                                {
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "\"Outpatient surgery service (qualifier value)\""
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "]"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " )"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "Encounter"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "47",
                              "s": [
                                {
                                  "value": [
                                    "where "
                                  ]
                                },
                                {
                                  "r": "47",
                                  "s": [
                                    {
                                      "r": "45",
                                      "s": [
                                        {
                                          "r": "44",
                                          "s": [
                                            {
                                              "value": [
                                                "Encounter"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "45",
                                          "s": [
                                            {
                                              "value": [
                                                "relevantPeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "r": "47",
                                      "value": [
                                        " ",
                                        "starts during",
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "46",
                                      "s": [
                                        {
                                          "value": [
                                            "\"Measurement Period\""
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "48",
                  "locator": "46:3-48:69",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "43",
                      "locator": "46:3-47:94",
                      "alias": "Encounter",
                      "expression": {
                        "localId": "42",
                        "locator": "46:3-47:84",
                        "type": "Union",
                        "operand": [
                          {
                            "localId": "40",
                            "locator": "46:5-46:51",
                            "dataType": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                            "templateId": "PositiveEncounterPerformed",
                            "codeProperty": "code",
                            "codeComparator": "in",
                            "type": "Retrieve",
                            "codes": {
                              "locator": "46:30-46:50",
                              "name": "Encounter Inpatient",
                              "type": "ValueSetRef"
                            }
                          },
                          {
                            "localId": "41",
                            "locator": "47:11-47:82",
                            "dataType": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                            "templateId": "PositiveEncounterPerformed",
                            "codeProperty": "code",
                            "codeComparator": "~",
                            "type": "Retrieve",
                            "codes": {
                              "type": "ToList",
                              "operand": {
                                "locator": "47:36-47:81",
                                "name": "Outpatient surgery service (qualifier value)",
                                "type": "CodeRef"
                              }
                            }
                          }
                        ]
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "47",
                    "locator": "48:5-48:69",
                    "type": "In",
                    "operand": [
                      {
                        "locator": "48:36-48:41",
                        "type": "Start",
                        "operand": {
                          "localId": "45",
                          "locator": "48:11-48:34",
                          "path": "relevantPeriod",
                          "scope": "Encounter",
                          "type": "Property"
                        }
                      },
                      {
                        "localId": "46",
                        "locator": "48:50-48:69",
                        "name": "Measurement Period",
                        "type": "ParameterRef"
                      }
                    ]
                  }
                }
              },
              {
                "localId": "57",
                "locator": "50:1-52:76",
                "name": "Primary THA-TKA Procedures",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "57",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Primary THA-TKA Procedures\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "56",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "51",
                                  "s": [
                                    {
                                      "r": "50",
                                      "s": [
                                        {
                                          "r": "50",
                                          "s": [
                                            {
                                              "value": [
                                                "[",
                                                "\"Procedure, Performed\"",
                                                ": "
                                              ]
                                            },
                                            {
                                              "s": [
                                                {
                                                  "value": [
                                                    "\"Total Hip, Total Knee Replacement\""
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "]"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "PrimaryProcedure"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "55",
                              "s": [
                                {
                                  "value": [
                                    "where "
                                  ]
                                },
                                {
                                  "r": "55",
                                  "s": [
                                    {
                                      "r": "53",
                                      "s": [
                                        {
                                          "r": "52",
                                          "s": [
                                            {
                                              "value": [
                                                "PrimaryProcedure"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "53",
                                          "s": [
                                            {
                                              "value": [
                                                "relevantPeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "r": "55",
                                      "value": [
                                        " ",
                                        "starts during",
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "54",
                                      "s": [
                                        {
                                          "value": [
                                            "\"Measurement Period\""
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "56",
                  "locator": "51:3-52:76",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "51",
                      "locator": "51:3-51:80",
                      "alias": "PrimaryProcedure",
                      "expression": {
                        "localId": "50",
                        "locator": "51:3-51:63",
                        "dataType": "{urn:healthit-gov:qdm:v5_6}PositiveProcedurePerformed",
                        "templateId": "PositiveProcedurePerformed",
                        "codeProperty": "code",
                        "codeComparator": "in",
                        "type": "Retrieve",
                        "codes": {
                          "locator": "51:28-51:62",
                          "name": "Total Hip, Total Knee Replacement",
                          "type": "ValueSetRef"
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "55",
                    "locator": "52:5-52:76",
                    "type": "In",
                    "operand": [
                      {
                        "locator": "52:43-52:48",
                        "type": "Start",
                        "operand": {
                          "localId": "53",
                          "locator": "52:11-52:41",
                          "path": "relevantPeriod",
                          "scope": "PrimaryProcedure",
                          "type": "Property"
                        }
                      },
                      {
                        "localId": "54",
                        "locator": "52:57-52:76",
                        "name": "Measurement Period",
                        "type": "ParameterRef"
                      }
                    ]
                  }
                }
              },
              {
                "localId": "72",
                "locator": "54:1-62:5",
                "name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "72",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "71",
                          "s": [
                            {
                              "s": [
                                {
                                  "value": [
                                    "from\n    "
                                  ]
                                },
                                {
                                  "r": "59",
                                  "s": [
                                    {
                                      "r": "58",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Patient Encounters\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "Encounter"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    ",\n    "
                                  ]
                                },
                                {
                                  "r": "61",
                                  "s": [
                                    {
                                      "r": "60",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Primary THA-TKA Procedures\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "Procedure"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "66",
                              "s": [
                                {
                                  "value": [
                                    "where "
                                  ]
                                },
                                {
                                  "r": "66",
                                  "s": [
                                    {
                                      "r": "63",
                                      "s": [
                                        {
                                          "r": "62",
                                          "s": [
                                            {
                                              "value": [
                                                "Procedure"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "63",
                                          "s": [
                                            {
                                              "value": [
                                                "relevantPeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "r": "66",
                                      "value": [
                                        " ",
                                        "starts during",
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "65",
                                      "s": [
                                        {
                                          "r": "64",
                                          "s": [
                                            {
                                              "value": [
                                                "Encounter"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "65",
                                          "s": [
                                            {
                                              "value": [
                                                "relevantPeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "70",
                              "s": [
                                {
                                  "value": [
                                    "return "
                                  ]
                                },
                                {
                                  "r": "69",
                                  "s": [
                                    {
                                      "value": [
                                        "{\n      "
                                      ]
                                    },
                                    {
                                      "s": [
                                        {
                                          "value": [
                                            "QEncounter",
                                            ": "
                                          ]
                                        },
                                        {
                                          "r": "67",
                                          "s": [
                                            {
                                              "value": [
                                                "Encounter"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        ",\n      "
                                      ]
                                    },
                                    {
                                      "s": [
                                        {
                                          "value": [
                                            "QProcedure",
                                            ": "
                                          ]
                                        },
                                        {
                                          "r": "68",
                                          "s": [
                                            {
                                              "value": [
                                                "Procedure"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        "\n    }"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "71",
                  "locator": "55:3-62:5",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "59",
                      "locator": "56:5-56:34",
                      "alias": "Encounter",
                      "expression": {
                        "localId": "58",
                        "locator": "56:5-56:24",
                        "name": "Patient Encounters",
                        "type": "ExpressionRef"
                      }
                    },
                    {
                      "localId": "61",
                      "locator": "57:5-57:42",
                      "alias": "Procedure",
                      "expression": {
                        "localId": "60",
                        "locator": "57:5-57:32",
                        "name": "Primary THA-TKA Procedures",
                        "type": "ExpressionRef"
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "66",
                    "locator": "58:5-58:73",
                    "type": "In",
                    "operand": [
                      {
                        "locator": "58:36-58:41",
                        "type": "Start",
                        "operand": {
                          "localId": "63",
                          "locator": "58:11-58:34",
                          "path": "relevantPeriod",
                          "scope": "Procedure",
                          "type": "Property"
                        }
                      },
                      {
                        "localId": "65",
                        "locator": "58:50-58:73",
                        "path": "relevantPeriod",
                        "scope": "Encounter",
                        "type": "Property"
                      }
                    ]
                  },
                  "return": {
                    "localId": "70",
                    "locator": "59:5-62:5",
                    "expression": {
                      "localId": "69",
                      "locator": "59:12-62:5",
                      "type": "Tuple",
                      "element": [
                        {
                          "name": "QEncounter",
                          "value": {
                            "localId": "67",
                            "locator": "60:19-60:27",
                            "name": "Encounter",
                            "type": "AliasRef"
                          }
                        },
                        {
                          "name": "QProcedure",
                          "value": {
                            "localId": "68",
                            "locator": "61:19-61:27",
                            "name": "Procedure",
                            "type": "AliasRef"
                          }
                        }
                      ]
                    }
                  }
                }
              },
              {
                "localId": "89",
                "locator": "64:1-67:124",
                "name": "Encounter Related To Elective Primary THA and TKA Procedures With Age",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "89",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Encounter Related To Elective Primary THA and TKA Procedures With Age\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "88",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "74",
                                  "s": [
                                    {
                                      "r": "73",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "QE"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "87",
                              "s": [
                                {
                                  "value": [
                                    "with "
                                  ]
                                },
                                {
                                  "r": "76",
                                  "s": [
                                    {
                                      "r": "75",
                                      "s": [
                                        {
                                          "r": "75",
                                          "s": [
                                            {
                                              "value": [
                                                "[",
                                                "\"Patient Characteristic Birthdate\"",
                                                "]"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "PatientBirthday"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n      such that "
                                  ]
                                },
                                {
                                  "r": "86",
                                  "s": [
                                    {
                                      "r": "84",
                                      "s": [
                                        {
                                          "r": "77",
                                          "s": [
                                            {
                                              "value": [
                                                "Global"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "84",
                                          "s": [
                                            {
                                              "value": [
                                                "\"CalendarAgeInYearsAt\"",
                                                " ( "
                                              ]
                                            },
                                            {
                                              "r": "79",
                                              "s": [
                                                {
                                                  "r": "78",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "PatientBirthday"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "."
                                                  ]
                                                },
                                                {
                                                  "r": "79",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "birthDatetime"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                ", "
                                              ]
                                            },
                                            {
                                              "r": "83",
                                              "s": [
                                                {
                                                  "value": [
                                                    "start of "
                                                  ]
                                                },
                                                {
                                                  "r": "82",
                                                  "s": [
                                                    {
                                                      "r": "81",
                                                      "s": [
                                                        {
                                                          "r": "80",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "QE"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            "."
                                                          ]
                                                        },
                                                        {
                                                          "r": "81",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "QEncounter"
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "."
                                                      ]
                                                    },
                                                    {
                                                      "r": "82",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "relevantPeriod"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                " )"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "r": "85",
                                      "value": [
                                        " ",
                                        ">=",
                                        " ",
                                        "18"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "88",
                  "locator": "65:3-67:124",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "74",
                      "locator": "65:3-65:79",
                      "alias": "QE",
                      "expression": {
                        "localId": "73",
                        "locator": "65:3-65:76",
                        "name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures",
                        "type": "ExpressionRef"
                      }
                    }
                  ],
                  "relationship": [
                    {
                      "localId": "87",
                      "locator": "66:5-67:124",
                      "alias": "PatientBirthday",
                      "type": "With",
                      "expression": {
                        "localId": "75",
                        "locator": "66:10-66:45",
                        "dataType": "{urn:healthit-gov:qdm:v5_6}PatientCharacteristicBirthdate",
                        "type": "Retrieve"
                      },
                      "suchThat": {
                        "localId": "86",
                        "locator": "67:17-67:124",
                        "type": "GreaterOrEqual",
                        "operand": [
                          {
                            "localId": "84",
                            "locator": "67:17-67:118",
                            "name": "CalendarAgeInYearsAt",
                            "libraryName": "Global",
                            "type": "FunctionRef",
                            "operand": [
                              {
                                "localId": "79",
                                "locator": "67:49-67:77",
                                "path": "birthDatetime",
                                "scope": "PatientBirthday",
                                "type": "Property"
                              },
                              {
                                "localId": "83",
                                "locator": "67:80-67:116",
                                "type": "Start",
                                "operand": {
                                  "localId": "82",
                                  "locator": "67:89-67:116",
                                  "path": "relevantPeriod",
                                  "type": "Property",
                                  "source": {
                                    "localId": "81",
                                    "locator": "67:89-67:101",
                                    "path": "QEncounter",
                                    "scope": "QE",
                                    "type": "Property"
                                  }
                                }
                              }
                            ]
                          },
                          {
                            "localId": "85",
                            "locator": "67:123-67:124",
                            "valueType": "{urn:hl7-org:elm-types:r1}Integer",
                            "value": "18",
                            "type": "Literal"
                          }
                        ]
                      }
                    }
                  ]
                }
              },
              {
                "localId": "92",
                "locator": "69:1-70:80",
                "name": "Initial Population",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "92",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Initial Population\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "91",
                          "s": [
                            {
                              "value": [
                                "exists "
                              ]
                            },
                            {
                              "r": "90",
                              "s": [
                                {
                                  "value": [
                                    "\"Encounter Related To Elective Primary THA and TKA Procedures With Age\""
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "91",
                  "locator": "70:3-70:80",
                  "type": "Exists",
                  "operand": {
                    "localId": "90",
                    "locator": "70:10-70:80",
                    "name": "Encounter Related To Elective Primary THA and TKA Procedures With Age",
                    "type": "ExpressionRef"
                  }
                }
              },
              {
                "localId": "94",
                "locator": "72:1-73:22",
                "name": "Denominator",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "94",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Denominator\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "93",
                          "s": [
                            {
                              "value": [
                                "\"Initial Population\""
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "93",
                  "locator": "73:3-73:22",
                  "name": "Initial Population",
                  "type": "ExpressionRef"
                }
              },
              {
                "localId": "109",
                "locator": "75:1-78:76",
                "name": "Transferred From Another Acute Care Facility or Discharged Against Medical Advice During Index Admission",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "109",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Transferred From Another Acute Care Facility or Discharged Against Medical Advice During Index Admission\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "108",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "96",
                                  "s": [
                                    {
                                      "r": "95",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "QE"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "107",
                              "s": [
                                {
                                  "value": [
                                    "where "
                                  ]
                                },
                                {
                                  "r": "107",
                                  "s": [
                                    {
                                      "r": "101",
                                      "s": [
                                        {
                                          "r": "99",
                                          "s": [
                                            {
                                              "r": "98",
                                              "s": [
                                                {
                                                  "r": "97",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QE"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "."
                                                  ]
                                                },
                                                {
                                                  "r": "98",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QEncounter"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "."
                                              ]
                                            },
                                            {
                                              "r": "99",
                                              "s": [
                                                {
                                                  "value": [
                                                    "admissionSource"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " in "
                                          ]
                                        },
                                        {
                                          "r": "100",
                                          "s": [
                                            {
                                              "value": [
                                                "\"Transfer From Acute Care Hospital\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        "\n      or "
                                      ]
                                    },
                                    {
                                      "r": "106",
                                      "s": [
                                        {
                                          "r": "104",
                                          "s": [
                                            {
                                              "r": "103",
                                              "s": [
                                                {
                                                  "r": "102",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QE"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "."
                                                  ]
                                                },
                                                {
                                                  "r": "103",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QEncounter"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "."
                                              ]
                                            },
                                            {
                                              "r": "104",
                                              "s": [
                                                {
                                                  "value": [
                                                    "dischargeDisposition"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " in "
                                          ]
                                        },
                                        {
                                          "r": "105",
                                          "s": [
                                            {
                                              "value": [
                                                "\"Left Against Medical Advice\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "108",
                  "locator": "76:3-78:76",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "96",
                      "locator": "76:3-76:79",
                      "alias": "QE",
                      "expression": {
                        "localId": "95",
                        "locator": "76:3-76:76",
                        "name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures",
                        "type": "ExpressionRef"
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "107",
                    "locator": "77:5-78:76",
                    "type": "Or",
                    "operand": [
                      {
                        "localId": "101",
                        "locator": "77:11-77:78",
                        "type": "InValueSet",
                        "code": {
                          "localId": "99",
                          "locator": "77:11-77:39",
                          "path": "admissionSource",
                          "type": "Property",
                          "source": {
                            "localId": "98",
                            "locator": "77:11-77:23",
                            "path": "QEncounter",
                            "scope": "QE",
                            "type": "Property"
                          }
                        },
                        "valueset": {
                          "localId": "100",
                          "locator": "77:44-77:78",
                          "name": "Transfer From Acute Care Hospital",
                          "type": "ValueSetRef"
                        }
                      },
                      {
                        "localId": "106",
                        "locator": "78:10-78:76",
                        "type": "InValueSet",
                        "code": {
                          "localId": "104",
                          "locator": "78:10-78:43",
                          "path": "dischargeDisposition",
                          "type": "Property",
                          "source": {
                            "localId": "103",
                            "locator": "78:10-78:22",
                            "path": "QEncounter",
                            "scope": "QE",
                            "type": "Property"
                          }
                        },
                        "valueset": {
                          "localId": "105",
                          "locator": "78:48-78:76",
                          "name": "Left Against Medical Advice",
                          "type": "ValueSetRef"
                        }
                      }
                    ]
                  }
                }
              },
              {
                "localId": "120",
                "locator": "87:1-89:80",
                "name": "Non-Primary THA_TKA Procedures",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "120",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Non-Primary THA_TKA Procedures\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "119",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "114",
                                  "s": [
                                    {
                                      "r": "113",
                                      "s": [
                                        {
                                          "r": "113",
                                          "s": [
                                            {
                                              "value": [
                                                "[",
                                                "\"Procedure, Performed\"",
                                                ": "
                                              ]
                                            },
                                            {
                                              "s": [
                                                {
                                                  "value": [
                                                    "\"Nonprimary Total Hip, Total Knee Replacement\""
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "]"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "NonPrimaryProcedures"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "118",
                              "s": [
                                {
                                  "value": [
                                    "where "
                                  ]
                                },
                                {
                                  "r": "118",
                                  "s": [
                                    {
                                      "r": "116",
                                      "s": [
                                        {
                                          "r": "115",
                                          "s": [
                                            {
                                              "value": [
                                                "NonPrimaryProcedures"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "116",
                                          "s": [
                                            {
                                              "value": [
                                                "relevantPeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "r": "118",
                                      "value": [
                                        " ",
                                        "starts during",
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "117",
                                      "s": [
                                        {
                                          "value": [
                                            "\"Measurement Period\""
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "119",
                  "locator": "88:3-89:80",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "114",
                      "locator": "88:3-88:95",
                      "alias": "NonPrimaryProcedures",
                      "expression": {
                        "localId": "113",
                        "locator": "88:3-88:74",
                        "dataType": "{urn:healthit-gov:qdm:v5_6}PositiveProcedurePerformed",
                        "templateId": "PositiveProcedurePerformed",
                        "codeProperty": "code",
                        "codeComparator": "in",
                        "type": "Retrieve",
                        "codes": {
                          "locator": "88:28-88:73",
                          "name": "Nonprimary Total Hip, Total Knee Replacement",
                          "type": "ValueSetRef"
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "118",
                    "locator": "89:5-89:80",
                    "type": "In",
                    "operand": [
                      {
                        "locator": "89:47-89:52",
                        "type": "Start",
                        "operand": {
                          "localId": "116",
                          "locator": "89:11-89:45",
                          "path": "relevantPeriod",
                          "scope": "NonPrimaryProcedures",
                          "type": "Property"
                        }
                      },
                      {
                        "localId": "117",
                        "locator": "89:61-89:80",
                        "name": "Measurement Period",
                        "type": "ParameterRef"
                      }
                    ]
                  }
                }
              },
              {
                "localId": "135",
                "locator": "80:1-85:11",
                "name": "Had More Than 2 THA_TKA Procedures Codes During The Index Admission",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "135",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Had More Than 2 THA_TKA Procedures Codes During The Index Admission\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "134",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "111",
                                  "s": [
                                    {
                                      "r": "110",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "QE"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                " \n       "
                              ]
                            },
                            {
                              "r": "133",
                              "s": [
                                {
                                  "value": [
                                    "where "
                                  ]
                                },
                                {
                                  "r": "133",
                                  "s": [
                                    {
                                      "r": "131",
                                      "s": [
                                        {
                                          "value": [
                                            "Count",
                                            "("
                                          ]
                                        },
                                        {
                                          "r": "130",
                                          "s": [
                                            {
                                              "s": [
                                                {
                                                  "r": "123",
                                                  "s": [
                                                    {
                                                      "r": "122",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "("
                                                          ]
                                                        },
                                                        {
                                                          "r": "122",
                                                          "s": [
                                                            {
                                                              "r": "112",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "\"Primary THA-TKA Procedures\""
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                " \n           union "
                                                              ]
                                                            },
                                                            {
                                                              "r": "121",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "\"Non-Primary THA_TKA Procedures\""
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            ")"
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "Procedures"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                " \n           "
                                              ]
                                            },
                                            {
                                              "r": "129",
                                              "s": [
                                                {
                                                  "value": [
                                                    "where "
                                                  ]
                                                },
                                                {
                                                  "r": "129",
                                                  "s": [
                                                    {
                                                      "r": "125",
                                                      "s": [
                                                        {
                                                          "r": "124",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "Procedures"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            "."
                                                          ]
                                                        },
                                                        {
                                                          "r": "125",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "relevantPeriod"
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "r": "129",
                                                      "value": [
                                                        " ",
                                                        "starts during",
                                                        " "
                                                      ]
                                                    },
                                                    {
                                                      "r": "128",
                                                      "s": [
                                                        {
                                                          "r": "127",
                                                          "s": [
                                                            {
                                                              "r": "126",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "QE"
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                "."
                                                              ]
                                                            },
                                                            {
                                                              "r": "127",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "QEncounter"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            "."
                                                          ]
                                                        },
                                                        {
                                                          "r": "128",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "relevantPeriod"
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " \n       )"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "r": "132",
                                      "value": [
                                        ">",
                                        " ",
                                        "2"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "134",
                  "locator": "81:3-85:11",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "111",
                      "locator": "81:3-81:79",
                      "alias": "QE",
                      "expression": {
                        "localId": "110",
                        "locator": "81:3-81:76",
                        "name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures",
                        "type": "ExpressionRef"
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "133",
                    "locator": "82:8-85:11",
                    "type": "Greater",
                    "operand": [
                      {
                        "localId": "131",
                        "locator": "82:14-85:8",
                        "type": "Count",
                        "source": {
                          "localId": "130",
                          "locator": "82:20-84:85",
                          "type": "Query",
                          "source": [
                            {
                              "localId": "123",
                              "locator": "82:20-83:60",
                              "alias": "Procedures",
                              "expression": {
                                "localId": "122",
                                "locator": "82:20-83:50",
                                "type": "Union",
                                "operand": [
                                  {
                                    "localId": "112",
                                    "locator": "82:21-82:48",
                                    "name": "Primary THA-TKA Procedures",
                                    "type": "ExpressionRef"
                                  },
                                  {
                                    "localId": "121",
                                    "locator": "83:18-83:49",
                                    "name": "Non-Primary THA_TKA Procedures",
                                    "type": "ExpressionRef"
                                  }
                                ]
                              }
                            }
                          ],
                          "relationship": [],
                          "where": {
                            "localId": "129",
                            "locator": "84:12-84:85",
                            "type": "In",
                            "operand": [
                              {
                                "locator": "84:44-84:49",
                                "type": "Start",
                                "operand": {
                                  "localId": "125",
                                  "locator": "84:18-84:42",
                                  "path": "relevantPeriod",
                                  "scope": "Procedures",
                                  "type": "Property"
                                }
                              },
                              {
                                "localId": "128",
                                "locator": "84:58-84:85",
                                "path": "relevantPeriod",
                                "type": "Property",
                                "source": {
                                  "localId": "127",
                                  "locator": "84:58-84:70",
                                  "path": "QEncounter",
                                  "scope": "QE",
                                  "type": "Property"
                                }
                              }
                            ]
                          }
                        }
                      },
                      {
                        "localId": "132",
                        "locator": "85:11",
                        "valueType": "{urn:hl7-org:elm-types:r1}Integer",
                        "value": "2",
                        "type": "Literal"
                      }
                    ]
                  }
                }
              },
              {
                "localId": "150",
                "locator": "91:1-94:122",
                "name": "Diagnosed With Renal Insufficiency 365 Days Prior To Procedure",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "150",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Diagnosed With Renal Insufficiency 365 Days Prior To Procedure\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "149",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "137",
                                  "s": [
                                    {
                                      "r": "136",
                                      "s": [
                                        {
                                          "r": "136",
                                          "s": [
                                            {
                                              "value": [
                                                "[",
                                                "\"Diagnosis\"",
                                                ": "
                                              ]
                                            },
                                            {
                                              "s": [
                                                {
                                                  "value": [
                                                    "\"Renal insufficiency\""
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "]"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "RenalDiagnosis"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "148",
                              "s": [
                                {
                                  "value": [
                                    "with "
                                  ]
                                },
                                {
                                  "r": "139",
                                  "s": [
                                    {
                                      "r": "138",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "QP"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n      such that "
                                  ]
                                },
                                {
                                  "r": "147",
                                  "s": [
                                    {
                                      "r": "141",
                                      "s": [
                                        {
                                          "r": "140",
                                          "s": [
                                            {
                                              "value": [
                                                "RenalDiagnosis"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "141",
                                          "s": [
                                            {
                                              "value": [
                                                "prevalencePeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "147",
                                      "s": [
                                        {
                                          "value": [
                                            "starts "
                                          ]
                                        },
                                        {
                                          "r": "146",
                                          "s": [
                                            {
                                              "value": [
                                                "365 ",
                                                "days"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " or less on or before"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "145",
                                      "s": [
                                        {
                                          "value": [
                                            "start of "
                                          ]
                                        },
                                        {
                                          "r": "144",
                                          "s": [
                                            {
                                              "r": "143",
                                              "s": [
                                                {
                                                  "r": "142",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QP"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "."
                                                  ]
                                                },
                                                {
                                                  "r": "143",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QProcedure"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "."
                                              ]
                                            },
                                            {
                                              "r": "144",
                                              "s": [
                                                {
                                                  "value": [
                                                    "relevantPeriod"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "149",
                  "locator": "92:3-94:122",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "137",
                      "locator": "92:3-92:53",
                      "alias": "RenalDiagnosis",
                      "expression": {
                        "localId": "136",
                        "locator": "92:3-92:38",
                        "dataType": "{urn:healthit-gov:qdm:v5_6}Diagnosis",
                        "codeProperty": "code",
                        "codeComparator": "in",
                        "type": "Retrieve",
                        "codes": {
                          "locator": "92:17-92:37",
                          "name": "Renal insufficiency",
                          "type": "ValueSetRef"
                        }
                      }
                    }
                  ],
                  "relationship": [
                    {
                      "localId": "148",
                      "locator": "93:5-94:122",
                      "alias": "QP",
                      "type": "With",
                      "expression": {
                        "localId": "138",
                        "locator": "93:10-93:83",
                        "name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures",
                        "type": "ExpressionRef"
                      },
                      "suchThat": {
                        "localId": "147",
                        "locator": "94:17-94:122",
                        "type": "And",
                        "operand": [
                          {
                            "locator": "94:56-94:71",
                            "type": "In",
                            "operand": [
                              {
                                "locator": "94:49-94:54",
                                "type": "Start",
                                "operand": {
                                  "localId": "141",
                                  "locator": "94:17-94:47",
                                  "path": "prevalencePeriod",
                                  "scope": "RenalDiagnosis",
                                  "type": "Property"
                                }
                              },
                              {
                                "locator": "94:56-94:71",
                                "lowClosed": true,
                                "highClosed": true,
                                "type": "Interval",
                                "low": {
                                  "locator": "94:86-94:122",
                                  "type": "Subtract",
                                  "operand": [
                                    {
                                      "localId": "145",
                                      "locator": "94:86-94:122",
                                      "type": "Start",
                                      "operand": {
                                        "localId": "144",
                                        "locator": "94:95-94:122",
                                        "path": "relevantPeriod",
                                        "type": "Property",
                                        "source": {
                                          "localId": "143",
                                          "locator": "94:95-94:107",
                                          "path": "QProcedure",
                                          "scope": "QP",
                                          "type": "Property"
                                        }
                                      }
                                    },
                                    {
                                      "localId": "146",
                                      "locator": "94:56-94:63",
                                      "value": 365,
                                      "unit": "days",
                                      "type": "Quantity"
                                    }
                                  ]
                                },
                                "high": {
                                  "localId": "145",
                                  "locator": "94:86-94:122",
                                  "type": "Start",
                                  "operand": {
                                    "localId": "144",
                                    "locator": "94:95-94:122",
                                    "path": "relevantPeriod",
                                    "type": "Property",
                                    "source": {
                                      "localId": "143",
                                      "locator": "94:95-94:107",
                                      "path": "QProcedure",
                                      "scope": "QP",
                                      "type": "Property"
                                    }
                                  }
                                }
                              }
                            ]
                          },
                          {
                            "locator": "94:56-94:71",
                            "type": "Not",
                            "operand": {
                              "locator": "94:56-94:71",
                              "type": "IsNull",
                              "operand": {
                                "localId": "145",
                                "locator": "94:86-94:122",
                                "type": "Start",
                                "operand": {
                                  "localId": "144",
                                  "locator": "94:95-94:122",
                                  "path": "relevantPeriod",
                                  "type": "Property",
                                  "source": {
                                    "localId": "143",
                                    "locator": "94:95-94:107",
                                    "path": "QProcedure",
                                    "scope": "QP",
                                    "type": "Property"
                                  }
                                }
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              },
              {
                "localId": "165",
                "locator": "96:1-99:119",
                "name": "Diagnosed With Atrial Fibrillation 365 Days Prior To Procedure",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "165",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Diagnosed With Atrial Fibrillation 365 Days Prior To Procedure\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "164",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "152",
                                  "s": [
                                    {
                                      "r": "151",
                                      "s": [
                                        {
                                          "r": "151",
                                          "s": [
                                            {
                                              "value": [
                                                "[",
                                                "\"Diagnosis\"",
                                                ": "
                                              ]
                                            },
                                            {
                                              "s": [
                                                {
                                                  "value": [
                                                    "\"Atrial Fibrillation\""
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "]"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "AFDiagnosis"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "163",
                              "s": [
                                {
                                  "value": [
                                    "with "
                                  ]
                                },
                                {
                                  "r": "154",
                                  "s": [
                                    {
                                      "r": "153",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "QP"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n      such that "
                                  ]
                                },
                                {
                                  "r": "162",
                                  "s": [
                                    {
                                      "r": "156",
                                      "s": [
                                        {
                                          "r": "155",
                                          "s": [
                                            {
                                              "value": [
                                                "AFDiagnosis"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "156",
                                          "s": [
                                            {
                                              "value": [
                                                "prevalencePeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "162",
                                      "s": [
                                        {
                                          "value": [
                                            "starts "
                                          ]
                                        },
                                        {
                                          "r": "161",
                                          "s": [
                                            {
                                              "value": [
                                                "365 ",
                                                "days"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " or less on or before"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "160",
                                      "s": [
                                        {
                                          "value": [
                                            "start of "
                                          ]
                                        },
                                        {
                                          "r": "159",
                                          "s": [
                                            {
                                              "r": "158",
                                              "s": [
                                                {
                                                  "r": "157",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QP"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "."
                                                  ]
                                                },
                                                {
                                                  "r": "158",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QProcedure"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "."
                                              ]
                                            },
                                            {
                                              "r": "159",
                                              "s": [
                                                {
                                                  "value": [
                                                    "relevantPeriod"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "164",
                  "locator": "97:3-99:119",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "152",
                      "locator": "97:3-97:50",
                      "alias": "AFDiagnosis",
                      "expression": {
                        "localId": "151",
                        "locator": "97:3-97:38",
                        "dataType": "{urn:healthit-gov:qdm:v5_6}Diagnosis",
                        "codeProperty": "code",
                        "codeComparator": "in",
                        "type": "Retrieve",
                        "codes": {
                          "locator": "97:17-97:37",
                          "name": "Atrial Fibrillation",
                          "type": "ValueSetRef"
                        }
                      }
                    }
                  ],
                  "relationship": [
                    {
                      "localId": "163",
                      "locator": "98:5-99:119",
                      "alias": "QP",
                      "type": "With",
                      "expression": {
                        "localId": "153",
                        "locator": "98:10-98:83",
                        "name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures",
                        "type": "ExpressionRef"
                      },
                      "suchThat": {
                        "localId": "162",
                        "locator": "99:17-99:119",
                        "type": "And",
                        "operand": [
                          {
                            "locator": "99:53-99:68",
                            "type": "In",
                            "operand": [
                              {
                                "locator": "99:46-99:51",
                                "type": "Start",
                                "operand": {
                                  "localId": "156",
                                  "locator": "99:17-99:44",
                                  "path": "prevalencePeriod",
                                  "scope": "AFDiagnosis",
                                  "type": "Property"
                                }
                              },
                              {
                                "locator": "99:53-99:68",
                                "lowClosed": true,
                                "highClosed": true,
                                "type": "Interval",
                                "low": {
                                  "locator": "99:83-99:119",
                                  "type": "Subtract",
                                  "operand": [
                                    {
                                      "localId": "160",
                                      "locator": "99:83-99:119",
                                      "type": "Start",
                                      "operand": {
                                        "localId": "159",
                                        "locator": "99:92-99:119",
                                        "path": "relevantPeriod",
                                        "type": "Property",
                                        "source": {
                                          "localId": "158",
                                          "locator": "99:92-99:104",
                                          "path": "QProcedure",
                                          "scope": "QP",
                                          "type": "Property"
                                        }
                                      }
                                    },
                                    {
                                      "localId": "161",
                                      "locator": "99:53-99:60",
                                      "value": 365,
                                      "unit": "days",
                                      "type": "Quantity"
                                    }
                                  ]
                                },
                                "high": {
                                  "localId": "160",
                                  "locator": "99:83-99:119",
                                  "type": "Start",
                                  "operand": {
                                    "localId": "159",
                                    "locator": "99:92-99:119",
                                    "path": "relevantPeriod",
                                    "type": "Property",
                                    "source": {
                                      "localId": "158",
                                      "locator": "99:92-99:104",
                                      "path": "QProcedure",
                                      "scope": "QP",
                                      "type": "Property"
                                    }
                                  }
                                }
                              }
                            ]
                          },
                          {
                            "locator": "99:53-99:68",
                            "type": "Not",
                            "operand": {
                              "locator": "99:53-99:68",
                              "type": "IsNull",
                              "operand": {
                                "localId": "160",
                                "locator": "99:83-99:119",
                                "type": "Start",
                                "operand": {
                                  "localId": "159",
                                  "locator": "99:92-99:119",
                                  "path": "relevantPeriod",
                                  "type": "Property",
                                  "source": {
                                    "localId": "158",
                                    "locator": "99:92-99:104",
                                    "path": "QProcedure",
                                    "scope": "QP",
                                    "type": "Property"
                                  }
                                }
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              },
              {
                "localId": "180",
                "locator": "101:1-104:123",
                "name": "Diagnosed With Cancer 365 Days Prior To Procedure",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "180",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Diagnosed With Cancer 365 Days Prior To Procedure\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "179",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "167",
                                  "s": [
                                    {
                                      "r": "166",
                                      "s": [
                                        {
                                          "r": "166",
                                          "s": [
                                            {
                                              "value": [
                                                "[",
                                                "\"Diagnosis\"",
                                                ": "
                                              ]
                                            },
                                            {
                                              "s": [
                                                {
                                                  "value": [
                                                    "\"Cancer\""
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "]"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "CancerDiagnosis"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "178",
                              "s": [
                                {
                                  "value": [
                                    "with "
                                  ]
                                },
                                {
                                  "r": "169",
                                  "s": [
                                    {
                                      "r": "168",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "QP"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n      such that "
                                  ]
                                },
                                {
                                  "r": "177",
                                  "s": [
                                    {
                                      "r": "171",
                                      "s": [
                                        {
                                          "r": "170",
                                          "s": [
                                            {
                                              "value": [
                                                "CancerDiagnosis"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "171",
                                          "s": [
                                            {
                                              "value": [
                                                "prevalencePeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "177",
                                      "s": [
                                        {
                                          "value": [
                                            "starts "
                                          ]
                                        },
                                        {
                                          "r": "176",
                                          "s": [
                                            {
                                              "value": [
                                                "365 ",
                                                "days"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " or less on or before"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "175",
                                      "s": [
                                        {
                                          "value": [
                                            "start of "
                                          ]
                                        },
                                        {
                                          "r": "174",
                                          "s": [
                                            {
                                              "r": "173",
                                              "s": [
                                                {
                                                  "r": "172",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QP"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "."
                                                  ]
                                                },
                                                {
                                                  "r": "173",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QProcedure"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "."
                                              ]
                                            },
                                            {
                                              "r": "174",
                                              "s": [
                                                {
                                                  "value": [
                                                    "relevantPeriod"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "179",
                  "locator": "102:3-104:123",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "167",
                      "locator": "102:3-102:41",
                      "alias": "CancerDiagnosis",
                      "expression": {
                        "localId": "166",
                        "locator": "102:3-102:25",
                        "dataType": "{urn:healthit-gov:qdm:v5_6}Diagnosis",
                        "codeProperty": "code",
                        "codeComparator": "in",
                        "type": "Retrieve",
                        "codes": {
                          "locator": "102:17-102:24",
                          "name": "Cancer",
                          "type": "ValueSetRef"
                        }
                      }
                    }
                  ],
                  "relationship": [
                    {
                      "localId": "178",
                      "locator": "103:5-104:123",
                      "alias": "QP",
                      "type": "With",
                      "expression": {
                        "localId": "168",
                        "locator": "103:10-103:83",
                        "name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures",
                        "type": "ExpressionRef"
                      },
                      "suchThat": {
                        "localId": "177",
                        "locator": "104:17-104:123",
                        "type": "And",
                        "operand": [
                          {
                            "locator": "104:57-104:72",
                            "type": "In",
                            "operand": [
                              {
                                "locator": "104:50-104:55",
                                "type": "Start",
                                "operand": {
                                  "localId": "171",
                                  "locator": "104:17-104:48",
                                  "path": "prevalencePeriod",
                                  "scope": "CancerDiagnosis",
                                  "type": "Property"
                                }
                              },
                              {
                                "locator": "104:57-104:72",
                                "lowClosed": true,
                                "highClosed": true,
                                "type": "Interval",
                                "low": {
                                  "locator": "104:87-104:123",
                                  "type": "Subtract",
                                  "operand": [
                                    {
                                      "localId": "175",
                                      "locator": "104:87-104:123",
                                      "type": "Start",
                                      "operand": {
                                        "localId": "174",
                                        "locator": "104:96-104:123",
                                        "path": "relevantPeriod",
                                        "type": "Property",
                                        "source": {
                                          "localId": "173",
                                          "locator": "104:96-104:108",
                                          "path": "QProcedure",
                                          "scope": "QP",
                                          "type": "Property"
                                        }
                                      }
                                    },
                                    {
                                      "localId": "176",
                                      "locator": "104:57-104:64",
                                      "value": 365,
                                      "unit": "days",
                                      "type": "Quantity"
                                    }
                                  ]
                                },
                                "high": {
                                  "localId": "175",
                                  "locator": "104:87-104:123",
                                  "type": "Start",
                                  "operand": {
                                    "localId": "174",
                                    "locator": "104:96-104:123",
                                    "path": "relevantPeriod",
                                    "type": "Property",
                                    "source": {
                                      "localId": "173",
                                      "locator": "104:96-104:108",
                                      "path": "QProcedure",
                                      "scope": "QP",
                                      "type": "Property"
                                    }
                                  }
                                }
                              }
                            ]
                          },
                          {
                            "locator": "104:57-104:72",
                            "type": "Not",
                            "operand": {
                              "locator": "104:57-104:72",
                              "type": "IsNull",
                              "operand": {
                                "localId": "175",
                                "locator": "104:87-104:123",
                                "type": "Start",
                                "operand": {
                                  "localId": "174",
                                  "locator": "104:96-104:123",
                                  "path": "relevantPeriod",
                                  "type": "Property",
                                  "source": {
                                    "localId": "173",
                                    "locator": "104:96-104:108",
                                    "path": "QProcedure",
                                    "scope": "QP",
                                    "type": "Property"
                                  }
                                }
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              },
              {
                "localId": "203",
                "locator": "106:1-109:163",
                "name": "Received Anticoagulant Medication Injection Between 10-90 Days Prior To Surgery Date",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "203",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Received Anticoagulant Medication Injection Between 10-90 Days Prior To Surgery Date\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "202",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "182",
                                  "s": [
                                    {
                                      "r": "181",
                                      "s": [
                                        {
                                          "r": "181",
                                          "s": [
                                            {
                                              "value": [
                                                "[",
                                                "\"Medication, Order\"",
                                                ": "
                                              ]
                                            },
                                            {
                                              "s": [
                                                {
                                                  "value": [
                                                    "\"Anticoagulant Medications, Injection\""
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "]"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "AntiCoagMed"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "201",
                              "s": [
                                {
                                  "value": [
                                    "with "
                                  ]
                                },
                                {
                                  "r": "184",
                                  "s": [
                                    {
                                      "r": "183",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "QP"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n      such that "
                                  ]
                                },
                                {
                                  "r": "200",
                                  "s": [
                                    {
                                      "r": "186",
                                      "s": [
                                        {
                                          "r": "185",
                                          "s": [
                                            {
                                              "value": [
                                                "AntiCoagMed"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "186",
                                          "s": [
                                            {
                                              "value": [
                                                "relevantPeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "r": "200",
                                      "value": [
                                        " ",
                                        "starts during",
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "199",
                                      "s": [
                                        {
                                          "value": [
                                            "Interval["
                                          ]
                                        },
                                        {
                                          "r": "192",
                                          "s": [
                                            {
                                              "r": "190",
                                              "s": [
                                                {
                                                  "value": [
                                                    "start of "
                                                  ]
                                                },
                                                {
                                                  "r": "189",
                                                  "s": [
                                                    {
                                                      "r": "188",
                                                      "s": [
                                                        {
                                                          "r": "187",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "QP"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            "."
                                                          ]
                                                        },
                                                        {
                                                          "r": "188",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "QProcedure"
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "."
                                                      ]
                                                    },
                                                    {
                                                      "r": "189",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "relevantPeriod"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                " - "
                                              ]
                                            },
                                            {
                                              "r": "191",
                                              "s": [
                                                {
                                                  "value": [
                                                    "90 ",
                                                    "days"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            ", "
                                          ]
                                        },
                                        {
                                          "r": "198",
                                          "s": [
                                            {
                                              "r": "196",
                                              "s": [
                                                {
                                                  "value": [
                                                    "start of "
                                                  ]
                                                },
                                                {
                                                  "r": "195",
                                                  "s": [
                                                    {
                                                      "r": "194",
                                                      "s": [
                                                        {
                                                          "r": "193",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "QP"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            "."
                                                          ]
                                                        },
                                                        {
                                                          "r": "194",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "QProcedure"
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "."
                                                      ]
                                                    },
                                                    {
                                                      "r": "195",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "relevantPeriod"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                " - "
                                              ]
                                            },
                                            {
                                              "r": "197",
                                              "s": [
                                                {
                                                  "value": [
                                                    "10 ",
                                                    "days"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "]"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "202",
                  "locator": "107:3-109:163",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "182",
                      "locator": "107:3-107:75",
                      "alias": "AntiCoagMed",
                      "expression": {
                        "localId": "181",
                        "locator": "107:3-107:63",
                        "dataType": "{urn:healthit-gov:qdm:v5_6}PositiveMedicationOrder",
                        "templateId": "PositiveMedicationOrder",
                        "codeProperty": "code",
                        "codeComparator": "in",
                        "type": "Retrieve",
                        "codes": {
                          "locator": "107:25-107:62",
                          "name": "Anticoagulant Medications, Injection",
                          "type": "ValueSetRef"
                        }
                      }
                    }
                  ],
                  "relationship": [
                    {
                      "localId": "201",
                      "locator": "108:5-109:163",
                      "alias": "QP",
                      "type": "With",
                      "expression": {
                        "localId": "183",
                        "locator": "108:10-108:83",
                        "name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures",
                        "type": "ExpressionRef"
                      },
                      "suchThat": {
                        "localId": "200",
                        "locator": "109:17-109:163",
                        "type": "In",
                        "operand": [
                          {
                            "locator": "109:44-109:49",
                            "type": "Start",
                            "operand": {
                              "localId": "186",
                              "locator": "109:17-109:42",
                              "path": "relevantPeriod",
                              "scope": "AntiCoagMed",
                              "type": "Property"
                            }
                          },
                          {
                            "localId": "199",
                            "locator": "109:58-109:163",
                            "lowClosed": true,
                            "highClosed": true,
                            "type": "Interval",
                            "low": {
                              "localId": "192",
                              "locator": "109:67-109:113",
                              "type": "Subtract",
                              "operand": [
                                {
                                  "localId": "190",
                                  "locator": "109:67-109:103",
                                  "type": "Start",
                                  "operand": {
                                    "localId": "189",
                                    "locator": "109:76-109:103",
                                    "path": "relevantPeriod",
                                    "type": "Property",
                                    "source": {
                                      "localId": "188",
                                      "locator": "109:76-109:88",
                                      "path": "QProcedure",
                                      "scope": "QP",
                                      "type": "Property"
                                    }
                                  }
                                },
                                {
                                  "localId": "191",
                                  "locator": "109:107-109:113",
                                  "value": 90,
                                  "unit": "days",
                                  "type": "Quantity"
                                }
                              ]
                            },
                            "high": {
                              "localId": "198",
                              "locator": "109:116-109:162",
                              "type": "Subtract",
                              "operand": [
                                {
                                  "localId": "196",
                                  "locator": "109:116-109:152",
                                  "type": "Start",
                                  "operand": {
                                    "localId": "195",
                                    "locator": "109:125-109:152",
                                    "path": "relevantPeriod",
                                    "type": "Property",
                                    "source": {
                                      "localId": "194",
                                      "locator": "109:125-109:137",
                                      "path": "QProcedure",
                                      "scope": "QP",
                                      "type": "Property"
                                    }
                                  }
                                },
                                {
                                  "localId": "197",
                                  "locator": "109:156-109:162",
                                  "value": 10,
                                  "unit": "days",
                                  "type": "Quantity"
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              },
              {
                "localId": "232",
                "locator": "111:1-115:40",
                "name": "Received Oral Anticoagulant Medications Between 10-90 Days Prior To Procedure",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "232",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Received Oral Anticoagulant Medications Between 10-90 Days Prior To Procedure\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "231",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "205",
                                  "s": [
                                    {
                                      "r": "204",
                                      "s": [
                                        {
                                          "r": "204",
                                          "s": [
                                            {
                                              "value": [
                                                "[",
                                                "\"Medication, Order\"",
                                                ": "
                                              ]
                                            },
                                            {
                                              "s": [
                                                {
                                                  "value": [
                                                    "\"Anticoagulant Medications, Oral\""
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "]"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "AntiCoagMed"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "230",
                              "s": [
                                {
                                  "value": [
                                    "with "
                                  ]
                                },
                                {
                                  "r": "207",
                                  "s": [
                                    {
                                      "r": "206",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "QP"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n      such that "
                                  ]
                                },
                                {
                                  "r": "229",
                                  "s": [
                                    {
                                      "r": "223",
                                      "s": [
                                        {
                                          "r": "209",
                                          "s": [
                                            {
                                              "r": "208",
                                              "s": [
                                                {
                                                  "value": [
                                                    "AntiCoagMed"
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "."
                                              ]
                                            },
                                            {
                                              "r": "209",
                                              "s": [
                                                {
                                                  "value": [
                                                    "relevantPeriod"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "r": "223",
                                          "value": [
                                            " ",
                                            "starts during",
                                            " "
                                          ]
                                        },
                                        {
                                          "r": "222",
                                          "s": [
                                            {
                                              "value": [
                                                "Interval["
                                              ]
                                            },
                                            {
                                              "r": "215",
                                              "s": [
                                                {
                                                  "r": "213",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "start of "
                                                      ]
                                                    },
                                                    {
                                                      "r": "212",
                                                      "s": [
                                                        {
                                                          "r": "211",
                                                          "s": [
                                                            {
                                                              "r": "210",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "QP"
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                "."
                                                              ]
                                                            },
                                                            {
                                                              "r": "211",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "QProcedure"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            "."
                                                          ]
                                                        },
                                                        {
                                                          "r": "212",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "relevantPeriod"
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    " - "
                                                  ]
                                                },
                                                {
                                                  "r": "214",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "90 ",
                                                        "days"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                ", "
                                              ]
                                            },
                                            {
                                              "r": "221",
                                              "s": [
                                                {
                                                  "r": "219",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "start of "
                                                      ]
                                                    },
                                                    {
                                                      "r": "218",
                                                      "s": [
                                                        {
                                                          "r": "217",
                                                          "s": [
                                                            {
                                                              "r": "216",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "QP"
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                "."
                                                              ]
                                                            },
                                                            {
                                                              "r": "217",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "QProcedure"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            "."
                                                          ]
                                                        },
                                                        {
                                                          "r": "218",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "relevantPeriod"
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    " - "
                                                  ]
                                                },
                                                {
                                                  "r": "220",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "10 ",
                                                        "days"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "]"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        "\n        and "
                                      ]
                                    },
                                    {
                                      "r": "228",
                                      "s": [
                                        {
                                          "r": "226",
                                          "s": [
                                            {
                                              "r": "225",
                                              "s": [
                                                {
                                                  "r": "224",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "AntiCoagMed"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "."
                                                  ]
                                                },
                                                {
                                                  "r": "225",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "supply"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "."
                                              ]
                                            },
                                            {
                                              "r": "226",
                                              "s": [
                                                {
                                                  "value": [
                                                    "value"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "r": "227",
                                          "value": [
                                            " ",
                                            ">",
                                            " ",
                                            "1"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "231",
                  "locator": "112:3-115:40",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "205",
                      "locator": "112:3-112:70",
                      "alias": "AntiCoagMed",
                      "expression": {
                        "localId": "204",
                        "locator": "112:3-112:58",
                        "dataType": "{urn:healthit-gov:qdm:v5_6}PositiveMedicationOrder",
                        "templateId": "PositiveMedicationOrder",
                        "codeProperty": "code",
                        "codeComparator": "in",
                        "type": "Retrieve",
                        "codes": {
                          "locator": "112:25-112:57",
                          "name": "Anticoagulant Medications, Oral",
                          "type": "ValueSetRef"
                        }
                      }
                    }
                  ],
                  "relationship": [
                    {
                      "localId": "230",
                      "locator": "113:5-115:40",
                      "alias": "QP",
                      "type": "With",
                      "expression": {
                        "localId": "206",
                        "locator": "113:10-113:83",
                        "name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures",
                        "type": "ExpressionRef"
                      },
                      "suchThat": {
                        "localId": "229",
                        "locator": "114:17-115:40",
                        "type": "And",
                        "operand": [
                          {
                            "localId": "223",
                            "locator": "114:17-114:163",
                            "type": "In",
                            "operand": [
                              {
                                "locator": "114:44-114:49",
                                "type": "Start",
                                "operand": {
                                  "localId": "209",
                                  "locator": "114:17-114:42",
                                  "path": "relevantPeriod",
                                  "scope": "AntiCoagMed",
                                  "type": "Property"
                                }
                              },
                              {
                                "localId": "222",
                                "locator": "114:58-114:163",
                                "lowClosed": true,
                                "highClosed": true,
                                "type": "Interval",
                                "low": {
                                  "localId": "215",
                                  "locator": "114:67-114:113",
                                  "type": "Subtract",
                                  "operand": [
                                    {
                                      "localId": "213",
                                      "locator": "114:67-114:103",
                                      "type": "Start",
                                      "operand": {
                                        "localId": "212",
                                        "locator": "114:76-114:103",
                                        "path": "relevantPeriod",
                                        "type": "Property",
                                        "source": {
                                          "localId": "211",
                                          "locator": "114:76-114:88",
                                          "path": "QProcedure",
                                          "scope": "QP",
                                          "type": "Property"
                                        }
                                      }
                                    },
                                    {
                                      "localId": "214",
                                      "locator": "114:107-114:113",
                                      "value": 90,
                                      "unit": "days",
                                      "type": "Quantity"
                                    }
                                  ]
                                },
                                "high": {
                                  "localId": "221",
                                  "locator": "114:116-114:162",
                                  "type": "Subtract",
                                  "operand": [
                                    {
                                      "localId": "219",
                                      "locator": "114:116-114:152",
                                      "type": "Start",
                                      "operand": {
                                        "localId": "218",
                                        "locator": "114:125-114:152",
                                        "path": "relevantPeriod",
                                        "type": "Property",
                                        "source": {
                                          "localId": "217",
                                          "locator": "114:125-114:137",
                                          "path": "QProcedure",
                                          "scope": "QP",
                                          "type": "Property"
                                        }
                                      }
                                    },
                                    {
                                      "localId": "220",
                                      "locator": "114:156-114:162",
                                      "value": 10,
                                      "unit": "days",
                                      "type": "Quantity"
                                    }
                                  ]
                                }
                              }
                            ]
                          },
                          {
                            "localId": "228",
                            "locator": "115:13-115:40",
                            "type": "Greater",
                            "operand": [
                              {
                                "localId": "226",
                                "locator": "115:13-115:36",
                                "path": "value",
                                "type": "Property",
                                "source": {
                                  "localId": "225",
                                  "locator": "115:13-115:30",
                                  "path": "supply",
                                  "scope": "AntiCoagMed",
                                  "type": "Property"
                                }
                              },
                              {
                                "type": "ToDecimal",
                                "operand": {
                                  "localId": "227",
                                  "locator": "115:40",
                                  "valueType": "{urn:hl7-org:elm-types:r1}Integer",
                                  "value": "1",
                                  "type": "Literal"
                                }
                              }
                            ]
                          }
                        ]
                      }
                    }
                  ]
                }
              },
              {
                "localId": "247",
                "locator": "117:1-120:129",
                "name": "Diagnosed With Coagulation Disorder 365 Days Prior To Procedure",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "247",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Diagnosed With Coagulation Disorder 365 Days Prior To Procedure\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "246",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "234",
                                  "s": [
                                    {
                                      "r": "233",
                                      "s": [
                                        {
                                          "r": "233",
                                          "s": [
                                            {
                                              "value": [
                                                "[",
                                                "\"Diagnosis\"",
                                                ": "
                                              ]
                                            },
                                            {
                                              "s": [
                                                {
                                                  "value": [
                                                    "\"Coagulation Disorder Conditions\""
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "]"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "CoagDisorderDiagnosis"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "245",
                              "s": [
                                {
                                  "value": [
                                    "with "
                                  ]
                                },
                                {
                                  "r": "236",
                                  "s": [
                                    {
                                      "r": "235",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "QP"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n      such that "
                                  ]
                                },
                                {
                                  "r": "244",
                                  "s": [
                                    {
                                      "r": "238",
                                      "s": [
                                        {
                                          "r": "237",
                                          "s": [
                                            {
                                              "value": [
                                                "CoagDisorderDiagnosis"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "238",
                                          "s": [
                                            {
                                              "value": [
                                                "prevalencePeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "244",
                                      "s": [
                                        {
                                          "value": [
                                            "starts "
                                          ]
                                        },
                                        {
                                          "r": "243",
                                          "s": [
                                            {
                                              "value": [
                                                "365 ",
                                                "days"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " or less on or before"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "242",
                                      "s": [
                                        {
                                          "value": [
                                            "start of "
                                          ]
                                        },
                                        {
                                          "r": "241",
                                          "s": [
                                            {
                                              "r": "240",
                                              "s": [
                                                {
                                                  "r": "239",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QP"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "."
                                                  ]
                                                },
                                                {
                                                  "r": "240",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QProcedure"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "."
                                              ]
                                            },
                                            {
                                              "r": "241",
                                              "s": [
                                                {
                                                  "value": [
                                                    "relevantPeriod"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "246",
                  "locator": "118:3-120:129",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "234",
                      "locator": "118:3-118:72",
                      "alias": "CoagDisorderDiagnosis",
                      "expression": {
                        "localId": "233",
                        "locator": "118:3-118:50",
                        "dataType": "{urn:healthit-gov:qdm:v5_6}Diagnosis",
                        "codeProperty": "code",
                        "codeComparator": "in",
                        "type": "Retrieve",
                        "codes": {
                          "locator": "118:17-118:49",
                          "name": "Coagulation Disorder Conditions",
                          "type": "ValueSetRef"
                        }
                      }
                    }
                  ],
                  "relationship": [
                    {
                      "localId": "245",
                      "locator": "119:5-120:129",
                      "alias": "QP",
                      "type": "With",
                      "expression": {
                        "localId": "235",
                        "locator": "119:10-119:83",
                        "name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures",
                        "type": "ExpressionRef"
                      },
                      "suchThat": {
                        "localId": "244",
                        "locator": "120:17-120:129",
                        "type": "And",
                        "operand": [
                          {
                            "locator": "120:63-120:78",
                            "type": "In",
                            "operand": [
                              {
                                "locator": "120:56-120:61",
                                "type": "Start",
                                "operand": {
                                  "localId": "238",
                                  "locator": "120:17-120:54",
                                  "path": "prevalencePeriod",
                                  "scope": "CoagDisorderDiagnosis",
                                  "type": "Property"
                                }
                              },
                              {
                                "locator": "120:63-120:78",
                                "lowClosed": true,
                                "highClosed": true,
                                "type": "Interval",
                                "low": {
                                  "locator": "120:93-120:129",
                                  "type": "Subtract",
                                  "operand": [
                                    {
                                      "localId": "242",
                                      "locator": "120:93-120:129",
                                      "type": "Start",
                                      "operand": {
                                        "localId": "241",
                                        "locator": "120:102-120:129",
                                        "path": "relevantPeriod",
                                        "type": "Property",
                                        "source": {
                                          "localId": "240",
                                          "locator": "120:102-120:114",
                                          "path": "QProcedure",
                                          "scope": "QP",
                                          "type": "Property"
                                        }
                                      }
                                    },
                                    {
                                      "localId": "243",
                                      "locator": "120:63-120:70",
                                      "value": 365,
                                      "unit": "days",
                                      "type": "Quantity"
                                    }
                                  ]
                                },
                                "high": {
                                  "localId": "242",
                                  "locator": "120:93-120:129",
                                  "type": "Start",
                                  "operand": {
                                    "localId": "241",
                                    "locator": "120:102-120:129",
                                    "path": "relevantPeriod",
                                    "type": "Property",
                                    "source": {
                                      "localId": "240",
                                      "locator": "120:102-120:114",
                                      "path": "QProcedure",
                                      "scope": "QP",
                                      "type": "Property"
                                    }
                                  }
                                }
                              }
                            ]
                          },
                          {
                            "locator": "120:63-120:78",
                            "type": "Not",
                            "operand": {
                              "locator": "120:63-120:78",
                              "type": "IsNull",
                              "operand": {
                                "localId": "242",
                                "locator": "120:93-120:129",
                                "type": "Start",
                                "operand": {
                                  "localId": "241",
                                  "locator": "120:102-120:129",
                                  "path": "relevantPeriod",
                                  "type": "Property",
                                  "source": {
                                    "localId": "240",
                                    "locator": "120:102-120:114",
                                    "path": "QProcedure",
                                    "scope": "QP",
                                    "type": "Property"
                                  }
                                }
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              },
              {
                "localId": "266",
                "locator": "122:1-127:125",
                "name": "Diagnosed With Excluded Conditions Within 90 Days Prior To The Index Admission",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "266",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Diagnosed With Excluded Conditions Within 90 Days Prior To The Index Admission\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "265",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "253",
                                  "s": [
                                    {
                                      "r": "252",
                                      "s": [
                                        {
                                          "value": [
                                            "( "
                                          ]
                                        },
                                        {
                                          "r": "252",
                                          "s": [
                                            {
                                              "r": "250",
                                              "s": [
                                                {
                                                  "r": "248",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "[",
                                                        "\"Diagnosis\"",
                                                        ": "
                                                      ]
                                                    },
                                                    {
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "\"Malignant Neoplasm Complications Related To Hip and Knee Procedures\""
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "]"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "\n    union "
                                                  ]
                                                },
                                                {
                                                  "r": "249",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "[",
                                                        "\"Diagnosis\"",
                                                        ": "
                                                      ]
                                                    },
                                                    {
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "\"Mechanical Complications Related To Hip and Knee Procedures\""
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "]"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n    union "
                                              ]
                                            },
                                            {
                                              "r": "251",
                                              "s": [
                                                {
                                                  "value": [
                                                    "[",
                                                    "\"Diagnosis\"",
                                                    ": "
                                                  ]
                                                },
                                                {
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "\"Fracture Exclusions For Hip And Knee Procedures\""
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "]"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " )"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "ExistingConditions"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "264",
                              "s": [
                                {
                                  "value": [
                                    "with "
                                  ]
                                },
                                {
                                  "r": "255",
                                  "s": [
                                    {
                                      "r": "254",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "QE"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n      such that "
                                  ]
                                },
                                {
                                  "r": "263",
                                  "s": [
                                    {
                                      "r": "257",
                                      "s": [
                                        {
                                          "r": "256",
                                          "s": [
                                            {
                                              "value": [
                                                "ExistingConditions"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "257",
                                          "s": [
                                            {
                                              "value": [
                                                "prevalencePeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "263",
                                      "s": [
                                        {
                                          "value": [
                                            "starts "
                                          ]
                                        },
                                        {
                                          "r": "262",
                                          "s": [
                                            {
                                              "value": [
                                                "90 ",
                                                "days"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " or less on or before"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "261",
                                      "s": [
                                        {
                                          "value": [
                                            "start of "
                                          ]
                                        },
                                        {
                                          "r": "260",
                                          "s": [
                                            {
                                              "r": "259",
                                              "s": [
                                                {
                                                  "r": "258",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QE"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "."
                                                  ]
                                                },
                                                {
                                                  "r": "259",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QEncounter"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "."
                                              ]
                                            },
                                            {
                                              "r": "260",
                                              "s": [
                                                {
                                                  "value": [
                                                    "relevantPeriod"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "265",
                  "locator": "123:3-127:125",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "253",
                      "locator": "123:3-125:95",
                      "alias": "ExistingConditions",
                      "expression": {
                        "localId": "252",
                        "locator": "123:3-125:76",
                        "type": "Union",
                        "operand": [
                          {
                            "localId": "250",
                            "locator": "123:5-124:86",
                            "type": "Union",
                            "operand": [
                              {
                                "localId": "248",
                                "locator": "123:5-123:88",
                                "dataType": "{urn:healthit-gov:qdm:v5_6}Diagnosis",
                                "codeProperty": "code",
                                "codeComparator": "in",
                                "type": "Retrieve",
                                "codes": {
                                  "locator": "123:19-123:87",
                                  "name": "Malignant Neoplasm Complications Related To Hip and Knee Procedures",
                                  "type": "ValueSetRef"
                                }
                              },
                              {
                                "localId": "249",
                                "locator": "124:11-124:86",
                                "dataType": "{urn:healthit-gov:qdm:v5_6}Diagnosis",
                                "codeProperty": "code",
                                "codeComparator": "in",
                                "type": "Retrieve",
                                "codes": {
                                  "locator": "124:25-124:85",
                                  "name": "Mechanical Complications Related To Hip and Knee Procedures",
                                  "type": "ValueSetRef"
                                }
                              }
                            ]
                          },
                          {
                            "localId": "251",
                            "locator": "125:11-125:74",
                            "dataType": "{urn:healthit-gov:qdm:v5_6}Diagnosis",
                            "codeProperty": "code",
                            "codeComparator": "in",
                            "type": "Retrieve",
                            "codes": {
                              "locator": "125:25-125:73",
                              "name": "Fracture Exclusions For Hip And Knee Procedures",
                              "type": "ValueSetRef"
                            }
                          }
                        ]
                      }
                    }
                  ],
                  "relationship": [
                    {
                      "localId": "264",
                      "locator": "126:5-127:125",
                      "alias": "QE",
                      "type": "With",
                      "expression": {
                        "localId": "254",
                        "locator": "126:10-126:83",
                        "name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures",
                        "type": "ExpressionRef"
                      },
                      "suchThat": {
                        "localId": "263",
                        "locator": "127:17-127:125",
                        "type": "And",
                        "operand": [
                          {
                            "locator": "127:60-127:74",
                            "type": "In",
                            "operand": [
                              {
                                "locator": "127:53-127:58",
                                "type": "Start",
                                "operand": {
                                  "localId": "257",
                                  "locator": "127:17-127:51",
                                  "path": "prevalencePeriod",
                                  "scope": "ExistingConditions",
                                  "type": "Property"
                                }
                              },
                              {
                                "locator": "127:60-127:74",
                                "lowClosed": true,
                                "highClosed": true,
                                "type": "Interval",
                                "low": {
                                  "locator": "127:89-127:125",
                                  "type": "Subtract",
                                  "operand": [
                                    {
                                      "localId": "261",
                                      "locator": "127:89-127:125",
                                      "type": "Start",
                                      "operand": {
                                        "localId": "260",
                                        "locator": "127:98-127:125",
                                        "path": "relevantPeriod",
                                        "type": "Property",
                                        "source": {
                                          "localId": "259",
                                          "locator": "127:98-127:110",
                                          "path": "QEncounter",
                                          "scope": "QE",
                                          "type": "Property"
                                        }
                                      }
                                    },
                                    {
                                      "localId": "262",
                                      "locator": "127:60-127:66",
                                      "value": 90,
                                      "unit": "days",
                                      "type": "Quantity"
                                    }
                                  ]
                                },
                                "high": {
                                  "localId": "261",
                                  "locator": "127:89-127:125",
                                  "type": "Start",
                                  "operand": {
                                    "localId": "260",
                                    "locator": "127:98-127:125",
                                    "path": "relevantPeriod",
                                    "type": "Property",
                                    "source": {
                                      "localId": "259",
                                      "locator": "127:98-127:110",
                                      "path": "QEncounter",
                                      "scope": "QE",
                                      "type": "Property"
                                    }
                                  }
                                }
                              }
                            ]
                          },
                          {
                            "locator": "127:60-127:74",
                            "type": "Not",
                            "operand": {
                              "locator": "127:60-127:74",
                              "type": "IsNull",
                              "operand": {
                                "localId": "261",
                                "locator": "127:89-127:125",
                                "type": "Start",
                                "operand": {
                                  "localId": "260",
                                  "locator": "127:98-127:125",
                                  "path": "relevantPeriod",
                                  "type": "Property",
                                  "source": {
                                    "localId": "259",
                                    "locator": "127:98-127:110",
                                    "path": "QEncounter",
                                    "scope": "QE",
                                    "type": "Property"
                                  }
                                }
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              },
              {
                "localId": "281",
                "locator": "129:1-132:123",
                "name": "Had Additional Surgery Within 35 Days Post-Procedure",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "281",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Had Additional Surgery Within 35 Days Post-Procedure\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "280",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "268",
                                  "s": [
                                    {
                                      "r": "267",
                                      "s": [
                                        {
                                          "r": "267",
                                          "s": [
                                            {
                                              "value": [
                                                "[",
                                                "\"Procedure, Performed\"",
                                                ": "
                                              ]
                                            },
                                            {
                                              "s": [
                                                {
                                                  "value": [
                                                    "\"General Surgery\""
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "]"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "AdditionalProcedure"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "279",
                              "s": [
                                {
                                  "value": [
                                    "with "
                                  ]
                                },
                                {
                                  "r": "270",
                                  "s": [
                                    {
                                      "r": "269",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "QP"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n      such that "
                                  ]
                                },
                                {
                                  "r": "278",
                                  "s": [
                                    {
                                      "r": "272",
                                      "s": [
                                        {
                                          "r": "271",
                                          "s": [
                                            {
                                              "value": [
                                                "AdditionalProcedure"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "272",
                                          "s": [
                                            {
                                              "value": [
                                                "relevantPeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "278",
                                      "s": [
                                        {
                                          "value": [
                                            "starts "
                                          ]
                                        },
                                        {
                                          "r": "277",
                                          "s": [
                                            {
                                              "value": [
                                                "35 ",
                                                "days"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " or less on or after"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "276",
                                      "s": [
                                        {
                                          "value": [
                                            "start of "
                                          ]
                                        },
                                        {
                                          "r": "275",
                                          "s": [
                                            {
                                              "r": "274",
                                              "s": [
                                                {
                                                  "r": "273",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QP"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "."
                                                  ]
                                                },
                                                {
                                                  "r": "274",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QProcedure"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "."
                                              ]
                                            },
                                            {
                                              "r": "275",
                                              "s": [
                                                {
                                                  "value": [
                                                    "relevantPeriod"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "280",
                  "locator": "130:3-132:123",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "268",
                      "locator": "130:3-130:65",
                      "alias": "AdditionalProcedure",
                      "expression": {
                        "localId": "267",
                        "locator": "130:3-130:45",
                        "dataType": "{urn:healthit-gov:qdm:v5_6}PositiveProcedurePerformed",
                        "templateId": "PositiveProcedurePerformed",
                        "codeProperty": "code",
                        "codeComparator": "in",
                        "type": "Retrieve",
                        "codes": {
                          "locator": "130:28-130:44",
                          "name": "General Surgery",
                          "type": "ValueSetRef"
                        }
                      }
                    }
                  ],
                  "relationship": [
                    {
                      "localId": "279",
                      "locator": "131:5-132:123",
                      "alias": "QP",
                      "type": "With",
                      "expression": {
                        "localId": "269",
                        "locator": "131:10-131:83",
                        "name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures",
                        "type": "ExpressionRef"
                      },
                      "suchThat": {
                        "localId": "278",
                        "locator": "132:17-132:123",
                        "type": "And",
                        "operand": [
                          {
                            "locator": "132:59-132:73",
                            "type": "In",
                            "operand": [
                              {
                                "locator": "132:52-132:57",
                                "type": "Start",
                                "operand": {
                                  "localId": "272",
                                  "locator": "132:17-132:50",
                                  "path": "relevantPeriod",
                                  "scope": "AdditionalProcedure",
                                  "type": "Property"
                                }
                              },
                              {
                                "locator": "132:59-132:73",
                                "lowClosed": true,
                                "highClosed": true,
                                "type": "Interval",
                                "low": {
                                  "localId": "276",
                                  "locator": "132:87-132:123",
                                  "type": "Start",
                                  "operand": {
                                    "localId": "275",
                                    "locator": "132:96-132:123",
                                    "path": "relevantPeriod",
                                    "type": "Property",
                                    "source": {
                                      "localId": "274",
                                      "locator": "132:96-132:108",
                                      "path": "QProcedure",
                                      "scope": "QP",
                                      "type": "Property"
                                    }
                                  }
                                },
                                "high": {
                                  "locator": "132:87-132:123",
                                  "type": "Add",
                                  "operand": [
                                    {
                                      "localId": "276",
                                      "locator": "132:87-132:123",
                                      "type": "Start",
                                      "operand": {
                                        "localId": "275",
                                        "locator": "132:96-132:123",
                                        "path": "relevantPeriod",
                                        "type": "Property",
                                        "source": {
                                          "localId": "274",
                                          "locator": "132:96-132:108",
                                          "path": "QProcedure",
                                          "scope": "QP",
                                          "type": "Property"
                                        }
                                      }
                                    },
                                    {
                                      "localId": "277",
                                      "locator": "132:59-132:65",
                                      "value": 35,
                                      "unit": "days",
                                      "type": "Quantity"
                                    }
                                  ]
                                }
                              }
                            ]
                          },
                          {
                            "locator": "132:59-132:73",
                            "type": "Not",
                            "operand": {
                              "locator": "132:59-132:73",
                              "type": "IsNull",
                              "operand": {
                                "localId": "276",
                                "locator": "132:87-132:123",
                                "type": "Start",
                                "operand": {
                                  "localId": "275",
                                  "locator": "132:96-132:123",
                                  "path": "relevantPeriod",
                                  "type": "Property",
                                  "source": {
                                    "localId": "274",
                                    "locator": "132:96-132:108",
                                    "path": "QProcedure",
                                    "scope": "QP",
                                    "type": "Property"
                                  }
                                }
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              },
              {
                "localId": "311",
                "locator": "134:1-144:68",
                "name": "Common Denominator Exclusions",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "311",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Common Denominator Exclusions\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "310",
                          "s": [
                            {
                              "r": "307",
                              "s": [
                                {
                                  "r": "304",
                                  "s": [
                                    {
                                      "r": "301",
                                      "s": [
                                        {
                                          "r": "298",
                                          "s": [
                                            {
                                              "r": "295",
                                              "s": [
                                                {
                                                  "r": "292",
                                                  "s": [
                                                    {
                                                      "r": "289",
                                                      "s": [
                                                        {
                                                          "r": "286",
                                                          "s": [
                                                            {
                                                              "r": "283",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "exists "
                                                                  ]
                                                                },
                                                                {
                                                                  "r": "282",
                                                                  "s": [
                                                                    {
                                                                      "value": [
                                                                        "\"Transferred From Another Acute Care Facility or Discharged Against Medical Advice During Index Admission\""
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                "\n    or "
                                                              ]
                                                            },
                                                            {
                                                              "r": "285",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "exists "
                                                                  ]
                                                                },
                                                                {
                                                                  "r": "284",
                                                                  "s": [
                                                                    {
                                                                      "value": [
                                                                        "\"Had More Than 2 THA_TKA Procedures Codes During The Index Admission\""
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            "\n    or "
                                                          ]
                                                        },
                                                        {
                                                          "r": "288",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "exists "
                                                              ]
                                                            },
                                                            {
                                                              "r": "287",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "\"Diagnosed With Renal Insufficiency 365 Days Prior To Procedure\""
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "\n    or "
                                                      ]
                                                    },
                                                    {
                                                      "r": "291",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "exists "
                                                          ]
                                                        },
                                                        {
                                                          "r": "290",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "\"Diagnosed With Atrial Fibrillation 365 Days Prior To Procedure\""
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "\n    or "
                                                  ]
                                                },
                                                {
                                                  "r": "294",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "exists "
                                                      ]
                                                    },
                                                    {
                                                      "r": "293",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "\"Diagnosed With Cancer 365 Days Prior To Procedure\""
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n    or "
                                              ]
                                            },
                                            {
                                              "r": "297",
                                              "s": [
                                                {
                                                  "value": [
                                                    "exists "
                                                  ]
                                                },
                                                {
                                                  "r": "296",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "\"Received Anticoagulant Medication Injection Between 10-90 Days Prior To Surgery Date\""
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "\n    or "
                                          ]
                                        },
                                        {
                                          "r": "300",
                                          "s": [
                                            {
                                              "value": [
                                                "exists "
                                              ]
                                            },
                                            {
                                              "r": "299",
                                              "s": [
                                                {
                                                  "value": [
                                                    "\"Received Oral Anticoagulant Medications Between 10-90 Days Prior To Procedure\""
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        "\n    or "
                                      ]
                                    },
                                    {
                                      "r": "303",
                                      "s": [
                                        {
                                          "value": [
                                            "exists "
                                          ]
                                        },
                                        {
                                          "r": "302",
                                          "s": [
                                            {
                                              "value": [
                                                "\"Diagnosed With Coagulation Disorder 365 Days Prior To Procedure\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n    or "
                                  ]
                                },
                                {
                                  "r": "306",
                                  "s": [
                                    {
                                      "value": [
                                        "exists "
                                      ]
                                    },
                                    {
                                      "r": "305",
                                      "s": [
                                        {
                                          "value": [
                                            "\"Diagnosed With Excluded Conditions Within 90 Days Prior To The Index Admission\""
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    or "
                              ]
                            },
                            {
                              "r": "309",
                              "s": [
                                {
                                  "value": [
                                    "exists "
                                  ]
                                },
                                {
                                  "r": "308",
                                  "s": [
                                    {
                                      "value": [
                                        "\"Had Additional Surgery Within 35 Days Post-Procedure\""
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "310",
                  "locator": "135:3-144:68",
                  "type": "Or",
                  "operand": [
                    {
                      "localId": "307",
                      "locator": "135:3-143:94",
                      "type": "Or",
                      "operand": [
                        {
                          "localId": "304",
                          "locator": "135:3-142:79",
                          "type": "Or",
                          "operand": [
                            {
                              "localId": "301",
                              "locator": "135:3-141:93",
                              "type": "Or",
                              "operand": [
                                {
                                  "localId": "298",
                                  "locator": "135:3-140:100",
                                  "type": "Or",
                                  "operand": [
                                    {
                                      "localId": "295",
                                      "locator": "135:3-139:65",
                                      "type": "Or",
                                      "operand": [
                                        {
                                          "localId": "292",
                                          "locator": "135:3-138:78",
                                          "type": "Or",
                                          "operand": [
                                            {
                                              "localId": "289",
                                              "locator": "135:3-137:78",
                                              "type": "Or",
                                              "operand": [
                                                {
                                                  "localId": "286",
                                                  "locator": "135:3-136:83",
                                                  "type": "Or",
                                                  "operand": [
                                                    {
                                                      "localId": "283",
                                                      "locator": "135:3-135:115",
                                                      "type": "Exists",
                                                      "operand": {
                                                        "localId": "282",
                                                        "locator": "135:10-135:115",
                                                        "name": "Transferred From Another Acute Care Facility or Discharged Against Medical Advice During Index Admission",
                                                        "type": "ExpressionRef"
                                                      }
                                                    },
                                                    {
                                                      "localId": "285",
                                                      "locator": "136:8-136:83",
                                                      "type": "Exists",
                                                      "operand": {
                                                        "localId": "284",
                                                        "locator": "136:15-136:83",
                                                        "name": "Had More Than 2 THA_TKA Procedures Codes During The Index Admission",
                                                        "type": "ExpressionRef"
                                                      }
                                                    }
                                                  ]
                                                },
                                                {
                                                  "localId": "288",
                                                  "locator": "137:8-137:78",
                                                  "type": "Exists",
                                                  "operand": {
                                                    "localId": "287",
                                                    "locator": "137:15-137:78",
                                                    "name": "Diagnosed With Renal Insufficiency 365 Days Prior To Procedure",
                                                    "type": "ExpressionRef"
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "localId": "291",
                                              "locator": "138:8-138:78",
                                              "type": "Exists",
                                              "operand": {
                                                "localId": "290",
                                                "locator": "138:15-138:78",
                                                "name": "Diagnosed With Atrial Fibrillation 365 Days Prior To Procedure",
                                                "type": "ExpressionRef"
                                              }
                                            }
                                          ]
                                        },
                                        {
                                          "localId": "294",
                                          "locator": "139:8-139:65",
                                          "type": "Exists",
                                          "operand": {
                                            "localId": "293",
                                            "locator": "139:15-139:65",
                                            "name": "Diagnosed With Cancer 365 Days Prior To Procedure",
                                            "type": "ExpressionRef"
                                          }
                                        }
                                      ]
                                    },
                                    {
                                      "localId": "297",
                                      "locator": "140:8-140:100",
                                      "type": "Exists",
                                      "operand": {
                                        "localId": "296",
                                        "locator": "140:15-140:100",
                                        "name": "Received Anticoagulant Medication Injection Between 10-90 Days Prior To Surgery Date",
                                        "type": "ExpressionRef"
                                      }
                                    }
                                  ]
                                },
                                {
                                  "localId": "300",
                                  "locator": "141:8-141:93",
                                  "type": "Exists",
                                  "operand": {
                                    "localId": "299",
                                    "locator": "141:15-141:93",
                                    "name": "Received Oral Anticoagulant Medications Between 10-90 Days Prior To Procedure",
                                    "type": "ExpressionRef"
                                  }
                                }
                              ]
                            },
                            {
                              "localId": "303",
                              "locator": "142:8-142:79",
                              "type": "Exists",
                              "operand": {
                                "localId": "302",
                                "locator": "142:15-142:79",
                                "name": "Diagnosed With Coagulation Disorder 365 Days Prior To Procedure",
                                "type": "ExpressionRef"
                              }
                            }
                          ]
                        },
                        {
                          "localId": "306",
                          "locator": "143:8-143:94",
                          "type": "Exists",
                          "operand": {
                            "localId": "305",
                            "locator": "143:15-143:94",
                            "name": "Diagnosed With Excluded Conditions Within 90 Days Prior To The Index Admission",
                            "type": "ExpressionRef"
                          }
                        }
                      ]
                    },
                    {
                      "localId": "309",
                      "locator": "144:8-144:68",
                      "type": "Exists",
                      "operand": {
                        "localId": "308",
                        "locator": "144:15-144:68",
                        "name": "Had Additional Surgery Within 35 Days Post-Procedure",
                        "type": "ExpressionRef"
                      }
                    }
                  ]
                }
              },
              {
                "localId": "326",
                "locator": "147:1-150:114",
                "name": "Diagnosed With Major Bleeding 30 Days Prior To The Index Admission",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "326",
                      "s": [
                        {
                          "value": [
                            "/*Bleeding-specific*/",
                            "define ",
                            "\"Diagnosed With Major Bleeding 30 Days Prior To The Index Admission\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "325",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "313",
                                  "s": [
                                    {
                                      "r": "312",
                                      "s": [
                                        {
                                          "r": "312",
                                          "s": [
                                            {
                                              "value": [
                                                "[",
                                                "\"Diagnosis\"",
                                                ": "
                                              ]
                                            },
                                            {
                                              "s": [
                                                {
                                                  "value": [
                                                    "\"General Major Bleeding Events\""
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "]"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "GMBEDiagnosis"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "324",
                              "s": [
                                {
                                  "value": [
                                    "with "
                                  ]
                                },
                                {
                                  "r": "315",
                                  "s": [
                                    {
                                      "r": "314",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "QE"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n      such that "
                                  ]
                                },
                                {
                                  "r": "323",
                                  "s": [
                                    {
                                      "r": "317",
                                      "s": [
                                        {
                                          "r": "316",
                                          "s": [
                                            {
                                              "value": [
                                                "GMBEDiagnosis"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "317",
                                          "s": [
                                            {
                                              "value": [
                                                "prevalencePeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "323",
                                      "s": [
                                        {
                                          "value": [
                                            "starts "
                                          ]
                                        },
                                        {
                                          "r": "322",
                                          "s": [
                                            {
                                              "value": [
                                                "30 ",
                                                "days"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " or less before"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "321",
                                      "s": [
                                        {
                                          "value": [
                                            "start of "
                                          ]
                                        },
                                        {
                                          "r": "320",
                                          "s": [
                                            {
                                              "r": "319",
                                              "s": [
                                                {
                                                  "r": "318",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QE"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "."
                                                  ]
                                                },
                                                {
                                                  "r": "319",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QEncounter"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "."
                                              ]
                                            },
                                            {
                                              "r": "320",
                                              "s": [
                                                {
                                                  "value": [
                                                    "relevantPeriod"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "325",
                  "locator": "148:3-150:114",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "313",
                      "locator": "148:3-148:62",
                      "alias": "GMBEDiagnosis",
                      "expression": {
                        "localId": "312",
                        "locator": "148:3-148:48",
                        "dataType": "{urn:healthit-gov:qdm:v5_6}Diagnosis",
                        "codeProperty": "code",
                        "codeComparator": "in",
                        "type": "Retrieve",
                        "codes": {
                          "locator": "148:17-148:47",
                          "name": "General Major Bleeding Events",
                          "type": "ValueSetRef"
                        }
                      }
                    }
                  ],
                  "relationship": [
                    {
                      "localId": "324",
                      "locator": "149:5-150:114",
                      "alias": "QE",
                      "type": "With",
                      "expression": {
                        "localId": "314",
                        "locator": "149:10-149:83",
                        "name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures",
                        "type": "ExpressionRef"
                      },
                      "suchThat": {
                        "localId": "323",
                        "locator": "150:17-150:114",
                        "type": "And",
                        "operand": [
                          {
                            "locator": "150:55-150:69",
                            "type": "In",
                            "operand": [
                              {
                                "locator": "150:48-150:53",
                                "type": "Start",
                                "operand": {
                                  "localId": "317",
                                  "locator": "150:17-150:46",
                                  "path": "prevalencePeriod",
                                  "scope": "GMBEDiagnosis",
                                  "type": "Property"
                                }
                              },
                              {
                                "locator": "150:55-150:69",
                                "lowClosed": true,
                                "highClosed": false,
                                "type": "Interval",
                                "low": {
                                  "locator": "150:78-150:114",
                                  "type": "Subtract",
                                  "operand": [
                                    {
                                      "localId": "321",
                                      "locator": "150:78-150:114",
                                      "type": "Start",
                                      "operand": {
                                        "localId": "320",
                                        "locator": "150:87-150:114",
                                        "path": "relevantPeriod",
                                        "type": "Property",
                                        "source": {
                                          "localId": "319",
                                          "locator": "150:87-150:99",
                                          "path": "QEncounter",
                                          "scope": "QE",
                                          "type": "Property"
                                        }
                                      }
                                    },
                                    {
                                      "localId": "322",
                                      "locator": "150:55-150:61",
                                      "value": 30,
                                      "unit": "days",
                                      "type": "Quantity"
                                    }
                                  ]
                                },
                                "high": {
                                  "localId": "321",
                                  "locator": "150:78-150:114",
                                  "type": "Start",
                                  "operand": {
                                    "localId": "320",
                                    "locator": "150:87-150:114",
                                    "path": "relevantPeriod",
                                    "type": "Property",
                                    "source": {
                                      "localId": "319",
                                      "locator": "150:87-150:99",
                                      "path": "QEncounter",
                                      "scope": "QE",
                                      "type": "Property"
                                    }
                                  }
                                }
                              }
                            ]
                          },
                          {
                            "locator": "150:55-150:69",
                            "type": "Not",
                            "operand": {
                              "locator": "150:55-150:69",
                              "type": "IsNull",
                              "operand": {
                                "localId": "321",
                                "locator": "150:78-150:114",
                                "type": "Start",
                                "operand": {
                                  "localId": "320",
                                  "locator": "150:87-150:114",
                                  "path": "relevantPeriod",
                                  "type": "Property",
                                  "source": {
                                    "localId": "319",
                                    "locator": "150:87-150:99",
                                    "path": "QEncounter",
                                    "scope": "QE",
                                    "type": "Property"
                                  }
                                }
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              },
              {
                "localId": "356",
                "locator": "152:1-160:3",
                "name": "Most Recent Documented BMI",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "356",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Most Recent Documented BMI\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "355",
                          "s": [
                            {
                              "value": [
                                "Last",
                                "("
                              ]
                            },
                            {
                              "r": "354",
                              "s": [
                                {
                                  "s": [
                                    {
                                      "r": "328",
                                      "s": [
                                        {
                                          "r": "327",
                                          "s": [
                                            {
                                              "r": "327",
                                              "s": [
                                                {
                                                  "value": [
                                                    "[",
                                                    "\"Physical Exam, Performed\"",
                                                    ": "
                                                  ]
                                                },
                                                {
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "\"Body mass index (BMI) [Ratio]\""
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "]"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " ",
                                            "LastBMI"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n      "
                                  ]
                                },
                                {
                                  "r": "350",
                                  "s": [
                                    {
                                      "value": [
                                        "with "
                                      ]
                                    },
                                    {
                                      "r": "330",
                                      "s": [
                                        {
                                          "r": "329",
                                          "s": [
                                            {
                                              "s": [
                                                {
                                                  "value": [
                                                    "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " ",
                                            "QualifyingEncounter"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        "\n        such that"
                                      ]
                                    },
                                    {
                                      "r": "349",
                                      "s": [
                                        {
                                          "r": "345",
                                          "s": [
                                            {
                                              "value": [
                                                "("
                                              ]
                                            },
                                            {
                                              "r": "345",
                                              "s": [
                                                {
                                                  "r": "338",
                                                  "s": [
                                                    {
                                                      "r": "332",
                                                      "s": [
                                                        {
                                                          "r": "331",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "LastBMI"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            "."
                                                          ]
                                                        },
                                                        {
                                                          "r": "332",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "relevantPeriod"
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        " "
                                                      ]
                                                    },
                                                    {
                                                      "r": "338",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "starts "
                                                          ]
                                                        },
                                                        {
                                                          "r": "337",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "12 ",
                                                                "months"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            " or less on or before"
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        " "
                                                      ]
                                                    },
                                                    {
                                                      "r": "336",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "start of "
                                                          ]
                                                        },
                                                        {
                                                          "r": "335",
                                                          "s": [
                                                            {
                                                              "r": "334",
                                                              "s": [
                                                                {
                                                                  "r": "333",
                                                                  "s": [
                                                                    {
                                                                      "value": [
                                                                        "QualifyingEncounter"
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "value": [
                                                                    "."
                                                                  ]
                                                                },
                                                                {
                                                                  "r": "334",
                                                                  "s": [
                                                                    {
                                                                      "value": [
                                                                        "QEncounter"
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                "."
                                                              ]
                                                            },
                                                            {
                                                              "r": "335",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "relevantPeriod"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "\n            or "
                                                  ]
                                                },
                                                {
                                                  "r": "344",
                                                  "s": [
                                                    {
                                                      "r": "340",
                                                      "s": [
                                                        {
                                                          "r": "339",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "LastBMI"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            "."
                                                          ]
                                                        },
                                                        {
                                                          "r": "340",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "relevantPeriod"
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "r": "344",
                                                      "value": [
                                                        " ",
                                                        "starts during",
                                                        " "
                                                      ]
                                                    },
                                                    {
                                                      "r": "343",
                                                      "s": [
                                                        {
                                                          "r": "342",
                                                          "s": [
                                                            {
                                                              "r": "341",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "QualifyingEncounter"
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                "."
                                                              ]
                                                            },
                                                            {
                                                              "r": "342",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "QEncounter"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            "."
                                                          ]
                                                        },
                                                        {
                                                          "r": "343",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "relevantPeriod"
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n        )"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "\n          and "
                                          ]
                                        },
                                        {
                                          "r": "348",
                                          "s": [
                                            {
                                              "r": "347",
                                              "s": [
                                                {
                                                  "r": "346",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "LastBMI"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "."
                                                  ]
                                                },
                                                {
                                                  "r": "347",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "result"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                " is not null"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n      "
                                  ]
                                },
                                {
                                  "r": "353",
                                  "s": [
                                    {
                                      "value": [
                                        "sort by "
                                      ]
                                    },
                                    {
                                      "r": "352",
                                      "s": [
                                        {
                                          "r": "351",
                                          "s": [
                                            {
                                              "value": [
                                                "authorDatetime"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n  )"
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "355",
                  "locator": "153:3-160:3",
                  "type": "Last",
                  "source": {
                    "localId": "354",
                    "locator": "153:8-159:28",
                    "type": "Query",
                    "source": [
                      {
                        "localId": "328",
                        "locator": "153:8-153:76",
                        "alias": "LastBMI",
                        "expression": {
                          "localId": "327",
                          "locator": "153:8-153:68",
                          "dataType": "{urn:healthit-gov:qdm:v5_6}PositivePhysicalExamPerformed",
                          "templateId": "PositivePhysicalExamPerformed",
                          "codeProperty": "code",
                          "codeComparator": "~",
                          "type": "Retrieve",
                          "codes": {
                            "type": "ToList",
                            "operand": {
                              "locator": "153:37-153:67",
                              "name": "Body mass index (BMI) [Ratio]",
                              "type": "CodeRef"
                            }
                          }
                        }
                      }
                    ],
                    "relationship": [
                      {
                        "localId": "350",
                        "locator": "154:7-158:40",
                        "alias": "QualifyingEncounter",
                        "type": "With",
                        "expression": {
                          "localId": "329",
                          "locator": "154:12-154:85",
                          "name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures",
                          "type": "ExpressionRef"
                        },
                        "suchThat": {
                          "localId": "349",
                          "locator": "155:18-158:40",
                          "type": "And",
                          "operand": [
                            {
                              "localId": "345",
                              "locator": "155:18-157:9",
                              "type": "Or",
                              "operand": [
                                {
                                  "localId": "338",
                                  "locator": "155:19-155:133",
                                  "type": "And",
                                  "operand": [
                                    {
                                      "locator": "155:49-155:65",
                                      "type": "In",
                                      "operand": [
                                        {
                                          "locator": "155:42-155:47",
                                          "type": "Start",
                                          "operand": {
                                            "localId": "332",
                                            "locator": "155:19-155:40",
                                            "path": "relevantPeriod",
                                            "scope": "LastBMI",
                                            "type": "Property"
                                          }
                                        },
                                        {
                                          "locator": "155:49-155:65",
                                          "lowClosed": true,
                                          "highClosed": true,
                                          "type": "Interval",
                                          "low": {
                                            "locator": "155:80-155:133",
                                            "type": "Subtract",
                                            "operand": [
                                              {
                                                "localId": "336",
                                                "locator": "155:80-155:133",
                                                "type": "Start",
                                                "operand": {
                                                  "localId": "335",
                                                  "locator": "155:89-155:133",
                                                  "path": "relevantPeriod",
                                                  "type": "Property",
                                                  "source": {
                                                    "localId": "334",
                                                    "locator": "155:89-155:118",
                                                    "path": "QEncounter",
                                                    "scope": "QualifyingEncounter",
                                                    "type": "Property"
                                                  }
                                                }
                                              },
                                              {
                                                "localId": "337",
                                                "locator": "155:49-155:57",
                                                "value": 12,
                                                "unit": "months",
                                                "type": "Quantity"
                                              }
                                            ]
                                          },
                                          "high": {
                                            "localId": "336",
                                            "locator": "155:80-155:133",
                                            "type": "Start",
                                            "operand": {
                                              "localId": "335",
                                              "locator": "155:89-155:133",
                                              "path": "relevantPeriod",
                                              "type": "Property",
                                              "source": {
                                                "localId": "334",
                                                "locator": "155:89-155:118",
                                                "path": "QEncounter",
                                                "scope": "QualifyingEncounter",
                                                "type": "Property"
                                              }
                                            }
                                          }
                                        }
                                      ]
                                    },
                                    {
                                      "locator": "155:49-155:65",
                                      "type": "Not",
                                      "operand": {
                                        "locator": "155:49-155:65",
                                        "type": "IsNull",
                                        "operand": {
                                          "localId": "336",
                                          "locator": "155:80-155:133",
                                          "type": "Start",
                                          "operand": {
                                            "localId": "335",
                                            "locator": "155:89-155:133",
                                            "path": "relevantPeriod",
                                            "type": "Property",
                                            "source": {
                                              "localId": "334",
                                              "locator": "155:89-155:118",
                                              "path": "QEncounter",
                                              "scope": "QualifyingEncounter",
                                              "type": "Property"
                                            }
                                          }
                                        }
                                      }
                                    }
                                  ]
                                },
                                {
                                  "localId": "344",
                                  "locator": "156:16-156:97",
                                  "type": "In",
                                  "operand": [
                                    {
                                      "locator": "156:39-156:44",
                                      "type": "Start",
                                      "operand": {
                                        "localId": "340",
                                        "locator": "156:16-156:37",
                                        "path": "relevantPeriod",
                                        "scope": "LastBMI",
                                        "type": "Property"
                                      }
                                    },
                                    {
                                      "localId": "343",
                                      "locator": "156:53-156:97",
                                      "path": "relevantPeriod",
                                      "type": "Property",
                                      "source": {
                                        "localId": "342",
                                        "locator": "156:53-156:82",
                                        "path": "QEncounter",
                                        "scope": "QualifyingEncounter",
                                        "type": "Property"
                                      }
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "localId": "348",
                              "locator": "158:15-158:40",
                              "type": "Not",
                              "operand": {
                                "locator": "158:15-158:40",
                                "type": "IsNull",
                                "operand": {
                                  "localId": "347",
                                  "locator": "158:15-158:28",
                                  "path": "result",
                                  "scope": "LastBMI",
                                  "type": "Property"
                                }
                              }
                            }
                          ]
                        }
                      }
                    ],
                    "sort": {
                      "localId": "353",
                      "locator": "159:7-159:28",
                      "by": [
                        {
                          "localId": "352",
                          "locator": "159:15-159:28",
                          "direction": "asc",
                          "path": "authorDatetime",
                          "type": "ByColumn"
                        }
                      ]
                    }
                  }
                }
              },
              {
                "localId": "366",
                "locator": "162:1-164:73",
                "name": "Has Normal BMI",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "366",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Has Normal BMI\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "365",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "358",
                                  "s": [
                                    {
                                      "r": "357",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Most Recent Documented BMI\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "BMIValue"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "364",
                              "s": [
                                {
                                  "value": [
                                    "where "
                                  ]
                                },
                                {
                                  "r": "364",
                                  "s": [
                                    {
                                      "r": "360",
                                      "s": [
                                        {
                                          "r": "359",
                                          "s": [
                                            {
                                              "value": [
                                                "BMIValue"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "360",
                                          "s": [
                                            {
                                              "value": [
                                                "result"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "r": "364",
                                      "value": [
                                        " ",
                                        "included in",
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "363",
                                      "s": [
                                        {
                                          "value": [
                                            "Interval["
                                          ]
                                        },
                                        {
                                          "r": "361",
                                          "s": [
                                            {
                                              "value": [
                                                "18.5 ",
                                                "'kg/m2'"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            ", "
                                          ]
                                        },
                                        {
                                          "r": "362",
                                          "s": [
                                            {
                                              "value": [
                                                "25 ",
                                                "'kg/m2'"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " )"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "365",
                  "locator": "163:3-164:73",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "358",
                      "locator": "163:3-163:39",
                      "alias": "BMIValue",
                      "expression": {
                        "localId": "357",
                        "locator": "163:3-163:30",
                        "name": "Most Recent Documented BMI",
                        "type": "ExpressionRef"
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "364",
                    "locator": "164:5-164:73",
                    "type": "In",
                    "operand": [
                      {
                        "asType": "{urn:hl7-org:elm-types:r1}Quantity",
                        "type": "As",
                        "operand": {
                          "localId": "360",
                          "locator": "164:11-164:25",
                          "path": "result",
                          "scope": "BMIValue",
                          "type": "Property"
                        }
                      },
                      {
                        "localId": "363",
                        "locator": "164:39-164:73",
                        "lowClosed": true,
                        "highClosed": false,
                        "type": "Interval",
                        "low": {
                          "localId": "361",
                          "locator": "164:48-164:59",
                          "value": 18.5,
                          "unit": "kg/m2",
                          "type": "Quantity"
                        },
                        "high": {
                          "localId": "362",
                          "locator": "164:62-164:71",
                          "value": 25,
                          "unit": "kg/m2",
                          "type": "Quantity"
                        }
                      }
                    ]
                  }
                }
              },
              {
                "localId": "386",
                "locator": "166:1-172:80",
                "name": "Screened and Identified as Tobacco User",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "386",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Screened and Identified as Tobacco User\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "385",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "380",
                                  "s": [
                                    {
                                      "r": "379",
                                      "s": [
                                        {
                                          "value": [
                                            "( "
                                          ]
                                        },
                                        {
                                          "r": "379",
                                          "s": [
                                            {
                                              "value": [
                                                "Last",
                                                "("
                                              ]
                                            },
                                            {
                                              "r": "378",
                                              "s": [
                                                {
                                                  "s": [
                                                    {
                                                      "r": "368",
                                                      "s": [
                                                        {
                                                          "r": "367",
                                                          "s": [
                                                            {
                                                              "r": "367",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "[",
                                                                    "\"Assessment, Performed\"",
                                                                    ": "
                                                                  ]
                                                                },
                                                                {
                                                                  "s": [
                                                                    {
                                                                      "value": [
                                                                        "\"Tobacco Use Screening\""
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "value": [
                                                                    "]"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            " ",
                                                            "TobaccoUseScreening"
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "\n      "
                                                  ]
                                                },
                                                {
                                                  "r": "374",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "where "
                                                      ]
                                                    },
                                                    {
                                                      "r": "374",
                                                      "s": [
                                                        {
                                                          "r": "370",
                                                          "s": [
                                                            {
                                                              "r": "369",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "TobaccoUseScreening"
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                "."
                                                              ]
                                                            },
                                                            {
                                                              "r": "370",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "authorDatetime"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            " "
                                                          ]
                                                        },
                                                        {
                                                          "r": "374",
                                                          "s": [
                                                            {
                                                              "r": "373",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "24 ",
                                                                    "months"
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                " or less on or before"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            " \n      "
                                                          ]
                                                        },
                                                        {
                                                          "r": "372",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "end of "
                                                              ]
                                                            },
                                                            {
                                                              "r": "371",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "\"Measurement Period\""
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "\n      "
                                                  ]
                                                },
                                                {
                                                  "r": "377",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "sort by "
                                                      ]
                                                    },
                                                    {
                                                      "r": "376",
                                                      "s": [
                                                        {
                                                          "r": "375",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "authorDatetime"
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n  )"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            ")"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "MostRecentTobaccoUseScreening"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "384",
                              "s": [
                                {
                                  "value": [
                                    "where "
                                  ]
                                },
                                {
                                  "r": "384",
                                  "s": [
                                    {
                                      "r": "382",
                                      "s": [
                                        {
                                          "r": "381",
                                          "s": [
                                            {
                                              "value": [
                                                "MostRecentTobaccoUseScreening"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "382",
                                          "s": [
                                            {
                                              "value": [
                                                "result"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " in "
                                      ]
                                    },
                                    {
                                      "r": "383",
                                      "s": [
                                        {
                                          "value": [
                                            "\"Current Smoking Tobacco User\""
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "385",
                  "locator": "167:3-172:80",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "380",
                      "locator": "167:3-171:34",
                      "alias": "MostRecentTobaccoUseScreening",
                      "expression": {
                        "localId": "379",
                        "locator": "167:3-171:4",
                        "type": "Last",
                        "source": {
                          "localId": "378",
                          "locator": "167:10-170:28",
                          "type": "Query",
                          "source": [
                            {
                              "localId": "368",
                              "locator": "167:10-167:79",
                              "alias": "TobaccoUseScreening",
                              "expression": {
                                "localId": "367",
                                "locator": "167:10-167:59",
                                "dataType": "{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed",
                                "templateId": "PositiveAssessmentPerformed",
                                "codeProperty": "code",
                                "codeComparator": "in",
                                "type": "Retrieve",
                                "codes": {
                                  "locator": "167:36-167:58",
                                  "name": "Tobacco Use Screening",
                                  "type": "ValueSetRef"
                                }
                              }
                            }
                          ],
                          "relationship": [],
                          "where": {
                            "localId": "374",
                            "locator": "168:7-169:33",
                            "type": "And",
                            "operand": [
                              {
                                "locator": "168:48-168:64",
                                "type": "In",
                                "operand": [
                                  {
                                    "localId": "370",
                                    "locator": "168:13-168:46",
                                    "path": "authorDatetime",
                                    "scope": "TobaccoUseScreening",
                                    "type": "Property"
                                  },
                                  {
                                    "locator": "168:48-168:64",
                                    "lowClosed": true,
                                    "highClosed": true,
                                    "type": "Interval",
                                    "low": {
                                      "locator": "169:7-169:33",
                                      "type": "Subtract",
                                      "operand": [
                                        {
                                          "localId": "372",
                                          "locator": "169:7-169:33",
                                          "type": "End",
                                          "operand": {
                                            "localId": "371",
                                            "locator": "169:14-169:33",
                                            "name": "Measurement Period",
                                            "type": "ParameterRef"
                                          }
                                        },
                                        {
                                          "localId": "373",
                                          "locator": "168:48-168:56",
                                          "value": 24,
                                          "unit": "months",
                                          "type": "Quantity"
                                        }
                                      ]
                                    },
                                    "high": {
                                      "localId": "372",
                                      "locator": "169:7-169:33",
                                      "type": "End",
                                      "operand": {
                                        "localId": "371",
                                        "locator": "169:14-169:33",
                                        "name": "Measurement Period",
                                        "type": "ParameterRef"
                                      }
                                    }
                                  }
                                ]
                              },
                              {
                                "locator": "168:48-168:64",
                                "type": "Not",
                                "operand": {
                                  "locator": "168:48-168:64",
                                  "type": "IsNull",
                                  "operand": {
                                    "localId": "372",
                                    "locator": "169:7-169:33",
                                    "type": "End",
                                    "operand": {
                                      "localId": "371",
                                      "locator": "169:14-169:33",
                                      "name": "Measurement Period",
                                      "type": "ParameterRef"
                                    }
                                  }
                                }
                              }
                            ]
                          },
                          "sort": {
                            "localId": "377",
                            "locator": "170:7-170:28",
                            "by": [
                              {
                                "localId": "376",
                                "locator": "170:15-170:28",
                                "direction": "asc",
                                "path": "authorDatetime",
                                "type": "ByColumn"
                              }
                            ]
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "384",
                    "locator": "172:5-172:80",
                    "type": "InValueSet",
                    "code": {
                      "asType": "{urn:hl7-org:elm-types:r1}Code",
                      "type": "As",
                      "operand": {
                        "localId": "382",
                        "locator": "172:11-172:46",
                        "path": "result",
                        "scope": "MostRecentTobaccoUseScreening",
                        "type": "Property"
                      }
                    },
                    "valueset": {
                      "localId": "383",
                      "locator": "172:51-172:80",
                      "name": "Current Smoking Tobacco User",
                      "type": "ValueSetRef"
                    }
                  }
                }
              },
              {
                "localId": "401",
                "locator": "174:1-177:139",
                "name": "Existing Comorbidities Prior To Surgery",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "401",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Existing Comorbidities Prior To Surgery\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "400",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "388",
                                  "s": [
                                    {
                                      "r": "387",
                                      "s": [
                                        {
                                          "r": "387",
                                          "s": [
                                            {
                                              "value": [
                                                "[",
                                                "\"Diagnosis\"",
                                                ": "
                                              ]
                                            },
                                            {
                                              "s": [
                                                {
                                                  "value": [
                                                    "\"Comorbidity Risk Factors\""
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "]"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "Comorbidities"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "399",
                              "s": [
                                {
                                  "value": [
                                    "with "
                                  ]
                                },
                                {
                                  "r": "390",
                                  "s": [
                                    {
                                      "r": "389",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "QualifyingEncounter"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n      such that "
                                  ]
                                },
                                {
                                  "r": "398",
                                  "s": [
                                    {
                                      "r": "392",
                                      "s": [
                                        {
                                          "r": "391",
                                          "s": [
                                            {
                                              "value": [
                                                "Comorbidities"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "392",
                                          "s": [
                                            {
                                              "value": [
                                                "prevalencePeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "398",
                                      "s": [
                                        {
                                          "value": [
                                            "starts "
                                          ]
                                        },
                                        {
                                          "r": "397",
                                          "s": [
                                            {
                                              "value": [
                                                "12 ",
                                                "months"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " or less on or before"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "396",
                                      "s": [
                                        {
                                          "value": [
                                            "start of "
                                          ]
                                        },
                                        {
                                          "r": "395",
                                          "s": [
                                            {
                                              "r": "394",
                                              "s": [
                                                {
                                                  "r": "393",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QualifyingEncounter"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "."
                                                  ]
                                                },
                                                {
                                                  "r": "394",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QEncounter"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "."
                                              ]
                                            },
                                            {
                                              "r": "395",
                                              "s": [
                                                {
                                                  "value": [
                                                    "relevantPeriod"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "400",
                  "locator": "175:3-177:139",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "388",
                      "locator": "175:3-175:57",
                      "alias": "Comorbidities",
                      "expression": {
                        "localId": "387",
                        "locator": "175:3-175:43",
                        "dataType": "{urn:healthit-gov:qdm:v5_6}Diagnosis",
                        "codeProperty": "code",
                        "codeComparator": "in",
                        "type": "Retrieve",
                        "codes": {
                          "locator": "175:17-175:42",
                          "name": "Comorbidity Risk Factors",
                          "type": "ValueSetRef"
                        }
                      }
                    }
                  ],
                  "relationship": [
                    {
                      "localId": "399",
                      "locator": "176:5-177:139",
                      "alias": "QualifyingEncounter",
                      "type": "With",
                      "expression": {
                        "localId": "389",
                        "locator": "176:10-176:83",
                        "name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures",
                        "type": "ExpressionRef"
                      },
                      "suchThat": {
                        "localId": "398",
                        "locator": "177:17-177:139",
                        "type": "And",
                        "operand": [
                          {
                            "locator": "177:55-177:71",
                            "type": "In",
                            "operand": [
                              {
                                "locator": "177:48-177:53",
                                "type": "Start",
                                "operand": {
                                  "localId": "392",
                                  "locator": "177:17-177:46",
                                  "path": "prevalencePeriod",
                                  "scope": "Comorbidities",
                                  "type": "Property"
                                }
                              },
                              {
                                "locator": "177:55-177:71",
                                "lowClosed": true,
                                "highClosed": true,
                                "type": "Interval",
                                "low": {
                                  "locator": "177:86-177:139",
                                  "type": "Subtract",
                                  "operand": [
                                    {
                                      "localId": "396",
                                      "locator": "177:86-177:139",
                                      "type": "Start",
                                      "operand": {
                                        "localId": "395",
                                        "locator": "177:95-177:139",
                                        "path": "relevantPeriod",
                                        "type": "Property",
                                        "source": {
                                          "localId": "394",
                                          "locator": "177:95-177:124",
                                          "path": "QEncounter",
                                          "scope": "QualifyingEncounter",
                                          "type": "Property"
                                        }
                                      }
                                    },
                                    {
                                      "localId": "397",
                                      "locator": "177:55-177:63",
                                      "value": 12,
                                      "unit": "months",
                                      "type": "Quantity"
                                    }
                                  ]
                                },
                                "high": {
                                  "localId": "396",
                                  "locator": "177:86-177:139",
                                  "type": "Start",
                                  "operand": {
                                    "localId": "395",
                                    "locator": "177:95-177:139",
                                    "path": "relevantPeriod",
                                    "type": "Property",
                                    "source": {
                                      "localId": "394",
                                      "locator": "177:95-177:124",
                                      "path": "QEncounter",
                                      "scope": "QualifyingEncounter",
                                      "type": "Property"
                                    }
                                  }
                                }
                              }
                            ]
                          },
                          {
                            "locator": "177:55-177:71",
                            "type": "Not",
                            "operand": {
                              "locator": "177:55-177:71",
                              "type": "IsNull",
                              "operand": {
                                "localId": "396",
                                "locator": "177:86-177:139",
                                "type": "Start",
                                "operand": {
                                  "localId": "395",
                                  "locator": "177:95-177:139",
                                  "path": "relevantPeriod",
                                  "type": "Property",
                                  "source": {
                                    "localId": "394",
                                    "locator": "177:95-177:124",
                                    "path": "QEncounter",
                                    "scope": "QualifyingEncounter",
                                    "type": "Property"
                                  }
                                }
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              },
              {
                "localId": "408",
                "locator": "179:1-184:3",
                "name": "Reasonable Risk Factors",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "408",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Reasonable Risk Factors\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "407",
                          "s": [
                            {
                              "value": [
                                "{\n    "
                              ]
                            },
                            {
                              "s": [
                                {
                                  "value": [
                                    "AbnormalBMI",
                                    ": "
                                  ]
                                },
                                {
                                  "r": "403",
                                  "s": [
                                    {
                                      "r": "402",
                                      "s": [
                                        {
                                          "value": [
                                            "\"Has Normal BMI\""
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " is null"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                ",\n    "
                              ]
                            },
                            {
                              "s": [
                                {
                                  "value": [
                                    "TobacoUser",
                                    ": "
                                  ]
                                },
                                {
                                  "r": "405",
                                  "s": [
                                    {
                                      "r": "404",
                                      "s": [
                                        {
                                          "value": [
                                            "\"Screened and Identified as Tobacco User\""
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " is not null"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                ",\n    "
                              ]
                            },
                            {
                              "s": [
                                {
                                  "value": [
                                    "HadExistingComorbidities",
                                    ": "
                                  ]
                                },
                                {
                                  "r": "406",
                                  "s": [
                                    {
                                      "value": [
                                        "\"Existing Comorbidities Prior To Surgery\""
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n  }"
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "407",
                  "locator": "180:3-184:3",
                  "type": "Tuple",
                  "element": [
                    {
                      "name": "AbnormalBMI",
                      "value": {
                        "localId": "403",
                        "locator": "181:18-181:41",
                        "type": "IsNull",
                        "operand": {
                          "localId": "402",
                          "locator": "181:18-181:33",
                          "name": "Has Normal BMI",
                          "type": "ExpressionRef"
                        }
                      }
                    },
                    {
                      "name": "TobacoUser",
                      "value": {
                        "localId": "405",
                        "locator": "182:17-182:69",
                        "type": "Not",
                        "operand": {
                          "locator": "182:17-182:69",
                          "type": "IsNull",
                          "operand": {
                            "localId": "404",
                            "locator": "182:17-182:57",
                            "name": "Screened and Identified as Tobacco User",
                            "type": "ExpressionRef"
                          }
                        }
                      }
                    },
                    {
                      "name": "HadExistingComorbidities",
                      "value": {
                        "localId": "406",
                        "locator": "183:31-183:71",
                        "name": "Existing Comorbidities Prior To Surgery",
                        "type": "ExpressionRef"
                      }
                    }
                  ]
                }
              },
              {
                "localId": "425",
                "locator": "187:1-191:113",
                "name": "Diagnosed With VTE or DVT 30 Days Prior To The Index Admission",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "425",
                      "s": [
                        {
                          "value": [
                            "/*VTE-specific*/",
                            "define ",
                            "\"Diagnosed With VTE or DVT 30 Days Prior To The Index Admission\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "424",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "412",
                                  "s": [
                                    {
                                      "r": "411",
                                      "s": [
                                        {
                                          "value": [
                                            "( "
                                          ]
                                        },
                                        {
                                          "r": "411",
                                          "s": [
                                            {
                                              "r": "409",
                                              "s": [
                                                {
                                                  "value": [
                                                    "[",
                                                    "\"Diagnosis\"",
                                                    ": "
                                                  ]
                                                },
                                                {
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "\"Venous Thromboembolism\""
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "]"
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n    union "
                                              ]
                                            },
                                            {
                                              "r": "410",
                                              "s": [
                                                {
                                                  "value": [
                                                    "[",
                                                    "\"Diagnosis\"",
                                                    ": "
                                                  ]
                                                },
                                                {
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "\"Pulmonary Embolism or DVT\""
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "]"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " )"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "VTEDiagnosis"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "423",
                              "s": [
                                {
                                  "value": [
                                    "with "
                                  ]
                                },
                                {
                                  "r": "414",
                                  "s": [
                                    {
                                      "r": "413",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "QE"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n      such that "
                                  ]
                                },
                                {
                                  "r": "422",
                                  "s": [
                                    {
                                      "r": "416",
                                      "s": [
                                        {
                                          "r": "415",
                                          "s": [
                                            {
                                              "value": [
                                                "VTEDiagnosis"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "416",
                                          "s": [
                                            {
                                              "value": [
                                                "prevalencePeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "422",
                                      "s": [
                                        {
                                          "value": [
                                            "starts "
                                          ]
                                        },
                                        {
                                          "r": "421",
                                          "s": [
                                            {
                                              "value": [
                                                "30 ",
                                                "days"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " or less before"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "420",
                                      "s": [
                                        {
                                          "value": [
                                            "start of "
                                          ]
                                        },
                                        {
                                          "r": "419",
                                          "s": [
                                            {
                                              "r": "418",
                                              "s": [
                                                {
                                                  "r": "417",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QE"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "."
                                                  ]
                                                },
                                                {
                                                  "r": "418",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QEncounter"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "."
                                              ]
                                            },
                                            {
                                              "r": "419",
                                              "s": [
                                                {
                                                  "value": [
                                                    "relevantPeriod"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "424",
                  "locator": "188:3-191:113",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "412",
                      "locator": "188:3-189:67",
                      "alias": "VTEDiagnosis",
                      "expression": {
                        "localId": "411",
                        "locator": "188:3-189:54",
                        "type": "Union",
                        "operand": [
                          {
                            "localId": "409",
                            "locator": "188:5-188:43",
                            "dataType": "{urn:healthit-gov:qdm:v5_6}Diagnosis",
                            "codeProperty": "code",
                            "codeComparator": "in",
                            "type": "Retrieve",
                            "codes": {
                              "locator": "188:19-188:42",
                              "name": "Venous Thromboembolism",
                              "type": "ValueSetRef"
                            }
                          },
                          {
                            "localId": "410",
                            "locator": "189:11-189:52",
                            "dataType": "{urn:healthit-gov:qdm:v5_6}Diagnosis",
                            "codeProperty": "code",
                            "codeComparator": "in",
                            "type": "Retrieve",
                            "codes": {
                              "locator": "189:25-189:51",
                              "name": "Pulmonary Embolism or DVT",
                              "type": "ValueSetRef"
                            }
                          }
                        ]
                      }
                    }
                  ],
                  "relationship": [
                    {
                      "localId": "423",
                      "locator": "190:5-191:113",
                      "alias": "QE",
                      "type": "With",
                      "expression": {
                        "localId": "413",
                        "locator": "190:10-190:83",
                        "name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures",
                        "type": "ExpressionRef"
                      },
                      "suchThat": {
                        "localId": "422",
                        "locator": "191:17-191:113",
                        "type": "And",
                        "operand": [
                          {
                            "locator": "191:54-191:68",
                            "type": "In",
                            "operand": [
                              {
                                "locator": "191:47-191:52",
                                "type": "Start",
                                "operand": {
                                  "localId": "416",
                                  "locator": "191:17-191:45",
                                  "path": "prevalencePeriod",
                                  "scope": "VTEDiagnosis",
                                  "type": "Property"
                                }
                              },
                              {
                                "locator": "191:54-191:68",
                                "lowClosed": true,
                                "highClosed": false,
                                "type": "Interval",
                                "low": {
                                  "locator": "191:77-191:113",
                                  "type": "Subtract",
                                  "operand": [
                                    {
                                      "localId": "420",
                                      "locator": "191:77-191:113",
                                      "type": "Start",
                                      "operand": {
                                        "localId": "419",
                                        "locator": "191:86-191:113",
                                        "path": "relevantPeriod",
                                        "type": "Property",
                                        "source": {
                                          "localId": "418",
                                          "locator": "191:86-191:98",
                                          "path": "QEncounter",
                                          "scope": "QE",
                                          "type": "Property"
                                        }
                                      }
                                    },
                                    {
                                      "localId": "421",
                                      "locator": "191:54-191:60",
                                      "value": 30,
                                      "unit": "days",
                                      "type": "Quantity"
                                    }
                                  ]
                                },
                                "high": {
                                  "localId": "420",
                                  "locator": "191:77-191:113",
                                  "type": "Start",
                                  "operand": {
                                    "localId": "419",
                                    "locator": "191:86-191:113",
                                    "path": "relevantPeriod",
                                    "type": "Property",
                                    "source": {
                                      "localId": "418",
                                      "locator": "191:86-191:98",
                                      "path": "QEncounter",
                                      "scope": "QE",
                                      "type": "Property"
                                    }
                                  }
                                }
                              }
                            ]
                          },
                          {
                            "locator": "191:54-191:68",
                            "type": "Not",
                            "operand": {
                              "locator": "191:54-191:68",
                              "type": "IsNull",
                              "operand": {
                                "localId": "420",
                                "locator": "191:77-191:113",
                                "type": "Start",
                                "operand": {
                                  "localId": "419",
                                  "locator": "191:86-191:113",
                                  "path": "relevantPeriod",
                                  "type": "Property",
                                  "source": {
                                    "localId": "418",
                                    "locator": "191:86-191:98",
                                    "path": "QEncounter",
                                    "scope": "QE",
                                    "type": "Property"
                                  }
                                }
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              },
              {
                "localId": "440",
                "locator": "193:1-197:87",
                "name": "Diagnosed With Major Bleeding During The Index Admission",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "440",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Diagnosed With Major Bleeding During The Index Admission\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "439",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "429",
                                  "s": [
                                    {
                                      "r": "428",
                                      "s": [
                                        {
                                          "value": [
                                            "( "
                                          ]
                                        },
                                        {
                                          "r": "428",
                                          "s": [
                                            {
                                              "r": "426",
                                              "s": [
                                                {
                                                  "value": [
                                                    "[",
                                                    "\"Diagnosis\"",
                                                    ": "
                                                  ]
                                                },
                                                {
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "\"General Major Bleeding Events\""
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "]"
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n    union "
                                              ]
                                            },
                                            {
                                              "r": "427",
                                              "s": [
                                                {
                                                  "value": [
                                                    "[",
                                                    "\"Diagnosis\"",
                                                    ": "
                                                  ]
                                                },
                                                {
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "\"Active Bleeding\""
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "]"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " )"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "MBDiagnosis"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "438",
                              "s": [
                                {
                                  "value": [
                                    "with "
                                  ]
                                },
                                {
                                  "r": "431",
                                  "s": [
                                    {
                                      "r": "430",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "QE"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n      such that "
                                  ]
                                },
                                {
                                  "r": "437",
                                  "s": [
                                    {
                                      "r": "433",
                                      "s": [
                                        {
                                          "r": "432",
                                          "s": [
                                            {
                                              "value": [
                                                "MBDiagnosis"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "433",
                                          "s": [
                                            {
                                              "value": [
                                                "prevalencePeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "r": "437",
                                      "value": [
                                        " ",
                                        "starts during",
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "436",
                                      "s": [
                                        {
                                          "r": "435",
                                          "s": [
                                            {
                                              "r": "434",
                                              "s": [
                                                {
                                                  "value": [
                                                    "QE"
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "."
                                              ]
                                            },
                                            {
                                              "r": "435",
                                              "s": [
                                                {
                                                  "value": [
                                                    "QEncounter"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "436",
                                          "s": [
                                            {
                                              "value": [
                                                "relevantPeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "439",
                  "locator": "194:3-197:87",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "429",
                      "locator": "194:3-195:56",
                      "alias": "MBDiagnosis",
                      "expression": {
                        "localId": "428",
                        "locator": "194:3-195:44",
                        "type": "Union",
                        "operand": [
                          {
                            "localId": "426",
                            "locator": "194:5-194:50",
                            "dataType": "{urn:healthit-gov:qdm:v5_6}Diagnosis",
                            "codeProperty": "code",
                            "codeComparator": "in",
                            "type": "Retrieve",
                            "codes": {
                              "locator": "194:19-194:49",
                              "name": "General Major Bleeding Events",
                              "type": "ValueSetRef"
                            }
                          },
                          {
                            "localId": "427",
                            "locator": "195:11-195:42",
                            "dataType": "{urn:healthit-gov:qdm:v5_6}Diagnosis",
                            "codeProperty": "code",
                            "codeComparator": "in",
                            "type": "Retrieve",
                            "codes": {
                              "locator": "195:25-195:41",
                              "name": "Active Bleeding",
                              "type": "ValueSetRef"
                            }
                          }
                        ]
                      }
                    }
                  ],
                  "relationship": [
                    {
                      "localId": "438",
                      "locator": "196:5-197:87",
                      "alias": "QE",
                      "type": "With",
                      "expression": {
                        "localId": "430",
                        "locator": "196:10-196:83",
                        "name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures",
                        "type": "ExpressionRef"
                      },
                      "suchThat": {
                        "localId": "437",
                        "locator": "197:17-197:87",
                        "type": "In",
                        "operand": [
                          {
                            "locator": "197:46-197:51",
                            "type": "Start",
                            "operand": {
                              "localId": "433",
                              "locator": "197:17-197:44",
                              "path": "prevalencePeriod",
                              "scope": "MBDiagnosis",
                              "type": "Property"
                            }
                          },
                          {
                            "localId": "436",
                            "locator": "197:60-197:87",
                            "path": "relevantPeriod",
                            "type": "Property",
                            "source": {
                              "localId": "435",
                              "locator": "197:60-197:72",
                              "path": "QEncounter",
                              "scope": "QE",
                              "type": "Property"
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              },
              {
                "localId": "454",
                "locator": "200:1-204:99",
                "name": "Postoperative Encounter Related To Major Bleeding",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "454",
                      "s": [
                        {
                          "value": [
                            "/*We only focus on postoperative follow-up visits to indicate that an evaluation and management service was performed during a postoperative period for a reason(s) related to the original procedure*/",
                            "define ",
                            "\"Postoperative Encounter Related To Major Bleeding\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "453",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "442",
                                  "s": [
                                    {
                                      "r": "441",
                                      "s": [
                                        {
                                          "r": "441",
                                          "s": [
                                            {
                                              "value": [
                                                "[",
                                                "\"Encounter, Performed\"",
                                                ": "
                                              ]
                                            },
                                            {
                                              "s": [
                                                {
                                                  "value": [
                                                    "\"Postoperative Visit\""
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "]"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "PostoperativeEncounter"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "452",
                              "s": [
                                {
                                  "value": [
                                    "with "
                                  ]
                                },
                                {
                                  "r": "446",
                                  "s": [
                                    {
                                      "r": "445",
                                      "s": [
                                        {
                                          "value": [
                                            "( "
                                          ]
                                        },
                                        {
                                          "r": "445",
                                          "s": [
                                            {
                                              "r": "443",
                                              "s": [
                                                {
                                                  "value": [
                                                    "[",
                                                    "\"Diagnosis\"",
                                                    ": "
                                                  ]
                                                },
                                                {
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "\"General Major Bleeding Events\""
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "]"
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n      union "
                                              ]
                                            },
                                            {
                                              "r": "444",
                                              "s": [
                                                {
                                                  "value": [
                                                    "[",
                                                    "\"Diagnosis\"",
                                                    ": "
                                                  ]
                                                },
                                                {
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "\"Active Bleeding\""
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "]"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " )"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "DiagnosisEvent"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n      such that "
                                  ]
                                },
                                {
                                  "r": "451",
                                  "s": [
                                    {
                                      "r": "448",
                                      "s": [
                                        {
                                          "r": "447",
                                          "s": [
                                            {
                                              "value": [
                                                "DiagnosisEvent"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "448",
                                          "s": [
                                            {
                                              "value": [
                                                "prevalencePeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "r": "451",
                                      "value": [
                                        " ",
                                        "starts during",
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "450",
                                      "s": [
                                        {
                                          "r": "449",
                                          "s": [
                                            {
                                              "value": [
                                                "PostoperativeEncounter"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "450",
                                          "s": [
                                            {
                                              "value": [
                                                "relevantPeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "453",
                  "locator": "201:3-204:99",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "442",
                      "locator": "201:3-201:72",
                      "alias": "PostoperativeEncounter",
                      "expression": {
                        "localId": "441",
                        "locator": "201:3-201:49",
                        "dataType": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                        "templateId": "PositiveEncounterPerformed",
                        "codeProperty": "code",
                        "codeComparator": "in",
                        "type": "Retrieve",
                        "codes": {
                          "locator": "201:28-201:48",
                          "name": "Postoperative Visit",
                          "type": "ValueSetRef"
                        }
                      }
                    }
                  ],
                  "relationship": [
                    {
                      "localId": "452",
                      "locator": "202:5-204:99",
                      "alias": "DiagnosisEvent",
                      "type": "With",
                      "expression": {
                        "localId": "445",
                        "locator": "202:10-203:46",
                        "type": "Union",
                        "operand": [
                          {
                            "localId": "443",
                            "locator": "202:12-202:57",
                            "dataType": "{urn:healthit-gov:qdm:v5_6}Diagnosis",
                            "codeProperty": "code",
                            "codeComparator": "in",
                            "type": "Retrieve",
                            "codes": {
                              "locator": "202:26-202:56",
                              "name": "General Major Bleeding Events",
                              "type": "ValueSetRef"
                            }
                          },
                          {
                            "localId": "444",
                            "locator": "203:13-203:44",
                            "dataType": "{urn:healthit-gov:qdm:v5_6}Diagnosis",
                            "codeProperty": "code",
                            "codeComparator": "in",
                            "type": "Retrieve",
                            "codes": {
                              "locator": "203:27-203:43",
                              "name": "Active Bleeding",
                              "type": "ValueSetRef"
                            }
                          }
                        ]
                      },
                      "suchThat": {
                        "localId": "451",
                        "locator": "204:17-204:99",
                        "type": "In",
                        "operand": [
                          {
                            "locator": "204:49-204:54",
                            "type": "Start",
                            "operand": {
                              "localId": "448",
                              "locator": "204:17-204:47",
                              "path": "prevalencePeriod",
                              "scope": "DiagnosisEvent",
                              "type": "Property"
                            }
                          },
                          {
                            "localId": "450",
                            "locator": "204:63-204:99",
                            "path": "relevantPeriod",
                            "scope": "PostoperativeEncounter",
                            "type": "Property"
                          }
                        ]
                      }
                    }
                  ]
                }
              },
              {
                "localId": "467",
                "locator": "206:1-209:83",
                "name": "Had Treatment of Hemorrhage or Hematoma During The Index Admission",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "467",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Had Treatment of Hemorrhage or Hematoma During The Index Admission\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "466",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "456",
                                  "s": [
                                    {
                                      "r": "455",
                                      "s": [
                                        {
                                          "r": "455",
                                          "s": [
                                            {
                                              "value": [
                                                "[",
                                                "\"Procedure, Performed\"",
                                                ": "
                                              ]
                                            },
                                            {
                                              "s": [
                                                {
                                                  "value": [
                                                    "\"Treatment of Hemorrhage or Hematoma\""
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "]"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "Treatment"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "465",
                              "s": [
                                {
                                  "value": [
                                    "with "
                                  ]
                                },
                                {
                                  "r": "458",
                                  "s": [
                                    {
                                      "r": "457",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "QE"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n      such that "
                                  ]
                                },
                                {
                                  "r": "464",
                                  "s": [
                                    {
                                      "r": "460",
                                      "s": [
                                        {
                                          "r": "459",
                                          "s": [
                                            {
                                              "value": [
                                                "Treatment"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "460",
                                          "s": [
                                            {
                                              "value": [
                                                "relevantPeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "r": "464",
                                      "value": [
                                        " ",
                                        "starts during",
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "463",
                                      "s": [
                                        {
                                          "r": "462",
                                          "s": [
                                            {
                                              "r": "461",
                                              "s": [
                                                {
                                                  "value": [
                                                    "QE"
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "."
                                              ]
                                            },
                                            {
                                              "r": "462",
                                              "s": [
                                                {
                                                  "value": [
                                                    "QEncounter"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "463",
                                          "s": [
                                            {
                                              "value": [
                                                "relevantPeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "466",
                  "locator": "207:3-209:83",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "456",
                      "locator": "207:3-207:75",
                      "alias": "Treatment",
                      "expression": {
                        "localId": "455",
                        "locator": "207:3-207:65",
                        "dataType": "{urn:healthit-gov:qdm:v5_6}PositiveProcedurePerformed",
                        "templateId": "PositiveProcedurePerformed",
                        "codeProperty": "code",
                        "codeComparator": "in",
                        "type": "Retrieve",
                        "codes": {
                          "locator": "207:28-207:64",
                          "name": "Treatment of Hemorrhage or Hematoma",
                          "type": "ValueSetRef"
                        }
                      }
                    }
                  ],
                  "relationship": [
                    {
                      "localId": "465",
                      "locator": "208:5-209:83",
                      "alias": "QE",
                      "type": "With",
                      "expression": {
                        "localId": "457",
                        "locator": "208:10-208:83",
                        "name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures",
                        "type": "ExpressionRef"
                      },
                      "suchThat": {
                        "localId": "464",
                        "locator": "209:17-209:83",
                        "type": "In",
                        "operand": [
                          {
                            "locator": "209:42-209:47",
                            "type": "Start",
                            "operand": {
                              "localId": "460",
                              "locator": "209:17-209:40",
                              "path": "relevantPeriod",
                              "scope": "Treatment",
                              "type": "Property"
                            }
                          },
                          {
                            "localId": "463",
                            "locator": "209:56-209:83",
                            "path": "relevantPeriod",
                            "type": "Property",
                            "source": {
                              "localId": "462",
                              "locator": "209:56-209:68",
                              "path": "QEncounter",
                              "scope": "QE",
                              "type": "Property"
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              },
              {
                "localId": "479",
                "locator": "212:1-215:94",
                "name": "Postoperative Encounter Related To Treatment of Hemorrhage or Hematoma",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "479",
                      "s": [
                        {
                          "value": [
                            "/*We only focus on postoperative follow-up visits to indicate that an evaluation and management service was performed during a postoperative period for a reason(s) related to the original procedure*/",
                            "define ",
                            "\"Postoperative Encounter Related To Treatment of Hemorrhage or Hematoma\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "478",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "469",
                                  "s": [
                                    {
                                      "r": "468",
                                      "s": [
                                        {
                                          "r": "468",
                                          "s": [
                                            {
                                              "value": [
                                                "[",
                                                "\"Encounter, Performed\"",
                                                ": "
                                              ]
                                            },
                                            {
                                              "s": [
                                                {
                                                  "value": [
                                                    "\"Postoperative Visit\""
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "]"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "PostoperativeEncounter"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "477",
                              "s": [
                                {
                                  "value": [
                                    "with "
                                  ]
                                },
                                {
                                  "r": "471",
                                  "s": [
                                    {
                                      "r": "470",
                                      "s": [
                                        {
                                          "r": "470",
                                          "s": [
                                            {
                                              "value": [
                                                "[",
                                                "\"Procedure, Performed\"",
                                                ": "
                                              ]
                                            },
                                            {
                                              "s": [
                                                {
                                                  "value": [
                                                    "\"Treatment of Hemorrhage or Hematoma\""
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "]"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "HHTreatment"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n      such that "
                                  ]
                                },
                                {
                                  "r": "476",
                                  "s": [
                                    {
                                      "r": "473",
                                      "s": [
                                        {
                                          "r": "472",
                                          "s": [
                                            {
                                              "value": [
                                                "HHTreatment"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "473",
                                          "s": [
                                            {
                                              "value": [
                                                "relevantPeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "r": "476",
                                      "value": [
                                        " ",
                                        "starts during",
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "475",
                                      "s": [
                                        {
                                          "r": "474",
                                          "s": [
                                            {
                                              "value": [
                                                "PostoperativeEncounter"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "475",
                                          "s": [
                                            {
                                              "value": [
                                                "relevantPeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "478",
                  "locator": "213:3-215:94",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "469",
                      "locator": "213:3-213:72",
                      "alias": "PostoperativeEncounter",
                      "expression": {
                        "localId": "468",
                        "locator": "213:3-213:49",
                        "dataType": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                        "templateId": "PositiveEncounterPerformed",
                        "codeProperty": "code",
                        "codeComparator": "in",
                        "type": "Retrieve",
                        "codes": {
                          "locator": "213:28-213:48",
                          "name": "Postoperative Visit",
                          "type": "ValueSetRef"
                        }
                      }
                    }
                  ],
                  "relationship": [
                    {
                      "localId": "477",
                      "locator": "214:5-215:94",
                      "alias": "HHTreatment",
                      "type": "With",
                      "expression": {
                        "localId": "470",
                        "locator": "214:10-214:72",
                        "dataType": "{urn:healthit-gov:qdm:v5_6}PositiveProcedurePerformed",
                        "templateId": "PositiveProcedurePerformed",
                        "codeProperty": "code",
                        "codeComparator": "in",
                        "type": "Retrieve",
                        "codes": {
                          "locator": "214:35-214:71",
                          "name": "Treatment of Hemorrhage or Hematoma",
                          "type": "ValueSetRef"
                        }
                      },
                      "suchThat": {
                        "localId": "476",
                        "locator": "215:17-215:94",
                        "type": "In",
                        "operand": [
                          {
                            "locator": "215:44-215:49",
                            "type": "Start",
                            "operand": {
                              "localId": "473",
                              "locator": "215:17-215:42",
                              "path": "relevantPeriod",
                              "scope": "HHTreatment",
                              "type": "Property"
                            }
                          },
                          {
                            "localId": "475",
                            "locator": "215:58-215:94",
                            "path": "relevantPeriod",
                            "scope": "PostoperativeEncounter",
                            "type": "Property"
                          }
                        ]
                      }
                    }
                  ]
                }
              },
              {
                "localId": "494",
                "locator": "217:1-220:126",
                "name": "Postoperative Encounter Related To Treatment of Hemorrhage or Hematoma 35 Days After Surgery",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "494",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Postoperative Encounter Related To Treatment of Hemorrhage or Hematoma 35 Days After Surgery\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "493",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "481",
                                  "s": [
                                    {
                                      "r": "480",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Postoperative Encounter Related To Treatment of Hemorrhage or Hematoma\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "HHEncounter"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "492",
                              "s": [
                                {
                                  "value": [
                                    "with "
                                  ]
                                },
                                {
                                  "r": "483",
                                  "s": [
                                    {
                                      "r": "482",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "QualifyingProcedure"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n      such that "
                                  ]
                                },
                                {
                                  "r": "491",
                                  "s": [
                                    {
                                      "r": "485",
                                      "s": [
                                        {
                                          "r": "484",
                                          "s": [
                                            {
                                              "value": [
                                                "HHEncounter"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "485",
                                          "s": [
                                            {
                                              "value": [
                                                "relevantPeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "491",
                                      "s": [
                                        {
                                          "value": [
                                            "starts "
                                          ]
                                        },
                                        {
                                          "r": "490",
                                          "s": [
                                            {
                                              "value": [
                                                "35 ",
                                                "days"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " or less after"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "489",
                                      "s": [
                                        {
                                          "value": [
                                            "start of "
                                          ]
                                        },
                                        {
                                          "r": "488",
                                          "s": [
                                            {
                                              "r": "487",
                                              "s": [
                                                {
                                                  "r": "486",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QualifyingProcedure"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "."
                                                  ]
                                                },
                                                {
                                                  "r": "487",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QProcedure"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "."
                                              ]
                                            },
                                            {
                                              "r": "488",
                                              "s": [
                                                {
                                                  "value": [
                                                    "relevantPeriod"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "493",
                  "locator": "218:3-220:126",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "481",
                      "locator": "218:3-218:86",
                      "alias": "HHEncounter",
                      "expression": {
                        "localId": "480",
                        "locator": "218:3-218:74",
                        "name": "Postoperative Encounter Related To Treatment of Hemorrhage or Hematoma",
                        "type": "ExpressionRef"
                      }
                    }
                  ],
                  "relationship": [
                    {
                      "localId": "492",
                      "locator": "219:5-220:126",
                      "alias": "QualifyingProcedure",
                      "type": "With",
                      "expression": {
                        "localId": "482",
                        "locator": "219:10-219:83",
                        "name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures",
                        "type": "ExpressionRef"
                      },
                      "suchThat": {
                        "localId": "491",
                        "locator": "220:17-220:126",
                        "type": "And",
                        "operand": [
                          {
                            "locator": "220:51-220:65",
                            "type": "In",
                            "operand": [
                              {
                                "locator": "220:44-220:49",
                                "type": "Start",
                                "operand": {
                                  "localId": "485",
                                  "locator": "220:17-220:42",
                                  "path": "relevantPeriod",
                                  "scope": "HHEncounter",
                                  "type": "Property"
                                }
                              },
                              {
                                "locator": "220:51-220:65",
                                "lowClosed": false,
                                "highClosed": true,
                                "type": "Interval",
                                "low": {
                                  "localId": "489",
                                  "locator": "220:73-220:126",
                                  "type": "Start",
                                  "operand": {
                                    "localId": "488",
                                    "locator": "220:82-220:126",
                                    "path": "relevantPeriod",
                                    "type": "Property",
                                    "source": {
                                      "localId": "487",
                                      "locator": "220:82-220:111",
                                      "path": "QProcedure",
                                      "scope": "QualifyingProcedure",
                                      "type": "Property"
                                    }
                                  }
                                },
                                "high": {
                                  "locator": "220:73-220:126",
                                  "type": "Add",
                                  "operand": [
                                    {
                                      "localId": "489",
                                      "locator": "220:73-220:126",
                                      "type": "Start",
                                      "operand": {
                                        "localId": "488",
                                        "locator": "220:82-220:126",
                                        "path": "relevantPeriod",
                                        "type": "Property",
                                        "source": {
                                          "localId": "487",
                                          "locator": "220:82-220:111",
                                          "path": "QProcedure",
                                          "scope": "QualifyingProcedure",
                                          "type": "Property"
                                        }
                                      }
                                    },
                                    {
                                      "localId": "490",
                                      "locator": "220:51-220:57",
                                      "value": 35,
                                      "unit": "days",
                                      "type": "Quantity"
                                    }
                                  ]
                                }
                              }
                            ]
                          },
                          {
                            "locator": "220:51-220:65",
                            "type": "Not",
                            "operand": {
                              "locator": "220:51-220:65",
                              "type": "IsNull",
                              "operand": {
                                "localId": "489",
                                "locator": "220:73-220:126",
                                "type": "Start",
                                "operand": {
                                  "localId": "488",
                                  "locator": "220:82-220:126",
                                  "path": "relevantPeriod",
                                  "type": "Property",
                                  "source": {
                                    "localId": "487",
                                    "locator": "220:82-220:111",
                                    "path": "QProcedure",
                                    "scope": "QualifyingProcedure",
                                    "type": "Property"
                                  }
                                }
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              },
              {
                "localId": "509",
                "locator": "222:1-225:126",
                "name": "Postoperative Encounter Related To Major Bleeding 35 Days After Surgery",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "509",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Postoperative Encounter Related To Major Bleeding 35 Days After Surgery\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "508",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "496",
                                  "s": [
                                    {
                                      "r": "495",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Postoperative Encounter Related To Major Bleeding\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "MBEncounter"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "507",
                              "s": [
                                {
                                  "value": [
                                    "with "
                                  ]
                                },
                                {
                                  "r": "498",
                                  "s": [
                                    {
                                      "r": "497",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "QualifyingProcedure"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n      such that "
                                  ]
                                },
                                {
                                  "r": "506",
                                  "s": [
                                    {
                                      "r": "500",
                                      "s": [
                                        {
                                          "r": "499",
                                          "s": [
                                            {
                                              "value": [
                                                "MBEncounter"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "500",
                                          "s": [
                                            {
                                              "value": [
                                                "relevantPeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "506",
                                      "s": [
                                        {
                                          "value": [
                                            "starts "
                                          ]
                                        },
                                        {
                                          "r": "505",
                                          "s": [
                                            {
                                              "value": [
                                                "35 ",
                                                "days"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " or less after"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "504",
                                      "s": [
                                        {
                                          "value": [
                                            "start of "
                                          ]
                                        },
                                        {
                                          "r": "503",
                                          "s": [
                                            {
                                              "r": "502",
                                              "s": [
                                                {
                                                  "r": "501",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QualifyingProcedure"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "."
                                                  ]
                                                },
                                                {
                                                  "r": "502",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QProcedure"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "."
                                              ]
                                            },
                                            {
                                              "r": "503",
                                              "s": [
                                                {
                                                  "value": [
                                                    "relevantPeriod"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "508",
                  "locator": "223:3-225:126",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "496",
                      "locator": "223:3-223:65",
                      "alias": "MBEncounter",
                      "expression": {
                        "localId": "495",
                        "locator": "223:3-223:53",
                        "name": "Postoperative Encounter Related To Major Bleeding",
                        "type": "ExpressionRef"
                      }
                    }
                  ],
                  "relationship": [
                    {
                      "localId": "507",
                      "locator": "224:5-225:126",
                      "alias": "QualifyingProcedure",
                      "type": "With",
                      "expression": {
                        "localId": "497",
                        "locator": "224:10-224:83",
                        "name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures",
                        "type": "ExpressionRef"
                      },
                      "suchThat": {
                        "localId": "506",
                        "locator": "225:17-225:126",
                        "type": "And",
                        "operand": [
                          {
                            "locator": "225:51-225:65",
                            "type": "In",
                            "operand": [
                              {
                                "locator": "225:44-225:49",
                                "type": "Start",
                                "operand": {
                                  "localId": "500",
                                  "locator": "225:17-225:42",
                                  "path": "relevantPeriod",
                                  "scope": "MBEncounter",
                                  "type": "Property"
                                }
                              },
                              {
                                "locator": "225:51-225:65",
                                "lowClosed": false,
                                "highClosed": true,
                                "type": "Interval",
                                "low": {
                                  "localId": "504",
                                  "locator": "225:73-225:126",
                                  "type": "Start",
                                  "operand": {
                                    "localId": "503",
                                    "locator": "225:82-225:126",
                                    "path": "relevantPeriod",
                                    "type": "Property",
                                    "source": {
                                      "localId": "502",
                                      "locator": "225:82-225:111",
                                      "path": "QProcedure",
                                      "scope": "QualifyingProcedure",
                                      "type": "Property"
                                    }
                                  }
                                },
                                "high": {
                                  "locator": "225:73-225:126",
                                  "type": "Add",
                                  "operand": [
                                    {
                                      "localId": "504",
                                      "locator": "225:73-225:126",
                                      "type": "Start",
                                      "operand": {
                                        "localId": "503",
                                        "locator": "225:82-225:126",
                                        "path": "relevantPeriod",
                                        "type": "Property",
                                        "source": {
                                          "localId": "502",
                                          "locator": "225:82-225:111",
                                          "path": "QProcedure",
                                          "scope": "QualifyingProcedure",
                                          "type": "Property"
                                        }
                                      }
                                    },
                                    {
                                      "localId": "505",
                                      "locator": "225:51-225:57",
                                      "value": 35,
                                      "unit": "days",
                                      "type": "Quantity"
                                    }
                                  ]
                                }
                              }
                            ]
                          },
                          {
                            "locator": "225:51-225:65",
                            "type": "Not",
                            "operand": {
                              "locator": "225:51-225:65",
                              "type": "IsNull",
                              "operand": {
                                "localId": "504",
                                "locator": "225:73-225:126",
                                "type": "Start",
                                "operand": {
                                  "localId": "503",
                                  "locator": "225:82-225:126",
                                  "path": "relevantPeriod",
                                  "type": "Property",
                                  "source": {
                                    "localId": "502",
                                    "locator": "225:82-225:111",
                                    "path": "QProcedure",
                                    "scope": "QualifyingProcedure",
                                    "type": "Property"
                                  }
                                }
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              },
              {
                "localId": "524",
                "locator": "227:1-231:88",
                "name": "Diagnosed With VTE or DVT During The Index Admission",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "524",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Diagnosed With VTE or DVT During The Index Admission\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "523",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "513",
                                  "s": [
                                    {
                                      "r": "512",
                                      "s": [
                                        {
                                          "value": [
                                            "( "
                                          ]
                                        },
                                        {
                                          "r": "512",
                                          "s": [
                                            {
                                              "r": "510",
                                              "s": [
                                                {
                                                  "value": [
                                                    "[",
                                                    "\"Diagnosis\"",
                                                    ": "
                                                  ]
                                                },
                                                {
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "\"Venous Thromboembolism\""
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "]"
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n    union "
                                              ]
                                            },
                                            {
                                              "r": "511",
                                              "s": [
                                                {
                                                  "value": [
                                                    "[",
                                                    "\"Diagnosis\"",
                                                    ": "
                                                  ]
                                                },
                                                {
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "\"Pulmonary Embolism or DVT\""
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "]"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " )"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "DVTDiagnosis"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "522",
                              "s": [
                                {
                                  "value": [
                                    "with "
                                  ]
                                },
                                {
                                  "r": "515",
                                  "s": [
                                    {
                                      "r": "514",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "QE"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n      such that "
                                  ]
                                },
                                {
                                  "r": "521",
                                  "s": [
                                    {
                                      "r": "517",
                                      "s": [
                                        {
                                          "r": "516",
                                          "s": [
                                            {
                                              "value": [
                                                "DVTDiagnosis"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "517",
                                          "s": [
                                            {
                                              "value": [
                                                "prevalencePeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "r": "521",
                                      "value": [
                                        " ",
                                        "starts during",
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "520",
                                      "s": [
                                        {
                                          "r": "519",
                                          "s": [
                                            {
                                              "r": "518",
                                              "s": [
                                                {
                                                  "value": [
                                                    "QE"
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "."
                                              ]
                                            },
                                            {
                                              "r": "519",
                                              "s": [
                                                {
                                                  "value": [
                                                    "QEncounter"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "520",
                                          "s": [
                                            {
                                              "value": [
                                                "relevantPeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "523",
                  "locator": "228:3-231:88",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "513",
                      "locator": "228:3-229:67",
                      "alias": "DVTDiagnosis",
                      "expression": {
                        "localId": "512",
                        "locator": "228:3-229:54",
                        "type": "Union",
                        "operand": [
                          {
                            "localId": "510",
                            "locator": "228:5-228:43",
                            "dataType": "{urn:healthit-gov:qdm:v5_6}Diagnosis",
                            "codeProperty": "code",
                            "codeComparator": "in",
                            "type": "Retrieve",
                            "codes": {
                              "locator": "228:19-228:42",
                              "name": "Venous Thromboembolism",
                              "type": "ValueSetRef"
                            }
                          },
                          {
                            "localId": "511",
                            "locator": "229:11-229:52",
                            "dataType": "{urn:healthit-gov:qdm:v5_6}Diagnosis",
                            "codeProperty": "code",
                            "codeComparator": "in",
                            "type": "Retrieve",
                            "codes": {
                              "locator": "229:25-229:51",
                              "name": "Pulmonary Embolism or DVT",
                              "type": "ValueSetRef"
                            }
                          }
                        ]
                      }
                    }
                  ],
                  "relationship": [
                    {
                      "localId": "522",
                      "locator": "230:5-231:88",
                      "alias": "QE",
                      "type": "With",
                      "expression": {
                        "localId": "514",
                        "locator": "230:10-230:83",
                        "name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures",
                        "type": "ExpressionRef"
                      },
                      "suchThat": {
                        "localId": "521",
                        "locator": "231:17-231:88",
                        "type": "In",
                        "operand": [
                          {
                            "locator": "231:47-231:52",
                            "type": "Start",
                            "operand": {
                              "localId": "517",
                              "locator": "231:17-231:45",
                              "path": "prevalencePeriod",
                              "scope": "DVTDiagnosis",
                              "type": "Property"
                            }
                          },
                          {
                            "localId": "520",
                            "locator": "231:61-231:88",
                            "path": "relevantPeriod",
                            "type": "Property",
                            "source": {
                              "localId": "519",
                              "locator": "231:61-231:73",
                              "path": "QEncounter",
                              "scope": "QE",
                              "type": "Property"
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              },
              {
                "localId": "539",
                "locator": "233:1-236:103",
                "name": "ED Visit Within 35 Days Of The Surgery",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "539",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"ED Visit Within 35 Days Of The Surgery\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "538",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "526",
                                  "s": [
                                    {
                                      "r": "525",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "Global",
                                                ".",
                                                "\"ED Encounter\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "EDVisit"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "537",
                              "s": [
                                {
                                  "value": [
                                    "with "
                                  ]
                                },
                                {
                                  "r": "528",
                                  "s": [
                                    {
                                      "r": "527",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "QP"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n      such that "
                                  ]
                                },
                                {
                                  "r": "536",
                                  "s": [
                                    {
                                      "r": "530",
                                      "s": [
                                        {
                                          "r": "529",
                                          "s": [
                                            {
                                              "value": [
                                                "EDVisit"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "530",
                                          "s": [
                                            {
                                              "value": [
                                                "relevantPeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "536",
                                      "s": [
                                        {
                                          "value": [
                                            "ends "
                                          ]
                                        },
                                        {
                                          "r": "535",
                                          "s": [
                                            {
                                              "value": [
                                                "35 ",
                                                "days"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " or less after"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "534",
                                      "s": [
                                        {
                                          "value": [
                                            "start of "
                                          ]
                                        },
                                        {
                                          "r": "533",
                                          "s": [
                                            {
                                              "r": "532",
                                              "s": [
                                                {
                                                  "r": "531",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QP"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "."
                                                  ]
                                                },
                                                {
                                                  "r": "532",
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "QProcedure"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "."
                                              ]
                                            },
                                            {
                                              "r": "533",
                                              "s": [
                                                {
                                                  "value": [
                                                    "relevantPeriod"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "538",
                  "locator": "234:3-236:103",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "526",
                      "locator": "234:3-234:31",
                      "alias": "EDVisit",
                      "expression": {
                        "localId": "525",
                        "locator": "234:3-234:23",
                        "name": "ED Encounter",
                        "libraryName": "Global",
                        "type": "ExpressionRef"
                      }
                    }
                  ],
                  "relationship": [
                    {
                      "localId": "537",
                      "locator": "235:5-236:103",
                      "alias": "QP",
                      "type": "With",
                      "expression": {
                        "localId": "527",
                        "locator": "235:10-235:83",
                        "name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures",
                        "type": "ExpressionRef"
                      },
                      "suchThat": {
                        "localId": "536",
                        "locator": "236:17-236:103",
                        "type": "And",
                        "operand": [
                          {
                            "locator": "236:45-236:59",
                            "type": "In",
                            "operand": [
                              {
                                "locator": "236:40-236:43",
                                "type": "End",
                                "operand": {
                                  "localId": "530",
                                  "locator": "236:17-236:38",
                                  "path": "relevantPeriod",
                                  "scope": "EDVisit",
                                  "type": "Property"
                                }
                              },
                              {
                                "locator": "236:45-236:59",
                                "lowClosed": false,
                                "highClosed": true,
                                "type": "Interval",
                                "low": {
                                  "localId": "534",
                                  "locator": "236:67-236:103",
                                  "type": "Start",
                                  "operand": {
                                    "localId": "533",
                                    "locator": "236:76-236:103",
                                    "path": "relevantPeriod",
                                    "type": "Property",
                                    "source": {
                                      "localId": "532",
                                      "locator": "236:76-236:88",
                                      "path": "QProcedure",
                                      "scope": "QP",
                                      "type": "Property"
                                    }
                                  }
                                },
                                "high": {
                                  "locator": "236:67-236:103",
                                  "type": "Add",
                                  "operand": [
                                    {
                                      "localId": "534",
                                      "locator": "236:67-236:103",
                                      "type": "Start",
                                      "operand": {
                                        "localId": "533",
                                        "locator": "236:76-236:103",
                                        "path": "relevantPeriod",
                                        "type": "Property",
                                        "source": {
                                          "localId": "532",
                                          "locator": "236:76-236:88",
                                          "path": "QProcedure",
                                          "scope": "QP",
                                          "type": "Property"
                                        }
                                      }
                                    },
                                    {
                                      "localId": "535",
                                      "locator": "236:45-236:51",
                                      "value": 35,
                                      "unit": "days",
                                      "type": "Quantity"
                                    }
                                  ]
                                }
                              }
                            ]
                          },
                          {
                            "locator": "236:45-236:59",
                            "type": "Not",
                            "operand": {
                              "locator": "236:45-236:59",
                              "type": "IsNull",
                              "operand": {
                                "localId": "534",
                                "locator": "236:67-236:103",
                                "type": "Start",
                                "operand": {
                                  "localId": "533",
                                  "locator": "236:76-236:103",
                                  "path": "relevantPeriod",
                                  "type": "Property",
                                  "source": {
                                    "localId": "532",
                                    "locator": "236:76-236:88",
                                    "path": "QProcedure",
                                    "scope": "QP",
                                    "type": "Property"
                                  }
                                }
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              },
              {
                "localId": "553",
                "locator": "238:1-242:82",
                "name": "Diagnosed With VTE or DVT in the ED Within 35 Days Of The Surgery",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "553",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Diagnosed With VTE or DVT in the ED Within 35 Days Of The Surgery\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "552",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "543",
                                  "s": [
                                    {
                                      "r": "542",
                                      "s": [
                                        {
                                          "value": [
                                            "( "
                                          ]
                                        },
                                        {
                                          "r": "542",
                                          "s": [
                                            {
                                              "r": "540",
                                              "s": [
                                                {
                                                  "value": [
                                                    "[",
                                                    "\"Diagnosis\"",
                                                    ": "
                                                  ]
                                                },
                                                {
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "\"Venous Thromboembolism\""
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "]"
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n    union "
                                              ]
                                            },
                                            {
                                              "r": "541",
                                              "s": [
                                                {
                                                  "value": [
                                                    "[",
                                                    "\"Diagnosis\"",
                                                    ": "
                                                  ]
                                                },
                                                {
                                                  "s": [
                                                    {
                                                      "value": [
                                                        "\"Pulmonary Embolism or DVT\""
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": [
                                                    "]"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " )"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "VTEDiagnosis"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "551",
                              "s": [
                                {
                                  "value": [
                                    "with "
                                  ]
                                },
                                {
                                  "r": "545",
                                  "s": [
                                    {
                                      "r": "544",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"ED Visit Within 35 Days Of The Surgery\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "EDVisit"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n      such that "
                                  ]
                                },
                                {
                                  "r": "550",
                                  "s": [
                                    {
                                      "r": "547",
                                      "s": [
                                        {
                                          "r": "546",
                                          "s": [
                                            {
                                              "value": [
                                                "VTEDiagnosis"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "547",
                                          "s": [
                                            {
                                              "value": [
                                                "prevalencePeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "r": "550",
                                      "value": [
                                        " ",
                                        "starts during",
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "549",
                                      "s": [
                                        {
                                          "r": "548",
                                          "s": [
                                            {
                                              "value": [
                                                "EDVisit"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "549",
                                          "s": [
                                            {
                                              "value": [
                                                "relevantPeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "552",
                  "locator": "239:3-242:82",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "543",
                      "locator": "239:3-240:67",
                      "alias": "VTEDiagnosis",
                      "expression": {
                        "localId": "542",
                        "locator": "239:3-240:54",
                        "type": "Union",
                        "operand": [
                          {
                            "localId": "540",
                            "locator": "239:5-239:43",
                            "dataType": "{urn:healthit-gov:qdm:v5_6}Diagnosis",
                            "codeProperty": "code",
                            "codeComparator": "in",
                            "type": "Retrieve",
                            "codes": {
                              "locator": "239:19-239:42",
                              "name": "Venous Thromboembolism",
                              "type": "ValueSetRef"
                            }
                          },
                          {
                            "localId": "541",
                            "locator": "240:11-240:52",
                            "dataType": "{urn:healthit-gov:qdm:v5_6}Diagnosis",
                            "codeProperty": "code",
                            "codeComparator": "in",
                            "type": "Retrieve",
                            "codes": {
                              "locator": "240:25-240:51",
                              "name": "Pulmonary Embolism or DVT",
                              "type": "ValueSetRef"
                            }
                          }
                        ]
                      }
                    }
                  ],
                  "relationship": [
                    {
                      "localId": "551",
                      "locator": "241:5-242:82",
                      "alias": "EDVisit",
                      "type": "With",
                      "expression": {
                        "localId": "544",
                        "locator": "241:10-241:49",
                        "name": "ED Visit Within 35 Days Of The Surgery",
                        "type": "ExpressionRef"
                      },
                      "suchThat": {
                        "localId": "550",
                        "locator": "242:17-242:82",
                        "type": "In",
                        "operand": [
                          {
                            "locator": "242:47-242:52",
                            "type": "Start",
                            "operand": {
                              "localId": "547",
                              "locator": "242:17-242:45",
                              "path": "prevalencePeriod",
                              "scope": "VTEDiagnosis",
                              "type": "Property"
                            }
                          },
                          {
                            "localId": "549",
                            "locator": "242:61-242:82",
                            "path": "relevantPeriod",
                            "scope": "EDVisit",
                            "type": "Property"
                          }
                        ]
                      }
                    }
                  ]
                }
              },
              {
                "localId": "567",
                "locator": "244:1-247:104",
                "name": "Outpatient Care Visit Within 35 Days Of the Surgery",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "567",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Outpatient Care Visit Within 35 Days Of the Surgery\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "566",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "555",
                                  "s": [
                                    {
                                      "r": "554",
                                      "s": [
                                        {
                                          "r": "554",
                                          "s": [
                                            {
                                              "value": [
                                                "[",
                                                "\"Encounter, Performed\"",
                                                ": "
                                              ]
                                            },
                                            {
                                              "s": [
                                                {
                                                  "value": [
                                                    "\"Hospital-based outpatient emergency care center (environment)\""
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "]"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "OutpatientVisit"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "565",
                              "s": [
                                {
                                  "value": [
                                    "with "
                                  ]
                                },
                                {
                                  "r": "557",
                                  "s": [
                                    {
                                      "r": "556",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "QP"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n      such that "
                                  ]
                                },
                                {
                                  "r": "564",
                                  "s": [
                                    {
                                      "r": "559",
                                      "s": [
                                        {
                                          "r": "558",
                                          "s": [
                                            {
                                              "value": [
                                                "OutpatientVisit"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "559",
                                          "s": [
                                            {
                                              "value": [
                                                "relevantPeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "564",
                                      "s": [
                                        {
                                          "value": [
                                            "starts "
                                          ]
                                        },
                                        {
                                          "r": "563",
                                          "s": [
                                            {
                                              "value": [
                                                "35 ",
                                                "days"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            " or less after"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " "
                                      ]
                                    },
                                    {
                                      "r": "562",
                                      "s": [
                                        {
                                          "r": "561",
                                          "s": [
                                            {
                                              "r": "560",
                                              "s": [
                                                {
                                                  "value": [
                                                    "QP"
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "."
                                              ]
                                            },
                                            {
                                              "r": "561",
                                              "s": [
                                                {
                                                  "value": [
                                                    "QProcedure"
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "."
                                          ]
                                        },
                                        {
                                          "r": "562",
                                          "s": [
                                            {
                                              "value": [
                                                "relevantPeriod"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "566",
                  "locator": "245:3-247:104",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "555",
                      "locator": "245:3-245:107",
                      "alias": "OutpatientVisit",
                      "expression": {
                        "localId": "554",
                        "locator": "245:3-245:91",
                        "dataType": "{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed",
                        "templateId": "PositiveEncounterPerformed",
                        "codeProperty": "code",
                        "codeComparator": "~",
                        "type": "Retrieve",
                        "codes": {
                          "type": "ToList",
                          "operand": {
                            "locator": "245:28-245:90",
                            "name": "Hospital-based outpatient emergency care center (environment)",
                            "type": "CodeRef"
                          }
                        }
                      }
                    }
                  ],
                  "relationship": [
                    {
                      "localId": "565",
                      "locator": "246:5-247:104",
                      "alias": "QP",
                      "type": "With",
                      "expression": {
                        "localId": "556",
                        "locator": "246:10-246:83",
                        "name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures",
                        "type": "ExpressionRef"
                      },
                      "suchThat": {
                        "localId": "564",
                        "locator": "247:17-247:104",
                        "type": "And",
                        "operand": [
                          {
                            "locator": "247:55-247:69",
                            "type": "In",
                            "operand": [
                              {
                                "locator": "247:48-247:53",
                                "type": "Start",
                                "operand": {
                                  "localId": "559",
                                  "locator": "247:17-247:46",
                                  "path": "relevantPeriod",
                                  "scope": "OutpatientVisit",
                                  "type": "Property"
                                }
                              },
                              {
                                "locator": "247:55-247:69",
                                "lowClosed": false,
                                "highClosed": true,
                                "type": "Interval",
                                "low": {
                                  "locator": "247:91-247:104",
                                  "type": "End",
                                  "operand": {
                                    "localId": "562",
                                    "locator": "247:77-247:104",
                                    "path": "relevantPeriod",
                                    "type": "Property",
                                    "source": {
                                      "localId": "561",
                                      "locator": "247:77-247:89",
                                      "path": "QProcedure",
                                      "scope": "QP",
                                      "type": "Property"
                                    }
                                  }
                                },
                                "high": {
                                  "locator": "247:91-247:104",
                                  "type": "Add",
                                  "operand": [
                                    {
                                      "locator": "247:91-247:104",
                                      "type": "End",
                                      "operand": {
                                        "localId": "562",
                                        "locator": "247:77-247:104",
                                        "path": "relevantPeriod",
                                        "type": "Property",
                                        "source": {
                                          "localId": "561",
                                          "locator": "247:77-247:89",
                                          "path": "QProcedure",
                                          "scope": "QP",
                                          "type": "Property"
                                        }
                                      }
                                    },
                                    {
                                      "localId": "563",
                                      "locator": "247:55-247:61",
                                      "value": 35,
                                      "unit": "days",
                                      "type": "Quantity"
                                    }
                                  ]
                                }
                              }
                            ]
                          },
                          {
                            "locator": "247:55-247:69",
                            "type": "Not",
                            "operand": {
                              "locator": "247:55-247:69",
                              "type": "IsNull",
                              "operand": {
                                "locator": "247:91-247:104",
                                "type": "End",
                                "operand": {
                                  "localId": "562",
                                  "locator": "247:77-247:104",
                                  "path": "relevantPeriod",
                                  "type": "Property",
                                  "source": {
                                    "localId": "561",
                                    "locator": "247:77-247:89",
                                    "path": "QProcedure",
                                    "scope": "QP",
                                    "type": "Property"
                                  }
                                }
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              },
              {
                "localId": "584",
                "locator": "249:1-254:9",
                "name": "Had 2 or More VTE Diagnosis Codes During Outpatient Visit Within 35 Days Of The Surgery",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "584",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Had 2 or More VTE Diagnosis Codes During Outpatient Visit Within 35 Days Of The Surgery\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "583",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "569",
                                  "s": [
                                    {
                                      "r": "568",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Outpatient Care Visit Within 35 Days Of the Surgery\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "OV"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "582",
                              "s": [
                                {
                                  "value": [
                                    "where "
                                  ]
                                },
                                {
                                  "r": "582",
                                  "s": [
                                    {
                                      "r": "580",
                                      "s": [
                                        {
                                          "value": [
                                            "Count",
                                            "("
                                          ]
                                        },
                                        {
                                          "r": "579",
                                          "s": [
                                            {
                                              "s": [
                                                {
                                                  "r": "573",
                                                  "s": [
                                                    {
                                                      "r": "572",
                                                      "s": [
                                                        {
                                                          "value": [
                                                            "("
                                                          ]
                                                        },
                                                        {
                                                          "r": "572",
                                                          "s": [
                                                            {
                                                              "r": "570",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "[",
                                                                    "\"Diagnosis\"",
                                                                    ": "
                                                                  ]
                                                                },
                                                                {
                                                                  "s": [
                                                                    {
                                                                      "value": [
                                                                        "\"Venous Thromboembolism\""
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "value": [
                                                                    "]"
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                "\n        union "
                                                              ]
                                                            },
                                                            {
                                                              "r": "571",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "[",
                                                                    "\"Diagnosis\"",
                                                                    ": "
                                                                  ]
                                                                },
                                                                {
                                                                  "s": [
                                                                    {
                                                                      "value": [
                                                                        "\"Pulmonary Embolism or DVT\""
                                                                      ]
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "value": [
                                                                    "]"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            ")"
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        "VTEDiagnosis"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n        "
                                              ]
                                            },
                                            {
                                              "r": "578",
                                              "s": [
                                                {
                                                  "value": [
                                                    "where "
                                                  ]
                                                },
                                                {
                                                  "r": "578",
                                                  "s": [
                                                    {
                                                      "r": "575",
                                                      "s": [
                                                        {
                                                          "r": "574",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "VTEDiagnosis"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            "."
                                                          ]
                                                        },
                                                        {
                                                          "r": "575",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "prevalencePeriod"
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "r": "578",
                                                      "value": [
                                                        " ",
                                                        "starts during",
                                                        " "
                                                      ]
                                                    },
                                                    {
                                                      "r": "577",
                                                      "s": [
                                                        {
                                                          "r": "576",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "OV"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            "."
                                                          ]
                                                        },
                                                        {
                                                          "r": "577",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "relevantPeriod"
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "\n    )"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "r": "581",
                                      "value": [
                                        ">=",
                                        " ",
                                        "2"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "583",
                  "locator": "250:3-254:9",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "569",
                      "locator": "250:3-250:58",
                      "alias": "OV",
                      "expression": {
                        "localId": "568",
                        "locator": "250:3-250:55",
                        "name": "Outpatient Care Visit Within 35 Days Of the Surgery",
                        "type": "ExpressionRef"
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "582",
                    "locator": "251:5-254:9",
                    "type": "GreaterOrEqual",
                    "operand": [
                      {
                        "localId": "580",
                        "locator": "251:11-254:5",
                        "type": "Count",
                        "source": {
                          "localId": "579",
                          "locator": "251:17-253:75",
                          "type": "Query",
                          "source": [
                            {
                              "localId": "573",
                              "locator": "251:17-252:69",
                              "alias": "VTEDiagnosis",
                              "expression": {
                                "localId": "572",
                                "locator": "251:17-252:57",
                                "type": "Union",
                                "operand": [
                                  {
                                    "localId": "570",
                                    "locator": "251:18-251:56",
                                    "dataType": "{urn:healthit-gov:qdm:v5_6}Diagnosis",
                                    "codeProperty": "code",
                                    "codeComparator": "in",
                                    "type": "Retrieve",
                                    "codes": {
                                      "locator": "251:32-251:55",
                                      "name": "Venous Thromboembolism",
                                      "type": "ValueSetRef"
                                    }
                                  },
                                  {
                                    "localId": "571",
                                    "locator": "252:15-252:56",
                                    "dataType": "{urn:healthit-gov:qdm:v5_6}Diagnosis",
                                    "codeProperty": "code",
                                    "codeComparator": "in",
                                    "type": "Retrieve",
                                    "codes": {
                                      "locator": "252:29-252:55",
                                      "name": "Pulmonary Embolism or DVT",
                                      "type": "ValueSetRef"
                                    }
                                  }
                                ]
                              }
                            }
                          ],
                          "relationship": [],
                          "where": {
                            "localId": "578",
                            "locator": "253:9-253:75",
                            "type": "In",
                            "operand": [
                              {
                                "locator": "253:45-253:50",
                                "type": "Start",
                                "operand": {
                                  "localId": "575",
                                  "locator": "253:15-253:43",
                                  "path": "prevalencePeriod",
                                  "scope": "VTEDiagnosis",
                                  "type": "Property"
                                }
                              },
                              {
                                "localId": "577",
                                "locator": "253:59-253:75",
                                "path": "relevantPeriod",
                                "scope": "OV",
                                "type": "Property"
                              }
                            ]
                          }
                        }
                      },
                      {
                        "localId": "581",
                        "locator": "254:9",
                        "valueType": "{urn:hl7-org:elm-types:r1}Integer",
                        "value": "2",
                        "type": "Literal"
                      }
                    ]
                  }
                }
              },
              {
                "localId": "600",
                "locator": "256:1-260:9",
                "name": "Had Multiple Blood Transfusion Procedures During The Index Admission",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "600",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Had Multiple Blood Transfusion Procedures During The Index Admission\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "599",
                          "s": [
                            {
                              "s": [
                                {
                                  "r": "586",
                                  "s": [
                                    {
                                      "r": "585",
                                      "s": [
                                        {
                                          "s": [
                                            {
                                              "value": [
                                                "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        " ",
                                        "QE"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    "
                              ]
                            },
                            {
                              "r": "598",
                              "s": [
                                {
                                  "value": [
                                    "where "
                                  ]
                                },
                                {
                                  "r": "598",
                                  "s": [
                                    {
                                      "r": "596",
                                      "s": [
                                        {
                                          "value": [
                                            "Count",
                                            "("
                                          ]
                                        },
                                        {
                                          "r": "595",
                                          "s": [
                                            {
                                              "s": [
                                                {
                                                  "r": "588",
                                                  "s": [
                                                    {
                                                      "r": "587",
                                                      "s": [
                                                        {
                                                          "r": "587",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "[",
                                                                "\"Procedure, Performed\"",
                                                                ": "
                                                              ]
                                                            },
                                                            {
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "\"Blood Transfusion Administration\""
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                "]"
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": [
                                                        " ",
                                                        "BTProcedure"
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": [
                                                "\n        "
                                              ]
                                            },
                                            {
                                              "r": "594",
                                              "s": [
                                                {
                                                  "value": [
                                                    "where "
                                                  ]
                                                },
                                                {
                                                  "r": "594",
                                                  "s": [
                                                    {
                                                      "r": "590",
                                                      "s": [
                                                        {
                                                          "r": "589",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "BTProcedure"
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            "."
                                                          ]
                                                        },
                                                        {
                                                          "r": "590",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "relevantPeriod"
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "r": "594",
                                                      "value": [
                                                        " ",
                                                        "starts during",
                                                        " "
                                                      ]
                                                    },
                                                    {
                                                      "r": "593",
                                                      "s": [
                                                        {
                                                          "r": "592",
                                                          "s": [
                                                            {
                                                              "r": "591",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "QE"
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": [
                                                                "."
                                                              ]
                                                            },
                                                            {
                                                              "r": "592",
                                                              "s": [
                                                                {
                                                                  "value": [
                                                                    "QEncounter"
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": [
                                                            "."
                                                          ]
                                                        },
                                                        {
                                                          "r": "593",
                                                          "s": [
                                                            {
                                                              "value": [
                                                                "relevantPeriod"
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "\n    )"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "r": "597",
                                      "value": [
                                        ">=",
                                        " ",
                                        "1"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "599",
                  "locator": "257:3-260:9",
                  "type": "Query",
                  "source": [
                    {
                      "localId": "586",
                      "locator": "257:3-257:79",
                      "alias": "QE",
                      "expression": {
                        "localId": "585",
                        "locator": "257:3-257:76",
                        "name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures",
                        "type": "ExpressionRef"
                      }
                    }
                  ],
                  "relationship": [],
                  "where": {
                    "localId": "598",
                    "locator": "258:5-260:9",
                    "type": "GreaterOrEqual",
                    "operand": [
                      {
                        "localId": "596",
                        "locator": "258:11-260:5",
                        "type": "Count",
                        "source": {
                          "localId": "595",
                          "locator": "258:17-259:83",
                          "type": "Query",
                          "source": [
                            {
                              "localId": "588",
                              "locator": "258:17-258:88",
                              "alias": "BTProcedure",
                              "expression": {
                                "localId": "587",
                                "locator": "258:17-258:76",
                                "dataType": "{urn:healthit-gov:qdm:v5_6}PositiveProcedurePerformed",
                                "templateId": "PositiveProcedurePerformed",
                                "codeProperty": "code",
                                "codeComparator": "in",
                                "type": "Retrieve",
                                "codes": {
                                  "locator": "258:42-258:75",
                                  "name": "Blood Transfusion Administration",
                                  "type": "ValueSetRef"
                                }
                              }
                            }
                          ],
                          "relationship": [],
                          "where": {
                            "localId": "594",
                            "locator": "259:9-259:83",
                            "type": "In",
                            "operand": [
                              {
                                "locator": "259:42-259:47",
                                "type": "Start",
                                "operand": {
                                  "localId": "590",
                                  "locator": "259:15-259:40",
                                  "path": "relevantPeriod",
                                  "scope": "BTProcedure",
                                  "type": "Property"
                                }
                              },
                              {
                                "localId": "593",
                                "locator": "259:56-259:83",
                                "path": "relevantPeriod",
                                "type": "Property",
                                "source": {
                                  "localId": "592",
                                  "locator": "259:56-259:68",
                                  "path": "QEncounter",
                                  "scope": "QE",
                                  "type": "Property"
                                }
                              }
                            ]
                          }
                        }
                      },
                      {
                        "localId": "597",
                        "locator": "260:9",
                        "valueType": "{urn:hl7-org:elm-types:r1}Integer",
                        "value": "1",
                        "type": "Literal"
                      }
                    ]
                  }
                }
              },
              {
                "localId": "603",
                "locator": "262:1-263:77",
                "name": "Bleeding-Specific Denominator Exclusions",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "603",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Bleeding-Specific Denominator Exclusions\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "602",
                          "s": [
                            {
                              "value": [
                                "exists "
                              ]
                            },
                            {
                              "r": "601",
                              "s": [
                                {
                                  "value": [
                                    "\"Diagnosed With Major Bleeding 30 Days Prior To The Index Admission\""
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "602",
                  "locator": "263:3-263:77",
                  "type": "Exists",
                  "operand": {
                    "localId": "601",
                    "locator": "263:10-263:77",
                    "name": "Diagnosed With Major Bleeding 30 Days Prior To The Index Admission",
                    "type": "ExpressionRef"
                  }
                }
              },
              {
                "localId": "618",
                "locator": "265:1-270:84",
                "name": "Bleeding-Specific Numerator",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "618",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"Bleeding-Specific Numerator\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "617",
                          "s": [
                            {
                              "r": "614",
                              "s": [
                                {
                                  "r": "611",
                                  "s": [
                                    {
                                      "r": "608",
                                      "s": [
                                        {
                                          "r": "605",
                                          "s": [
                                            {
                                              "value": [
                                                "exists "
                                              ]
                                            },
                                            {
                                              "r": "604",
                                              "s": [
                                                {
                                                  "value": [
                                                    "\"Diagnosed With Major Bleeding During The Index Admission\""
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": [
                                            "\n    or "
                                          ]
                                        },
                                        {
                                          "r": "607",
                                          "s": [
                                            {
                                              "value": [
                                                "exists "
                                              ]
                                            },
                                            {
                                              "r": "606",
                                              "s": [
                                                {
                                                  "value": [
                                                    "\"Postoperative Encounter Related To Major Bleeding 35 Days After Surgery\""
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": [
                                        "\n    or "
                                      ]
                                    },
                                    {
                                      "r": "610",
                                      "s": [
                                        {
                                          "value": [
                                            "exists "
                                          ]
                                        },
                                        {
                                          "r": "609",
                                          "s": [
                                            {
                                              "value": [
                                                "\"Had Treatment of Hemorrhage or Hematoma During The Index Admission\""
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n    or "
                                  ]
                                },
                                {
                                  "r": "613",
                                  "s": [
                                    {
                                      "value": [
                                        "exists "
                                      ]
                                    },
                                    {
                                      "r": "612",
                                      "s": [
                                        {
                                          "value": [
                                            "\"Postoperative Encounter Related To Treatment of Hemorrhage or Hematoma 35 Days After Surgery\""
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    or "
                              ]
                            },
                            {
                              "r": "616",
                              "s": [
                                {
                                  "value": [
                                    "exists "
                                  ]
                                },
                                {
                                  "r": "615",
                                  "s": [
                                    {
                                      "value": [
                                        "\"Had Multiple Blood Transfusion Procedures During The Index Admission\""
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "617",
                  "locator": "266:3-270:84",
                  "type": "Or",
                  "operand": [
                    {
                      "localId": "614",
                      "locator": "266:3-269:108",
                      "type": "Or",
                      "operand": [
                        {
                          "localId": "611",
                          "locator": "266:3-268:82",
                          "type": "Or",
                          "operand": [
                            {
                              "localId": "608",
                              "locator": "266:3-267:87",
                              "type": "Or",
                              "operand": [
                                {
                                  "localId": "605",
                                  "locator": "266:3-266:67",
                                  "type": "Exists",
                                  "operand": {
                                    "localId": "604",
                                    "locator": "266:10-266:67",
                                    "name": "Diagnosed With Major Bleeding During The Index Admission",
                                    "type": "ExpressionRef"
                                  }
                                },
                                {
                                  "localId": "607",
                                  "locator": "267:8-267:87",
                                  "type": "Exists",
                                  "operand": {
                                    "localId": "606",
                                    "locator": "267:15-267:87",
                                    "name": "Postoperative Encounter Related To Major Bleeding 35 Days After Surgery",
                                    "type": "ExpressionRef"
                                  }
                                }
                              ]
                            },
                            {
                              "localId": "610",
                              "locator": "268:8-268:82",
                              "type": "Exists",
                              "operand": {
                                "localId": "609",
                                "locator": "268:15-268:82",
                                "name": "Had Treatment of Hemorrhage or Hematoma During The Index Admission",
                                "type": "ExpressionRef"
                              }
                            }
                          ]
                        },
                        {
                          "localId": "613",
                          "locator": "269:8-269:108",
                          "type": "Exists",
                          "operand": {
                            "localId": "612",
                            "locator": "269:15-269:108",
                            "name": "Postoperative Encounter Related To Treatment of Hemorrhage or Hematoma 35 Days After Surgery",
                            "type": "ExpressionRef"
                          }
                        }
                      ]
                    },
                    {
                      "localId": "616",
                      "locator": "270:8-270:84",
                      "type": "Exists",
                      "operand": {
                        "localId": "615",
                        "locator": "270:15-270:84",
                        "name": "Had Multiple Blood Transfusion Procedures During The Index Admission",
                        "type": "ExpressionRef"
                      }
                    }
                  ]
                }
              },
              {
                "localId": "627",
                "locator": "272:1-275:103",
                "name": "VTE-Specific Numerator",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "627",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"VTE-Specific Numerator\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "626",
                          "s": [
                            {
                              "r": "623",
                              "s": [
                                {
                                  "r": "620",
                                  "s": [
                                    {
                                      "value": [
                                        "exists "
                                      ]
                                    },
                                    {
                                      "r": "619",
                                      "s": [
                                        {
                                          "value": [
                                            "\"Diagnosed With VTE or DVT During The Index Admission\""
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": [
                                    "\n    or "
                                  ]
                                },
                                {
                                  "r": "622",
                                  "s": [
                                    {
                                      "value": [
                                        "exists "
                                      ]
                                    },
                                    {
                                      "r": "621",
                                      "s": [
                                        {
                                          "value": [
                                            "\"Diagnosed With VTE or DVT in the ED Within 35 Days Of The Surgery\""
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": [
                                "\n    or "
                              ]
                            },
                            {
                              "r": "625",
                              "s": [
                                {
                                  "value": [
                                    "exists "
                                  ]
                                },
                                {
                                  "r": "624",
                                  "s": [
                                    {
                                      "value": [
                                        "\"Had 2 or More VTE Diagnosis Codes During Outpatient Visit Within 35 Days Of The Surgery\""
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "626",
                  "locator": "273:3-275:103",
                  "type": "Or",
                  "operand": [
                    {
                      "localId": "623",
                      "locator": "273:3-274:81",
                      "type": "Or",
                      "operand": [
                        {
                          "localId": "620",
                          "locator": "273:3-273:63",
                          "type": "Exists",
                          "operand": {
                            "localId": "619",
                            "locator": "273:10-273:63",
                            "name": "Diagnosed With VTE or DVT During The Index Admission",
                            "type": "ExpressionRef"
                          }
                        },
                        {
                          "localId": "622",
                          "locator": "274:8-274:81",
                          "type": "Exists",
                          "operand": {
                            "localId": "621",
                            "locator": "274:15-274:81",
                            "name": "Diagnosed With VTE or DVT in the ED Within 35 Days Of The Surgery",
                            "type": "ExpressionRef"
                          }
                        }
                      ]
                    },
                    {
                      "localId": "625",
                      "locator": "275:8-275:103",
                      "type": "Exists",
                      "operand": {
                        "localId": "624",
                        "locator": "275:15-275:103",
                        "name": "Had 2 or More VTE Diagnosis Codes During Outpatient Visit Within 35 Days Of The Surgery",
                        "type": "ExpressionRef"
                      }
                    }
                  ]
                }
              },
              {
                "localId": "630",
                "locator": "277:1-278:73",
                "name": "VTE-Specific Denominator Exclusions",
                "context": "Patient",
                "accessLevel": "Public",
                "annotation": [
                  {
                    "type": "Annotation",
                    "s": {
                      "r": "630",
                      "s": [
                        {
                          "value": [
                            "",
                            "define ",
                            "\"VTE-Specific Denominator Exclusions\"",
                            ":\n  "
                          ]
                        },
                        {
                          "r": "629",
                          "s": [
                            {
                              "value": [
                                "exists "
                              ]
                            },
                            {
                              "r": "628",
                              "s": [
                                {
                                  "value": [
                                    "\"Diagnosed With VTE or DVT 30 Days Prior To The Index Admission\""
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ],
                "expression": {
                  "localId": "629",
                  "locator": "278:3-278:73",
                  "type": "Exists",
                  "operand": {
                    "localId": "628",
                    "locator": "278:10-278:73",
                    "name": "Diagnosed With VTE or DVT 30 Days Prior To The Index Admission",
                    "type": "ExpressionRef"
                  }
                }
              }
            ]
          }
        }
      },
      "cql": "library THATKACommon version '1.0.000'\n\nusing QDM version '5.6'\n\ninclude MATGlobalCommonFunctionsNEW version '7.0.000' called Global\n\ncodesystem \"LOINC\": 'urn:oid:2.16.840.1.113883.6.1' \ncodesystem \"SNOMEDCT\": 'urn:oid:2.16.840.1.113883.6.96' \n\nvalueset \"Active Bleeding\": 'urn:oid:2.16.840.1.113762.1.4.1206.28' \nvalueset \"Anticoagulant Medications, Injection\": 'urn:oid:2.16.840.1.113762.1.4.1206.21' \nvalueset \"Anticoagulant Medications, Oral\": 'urn:oid:2.16.840.1.113762.1.4.1206.20' \nvalueset \"Atrial Fibrillation\": 'urn:oid:2.16.840.1.113883.17.4077.3.1001' \nvalueset \"Blood Transfusion Administration\": 'urn:oid:2.16.840.1.113762.1.4.1029.209' \nvalueset \"Cancer\": 'urn:oid:2.16.840.1.113883.3.526.3.1010' \nvalueset \"Coagulation Disorder Conditions\": 'urn:oid:2.16.840.1.113762.1.4.1206.17' \nvalueset \"Comorbidity Risk Factors\": 'urn:oid:2.16.840.1.113762.1.4.1206.13' \nvalueset \"Current Smoking Tobacco User\": 'urn:oid:2.16.840.1.113762.1.4.1111.99' \nvalueset \"Encounter Hospital Outpatient\": 'urn:oid:2.16.840.1.113883.3.3157.1002.14' \nvalueset \"Encounter Inpatient\": 'urn:oid:2.16.840.1.113883.3.666.5.307' \nvalueset \"Fracture Exclusions For Hip And Knee Procedures\": 'urn:oid:2.16.840.1.113762.1.4.1206.2' \nvalueset \"General Major Bleeding Events\": 'urn:oid:2.16.840.1.113762.1.4.1179.5' \nvalueset \"General Surgery\": 'urn:oid:2.16.840.1.113762.1.4.1206.15' \nvalueset \"Left Against Medical Advice\": 'urn:oid:2.16.840.1.113883.3.117.1.7.1.308' \nvalueset \"Malignant Neoplasm Complications Related To Hip and Knee Procedures\": 'urn:oid:2.16.840.1.113762.1.4.1206.7' \nvalueset \"Mechanical Complications Related To Hip and Knee Procedures\": 'urn:oid:2.16.840.1.113762.1.4.1206.1' \nvalueset \"Nonprimary Total Hip, Total Knee Replacement\": 'urn:oid:2.16.840.1.113762.1.4.1206.5' \nvalueset \"Postoperative Visit\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1070' \nvalueset \"Pulmonary Embolism or DVT\": 'urn:oid:2.16.840.1.113883.17.4077.3.1036' \nvalueset \"Renal insufficiency\": 'urn:oid:2.16.840.1.113883.3.3157.1330' \nvalueset \"Tobacco Use Screening\": 'urn:oid:2.16.840.1.113883.3.526.3.1278' \nvalueset \"Total Hip, Total Knee Replacement\": 'urn:oid:2.16.840.1.113762.1.4.1029.96' \nvalueset \"Transfer From Acute Care Hospital\": 'urn:oid:2.16.840.1.113883.13.190.5.43' \nvalueset \"Treatment of Hemorrhage or Hematoma\": 'urn:oid:2.16.840.1.113762.1.4.1206.14' \nvalueset \"Venous Thromboembolism\": 'urn:oid:2.16.840.1.113883.3.117.1.7.1.279' \n\ncode \"Body mass index (BMI) [Ratio]\": '39156-5' from \"LOINC\" display 'Body mass index (BMI) [Ratio]'\ncode \"Hospital-based outpatient emergency care center (environment)\": '73770003' from \"SNOMEDCT\" display 'Hospital-based outpatient emergency care center (environment)'\ncode \"Outpatient surgery service (qualifier value)\": '2621000175106' from \"SNOMEDCT\" display 'Outpatient surgery service (qualifier value)'\n\nparameter \"Measurement Period\" Interval<DateTime>\n\ncontext Patient\n\ndefine \"Patient Encounters\":\n  ( [\"Encounter, Performed\": \"Encounter Inpatient\"]\n    union [\"Encounter, Performed\": \"Outpatient surgery service (qualifier value)\"] ) Encounter\n    where Encounter.relevantPeriod starts during \"Measurement Period\"\n\ndefine \"Primary THA-TKA Procedures\":\n  [\"Procedure, Performed\": \"Total Hip, Total Knee Replacement\"] PrimaryProcedure\n    where PrimaryProcedure.relevantPeriod starts during \"Measurement Period\"\n\ndefine \"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\":\n  from\n    \"Patient Encounters\" Encounter,\n    \"Primary THA-TKA Procedures\" Procedure\n    where Procedure.relevantPeriod starts during Encounter.relevantPeriod\n    return {\n      QEncounter: Encounter,\n      QProcedure: Procedure\n    }\n\ndefine \"Encounter Related To Elective Primary THA and TKA Procedures With Age\":\n  \"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\" QE\n    with [\"Patient Characteristic Birthdate\"] PatientBirthday\n      such that Global.\"CalendarAgeInYearsAt\" ( PatientBirthday.birthDatetime, start of QE.QEncounter.relevantPeriod ) >= 18\n\ndefine \"Initial Population\":\n  exists \"Encounter Related To Elective Primary THA and TKA Procedures With Age\"\n\ndefine \"Denominator\":\n  \"Initial Population\"\n\ndefine \"Transferred From Another Acute Care Facility or Discharged Against Medical Advice During Index Admission\":\n  \"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\" QE\n    where QE.QEncounter.admissionSource in \"Transfer From Acute Care Hospital\"\n      or QE.QEncounter.dischargeDisposition in \"Left Against Medical Advice\"\n\ndefine \"Had More Than 2 THA_TKA Procedures Codes During The Index Admission\":\n  \"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\" QE \n       where Count((\"Primary THA-TKA Procedures\" \n           union \"Non-Primary THA_TKA Procedures\")Procedures \n           where Procedures.relevantPeriod starts during QE.QEncounter.relevantPeriod \n       )> 2\n\ndefine \"Non-Primary THA_TKA Procedures\":\n  [\"Procedure, Performed\": \"Nonprimary Total Hip, Total Knee Replacement\"] NonPrimaryProcedures\n    where NonPrimaryProcedures.relevantPeriod starts during \"Measurement Period\"\n\ndefine \"Diagnosed With Renal Insufficiency 365 Days Prior To Procedure\":\n  [\"Diagnosis\": \"Renal insufficiency\"] RenalDiagnosis\n    with \"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\" QP\n      such that RenalDiagnosis.prevalencePeriod starts 365 days or less on or before start of QP.QProcedure.relevantPeriod\n\ndefine \"Diagnosed With Atrial Fibrillation 365 Days Prior To Procedure\":\n  [\"Diagnosis\": \"Atrial Fibrillation\"] AFDiagnosis\n    with \"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\" QP\n      such that AFDiagnosis.prevalencePeriod starts 365 days or less on or before start of QP.QProcedure.relevantPeriod\n\ndefine \"Diagnosed With Cancer 365 Days Prior To Procedure\":\n  [\"Diagnosis\": \"Cancer\"] CancerDiagnosis\n    with \"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\" QP\n      such that CancerDiagnosis.prevalencePeriod starts 365 days or less on or before start of QP.QProcedure.relevantPeriod\n\ndefine \"Received Anticoagulant Medication Injection Between 10-90 Days Prior To Surgery Date\":\n  [\"Medication, Order\": \"Anticoagulant Medications, Injection\"] AntiCoagMed\n    with \"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\" QP\n      such that AntiCoagMed.relevantPeriod starts during Interval[start of QP.QProcedure.relevantPeriod - 90 days, start of QP.QProcedure.relevantPeriod - 10 days]\n\ndefine \"Received Oral Anticoagulant Medications Between 10-90 Days Prior To Procedure\":\n  [\"Medication, Order\": \"Anticoagulant Medications, Oral\"] AntiCoagMed\n    with \"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\" QP\n      such that AntiCoagMed.relevantPeriod starts during Interval[start of QP.QProcedure.relevantPeriod - 90 days, start of QP.QProcedure.relevantPeriod - 10 days]\n        and AntiCoagMed.supply.value > 1\n\ndefine \"Diagnosed With Coagulation Disorder 365 Days Prior To Procedure\":\n  [\"Diagnosis\": \"Coagulation Disorder Conditions\"] CoagDisorderDiagnosis\n    with \"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\" QP\n      such that CoagDisorderDiagnosis.prevalencePeriod starts 365 days or less on or before start of QP.QProcedure.relevantPeriod\n\ndefine \"Diagnosed With Excluded Conditions Within 90 Days Prior To The Index Admission\":\n  ( [\"Diagnosis\": \"Malignant Neoplasm Complications Related To Hip and Knee Procedures\"]\n    union [\"Diagnosis\": \"Mechanical Complications Related To Hip and Knee Procedures\"]\n    union [\"Diagnosis\": \"Fracture Exclusions For Hip And Knee Procedures\"] ) ExistingConditions\n    with \"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\" QE\n      such that ExistingConditions.prevalencePeriod starts 90 days or less on or before start of QE.QEncounter.relevantPeriod\n\ndefine \"Had Additional Surgery Within 35 Days Post-Procedure\":\n  [\"Procedure, Performed\": \"General Surgery\"] AdditionalProcedure\n    with \"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\" QP\n      such that AdditionalProcedure.relevantPeriod starts 35 days or less on or after start of QP.QProcedure.relevantPeriod\n\ndefine \"Common Denominator Exclusions\":\n  exists \"Transferred From Another Acute Care Facility or Discharged Against Medical Advice During Index Admission\"\n    or exists \"Had More Than 2 THA_TKA Procedures Codes During The Index Admission\"\n    or exists \"Diagnosed With Renal Insufficiency 365 Days Prior To Procedure\"\n    or exists \"Diagnosed With Atrial Fibrillation 365 Days Prior To Procedure\"\n    or exists \"Diagnosed With Cancer 365 Days Prior To Procedure\"\n    or exists \"Received Anticoagulant Medication Injection Between 10-90 Days Prior To Surgery Date\"\n    or exists \"Received Oral Anticoagulant Medications Between 10-90 Days Prior To Procedure\"\n    or exists \"Diagnosed With Coagulation Disorder 365 Days Prior To Procedure\"\n    or exists \"Diagnosed With Excluded Conditions Within 90 Days Prior To The Index Admission\"\n    or exists \"Had Additional Surgery Within 35 Days Post-Procedure\"\n\n/*Bleeding-specific*/\ndefine \"Diagnosed With Major Bleeding 30 Days Prior To The Index Admission\":\n  [\"Diagnosis\": \"General Major Bleeding Events\"] GMBEDiagnosis\n    with \"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\" QE\n      such that GMBEDiagnosis.prevalencePeriod starts 30 days or less before start of QE.QEncounter.relevantPeriod\n\ndefine \"Most Recent Documented BMI\":\n  Last([\"Physical Exam, Performed\": \"Body mass index (BMI) [Ratio]\"] LastBMI\n      with \"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\" QualifyingEncounter\n        such that(LastBMI.relevantPeriod starts 12 months or less on or before start of QualifyingEncounter.QEncounter.relevantPeriod\n            or LastBMI.relevantPeriod starts during QualifyingEncounter.QEncounter.relevantPeriod\n        )\n          and LastBMI.result is not null\n      sort by authorDatetime\n  )\n\ndefine \"Has Normal BMI\":\n  \"Most Recent Documented BMI\" BMIValue\n    where BMIValue.result included in Interval[18.5 'kg/m2', 25 'kg/m2' )\n\ndefine \"Screened and Identified as Tobacco User\":\n  ( Last([\"Assessment, Performed\": \"Tobacco Use Screening\"] TobaccoUseScreening\n      where TobaccoUseScreening.authorDatetime 24 months or less on or before \n      end of \"Measurement Period\"\n      sort by authorDatetime\n  )) MostRecentTobaccoUseScreening\n    where MostRecentTobaccoUseScreening.result in \"Current Smoking Tobacco User\"\n\ndefine \"Existing Comorbidities Prior To Surgery\":\n  [\"Diagnosis\": \"Comorbidity Risk Factors\"] Comorbidities\n    with \"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\" QualifyingEncounter\n      such that Comorbidities.prevalencePeriod starts 12 months or less on or before start of QualifyingEncounter.QEncounter.relevantPeriod\n\ndefine \"Reasonable Risk Factors\":\n  {\n    AbnormalBMI: \"Has Normal BMI\" is null,\n    TobacoUser: \"Screened and Identified as Tobacco User\" is not null,\n    HadExistingComorbidities: \"Existing Comorbidities Prior To Surgery\"\n  }\n\n/*VTE-specific*/\ndefine \"Diagnosed With VTE or DVT 30 Days Prior To The Index Admission\":\n  ( [\"Diagnosis\": \"Venous Thromboembolism\"]\n    union [\"Diagnosis\": \"Pulmonary Embolism or DVT\"] ) VTEDiagnosis\n    with \"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\" QE\n      such that VTEDiagnosis.prevalencePeriod starts 30 days or less before start of QE.QEncounter.relevantPeriod\n\ndefine \"Diagnosed With Major Bleeding During The Index Admission\":\n  ( [\"Diagnosis\": \"General Major Bleeding Events\"]\n    union [\"Diagnosis\": \"Active Bleeding\"] ) MBDiagnosis\n    with \"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\" QE\n      such that MBDiagnosis.prevalencePeriod starts during QE.QEncounter.relevantPeriod\n\n/*We only focus on postoperative follow-up visits to indicate that an evaluation and management service was performed during a postoperative period for a reason(s) related to the original procedure*/\ndefine \"Postoperative Encounter Related To Major Bleeding\":\n  [\"Encounter, Performed\": \"Postoperative Visit\"] PostoperativeEncounter\n    with ( [\"Diagnosis\": \"General Major Bleeding Events\"]\n      union [\"Diagnosis\": \"Active Bleeding\"] ) DiagnosisEvent\n      such that DiagnosisEvent.prevalencePeriod starts during PostoperativeEncounter.relevantPeriod\n\ndefine \"Had Treatment of Hemorrhage or Hematoma During The Index Admission\":\n  [\"Procedure, Performed\": \"Treatment of Hemorrhage or Hematoma\"] Treatment\n    with \"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\" QE\n      such that Treatment.relevantPeriod starts during QE.QEncounter.relevantPeriod\n\n/*We only focus on postoperative follow-up visits to indicate that an evaluation and management service was performed during a postoperative period for a reason(s) related to the original procedure*/\ndefine \"Postoperative Encounter Related To Treatment of Hemorrhage or Hematoma\":\n  [\"Encounter, Performed\": \"Postoperative Visit\"] PostoperativeEncounter\n    with [\"Procedure, Performed\": \"Treatment of Hemorrhage or Hematoma\"] HHTreatment\n      such that HHTreatment.relevantPeriod starts during PostoperativeEncounter.relevantPeriod\n\ndefine \"Postoperative Encounter Related To Treatment of Hemorrhage or Hematoma 35 Days After Surgery\":\n  \"Postoperative Encounter Related To Treatment of Hemorrhage or Hematoma\" HHEncounter\n    with \"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\" QualifyingProcedure\n      such that HHEncounter.relevantPeriod starts 35 days or less after start of QualifyingProcedure.QProcedure.relevantPeriod\n\ndefine \"Postoperative Encounter Related To Major Bleeding 35 Days After Surgery\":\n  \"Postoperative Encounter Related To Major Bleeding\" MBEncounter\n    with \"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\" QualifyingProcedure\n      such that MBEncounter.relevantPeriod starts 35 days or less after start of QualifyingProcedure.QProcedure.relevantPeriod\n\ndefine \"Diagnosed With VTE or DVT During The Index Admission\":\n  ( [\"Diagnosis\": \"Venous Thromboembolism\"]\n    union [\"Diagnosis\": \"Pulmonary Embolism or DVT\"] ) DVTDiagnosis\n    with \"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\" QE\n      such that DVTDiagnosis.prevalencePeriod starts during QE.QEncounter.relevantPeriod\n\ndefine \"ED Visit Within 35 Days Of The Surgery\":\n  Global.\"ED Encounter\" EDVisit\n    with \"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\" QP\n      such that EDVisit.relevantPeriod ends 35 days or less after start of QP.QProcedure.relevantPeriod\n\ndefine \"Diagnosed With VTE or DVT in the ED Within 35 Days Of The Surgery\":\n  ( [\"Diagnosis\": \"Venous Thromboembolism\"]\n    union [\"Diagnosis\": \"Pulmonary Embolism or DVT\"] ) VTEDiagnosis\n    with \"ED Visit Within 35 Days Of The Surgery\" EDVisit\n      such that VTEDiagnosis.prevalencePeriod starts during EDVisit.relevantPeriod\n\ndefine \"Outpatient Care Visit Within 35 Days Of the Surgery\":\n  [\"Encounter, Performed\": \"Hospital-based outpatient emergency care center (environment)\"] OutpatientVisit\n    with \"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\" QP\n      such that OutpatientVisit.relevantPeriod starts 35 days or less after QP.QProcedure.relevantPeriod\n\ndefine \"Had 2 or More VTE Diagnosis Codes During Outpatient Visit Within 35 Days Of The Surgery\":\n  \"Outpatient Care Visit Within 35 Days Of the Surgery\" OV\n    where Count(([\"Diagnosis\": \"Venous Thromboembolism\"]\n        union [\"Diagnosis\": \"Pulmonary Embolism or DVT\"])VTEDiagnosis\n        where VTEDiagnosis.prevalencePeriod starts during OV.relevantPeriod\n    )>= 2\n\ndefine \"Had Multiple Blood Transfusion Procedures During The Index Admission\":\n  \"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\" QE\n    where Count([\"Procedure, Performed\": \"Blood Transfusion Administration\"] BTProcedure\n        where BTProcedure.relevantPeriod starts during QE.QEncounter.relevantPeriod\n    )>= 1\n\ndefine \"Bleeding-Specific Denominator Exclusions\":\n  exists \"Diagnosed With Major Bleeding 30 Days Prior To The Index Admission\"\n\ndefine \"Bleeding-Specific Numerator\":\n  exists \"Diagnosed With Major Bleeding During The Index Admission\"\n    or exists \"Postoperative Encounter Related To Major Bleeding 35 Days After Surgery\"\n    or exists \"Had Treatment of Hemorrhage or Hematoma During The Index Admission\"\n    or exists \"Postoperative Encounter Related To Treatment of Hemorrhage or Hematoma 35 Days After Surgery\"\n    or exists \"Had Multiple Blood Transfusion Procedures During The Index Admission\"\n\ndefine \"VTE-Specific Numerator\":\n  exists \"Diagnosed With VTE or DVT During The Index Admission\"\n    or exists \"Diagnosed With VTE or DVT in the ED Within 35 Days Of The Surgery\"\n    or exists \"Had 2 or More VTE Diagnosis Codes During Outpatient Visit Within 35 Days Of The Surgery\"\n\ndefine \"VTE-Specific Denominator Exclusions\":\n  exists \"Diagnosed With VTE or DVT 30 Days Prior To The Index Admission\"\n\n",
      "elm_annotations": {
        "statements": [
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Patient Encounters\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "( "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "[\"Encounter, Performed\": "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "\"Encounter Inpatient\""
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "]"
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "Retrieve",
                                        "ref_id": "40"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "\n    union "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "[\"Encounter, Performed\": "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "\"Outpatient surgery service (qualifier value)\""
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "]"
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "Retrieve",
                                        "ref_id": "41"
                                      }
                                    ],
                                    "node_type": "Union",
                                    "ref_id": "42"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": " )"
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "Union",
                                "ref_id": "42"
                              },
                              {
                                "children": [
                                  {
                                    "text": " Encounter"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "43"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "where "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "Encounter"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "44"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "relevantPeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "45"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "45"
                              },
                              {
                                "children": [
                                  {
                                    "text": " starts during "
                                  }
                                ],
                                "ref_id": "47"
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "\"Measurement Period\""
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ParameterRef",
                                "ref_id": "46"
                              }
                            ],
                            "ref_id": "47"
                          }
                        ],
                        "ref_id": "47"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "48"
                  }
                ],
                "ref_id": "49"
              }
            ],
            "define_name": "Patient Encounters"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Primary THA-TKA Procedures\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "[\"Procedure, Performed\": "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "\"Total Hip, Total Knee Replacement\""
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "]"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Retrieve",
                                    "ref_id": "50"
                                  }
                                ],
                                "node_type": "Retrieve",
                                "ref_id": "50"
                              },
                              {
                                "children": [
                                  {
                                    "text": " PrimaryProcedure"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "51"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "where "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "PrimaryProcedure"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "52"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "relevantPeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "53"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "53"
                              },
                              {
                                "children": [
                                  {
                                    "text": " starts during "
                                  }
                                ],
                                "ref_id": "55"
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "\"Measurement Period\""
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ParameterRef",
                                "ref_id": "54"
                              }
                            ],
                            "ref_id": "55"
                          }
                        ],
                        "ref_id": "55"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "56"
                  }
                ],
                "ref_id": "57"
              }
            ],
            "define_name": "Primary THA-TKA Procedures"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "from\n    "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Patient Encounters\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "58"
                              },
                              {
                                "children": [
                                  {
                                    "text": " Encounter"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "59"
                          },
                          {
                            "children": [
                              {
                                "text": ",\n    "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Primary THA-TKA Procedures\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "60"
                              },
                              {
                                "children": [
                                  {
                                    "text": " Procedure"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "61"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "where "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "Procedure"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "62"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "relevantPeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "63"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "63"
                              },
                              {
                                "children": [
                                  {
                                    "text": " starts during "
                                  }
                                ],
                                "ref_id": "66"
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "Encounter"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "64"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "relevantPeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "65"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "65"
                              }
                            ],
                            "ref_id": "66"
                          }
                        ],
                        "ref_id": "66"
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "return "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "text": "{\n      "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "QEncounter: "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "Encounter"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "67"
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "text": ",\n      "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "QProcedure: "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "Procedure"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "68"
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "text": "\n    }"
                                  }
                                ]
                              }
                            ],
                            "node_type": "Tuple",
                            "ref_id": "69"
                          }
                        ],
                        "ref_id": "70"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "71"
                  }
                ],
                "ref_id": "72"
              }
            ],
            "define_name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Encounter Related To Elective Primary THA and TKA Procedures With Age\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "73"
                              },
                              {
                                "children": [
                                  {
                                    "text": " QE"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "74"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "with "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "[\"Patient Characteristic Birthdate\"]"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Retrieve",
                                    "ref_id": "75"
                                  }
                                ],
                                "node_type": "Retrieve",
                                "ref_id": "75"
                              },
                              {
                                "children": [
                                  {
                                    "text": " PatientBirthday"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "76"
                          },
                          {
                            "children": [
                              {
                                "text": "\n      such that "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "Global"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "77"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"CalendarAgeInYearsAt\" ( "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "PatientBirthday"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "78"
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "."
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "birthDatetime"
                                                  }
                                                ]
                                              }
                                            ],
                                            "node_type": "Property",
                                            "ref_id": "79"
                                          }
                                        ],
                                        "node_type": "Property",
                                        "ref_id": "79"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": ", "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "start of "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "QE"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "ref_id": "80"
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "."
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "QEncounter"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "ref_id": "81"
                                                  }
                                                ],
                                                "ref_id": "81"
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "text": "."
                                                  }
                                                ]
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "relevantPeriod"
                                                      }
                                                    ]
                                                  }
                                                ],
                                                "node_type": "Property",
                                                "ref_id": "82"
                                              }
                                            ],
                                            "node_type": "Property",
                                            "ref_id": "82"
                                          }
                                        ],
                                        "node_type": "Start",
                                        "ref_id": "83"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": " )"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "FunctionRef",
                                    "ref_id": "84"
                                  }
                                ],
                                "node_type": "FunctionRef",
                                "ref_id": "84"
                              },
                              {
                                "children": [
                                  {
                                    "text": " >= 18"
                                  }
                                ],
                                "node_type": "Literal",
                                "ref_id": "85"
                              }
                            ],
                            "node_type": "GreaterOrEqual",
                            "ref_id": "86"
                          }
                        ],
                        "ref_id": "87"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "88"
                  }
                ],
                "ref_id": "89"
              }
            ],
            "define_name": "Encounter Related To Elective Primary THA and TKA Procedures With Age"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Initial Population\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "text": "exists "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "\"Encounter Related To Elective Primary THA and TKA Procedures With Age\""
                              }
                            ]
                          }
                        ],
                        "node_type": "ExpressionRef",
                        "ref_id": "90"
                      }
                    ],
                    "node_type": "Exists",
                    "ref_id": "91"
                  }
                ],
                "ref_id": "92"
              }
            ],
            "define_name": "Initial Population"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Denominator\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "text": "\"Initial Population\""
                          }
                        ]
                      }
                    ],
                    "node_type": "ExpressionRef",
                    "ref_id": "93"
                  }
                ],
                "ref_id": "94"
              }
            ],
            "define_name": "Denominator"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Transferred From Another Acute Care Facility or Discharged Against Medical Advice During Index Admission\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "95"
                              },
                              {
                                "children": [
                                  {
                                    "text": " QE"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "96"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "where "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "QE"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "97"
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "."
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "QEncounter"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "98"
                                          }
                                        ],
                                        "ref_id": "98"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "."
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "admissionSource"
                                              }
                                            ]
                                          }
                                        ],
                                        "ref_id": "99"
                                      }
                                    ],
                                    "ref_id": "99"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": " in "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Transfer From Acute Care Hospital\""
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "100"
                                  }
                                ],
                                "node_type": "InValueSet",
                                "ref_id": "101"
                              },
                              {
                                "children": [
                                  {
                                    "text": "\n      or "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "QE"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "102"
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "."
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "QEncounter"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "103"
                                          }
                                        ],
                                        "ref_id": "103"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "."
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "dischargeDisposition"
                                              }
                                            ]
                                          }
                                        ],
                                        "ref_id": "104"
                                      }
                                    ],
                                    "ref_id": "104"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": " in "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Left Against Medical Advice\""
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "105"
                                  }
                                ],
                                "node_type": "InValueSet",
                                "ref_id": "106"
                              }
                            ],
                            "ref_id": "107"
                          }
                        ],
                        "ref_id": "107"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "108"
                  }
                ],
                "ref_id": "109"
              }
            ],
            "define_name": "Transferred From Another Acute Care Facility or Discharged Against Medical Advice During Index Admission"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Non-Primary THA_TKA Procedures\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "[\"Procedure, Performed\": "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "\"Nonprimary Total Hip, Total Knee Replacement\""
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "]"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Retrieve",
                                    "ref_id": "113"
                                  }
                                ],
                                "node_type": "Retrieve",
                                "ref_id": "113"
                              },
                              {
                                "children": [
                                  {
                                    "text": " NonPrimaryProcedures"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "114"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "where "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "NonPrimaryProcedures"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "115"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "relevantPeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "116"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "116"
                              },
                              {
                                "children": [
                                  {
                                    "text": " starts during "
                                  }
                                ],
                                "ref_id": "118"
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "\"Measurement Period\""
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ParameterRef",
                                "ref_id": "117"
                              }
                            ],
                            "ref_id": "118"
                          }
                        ],
                        "ref_id": "118"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "119"
                  }
                ],
                "ref_id": "120"
              }
            ],
            "define_name": "Non-Primary THA_TKA Procedures"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Had More Than 2 THA_TKA Procedures Codes During The Index Admission\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "110"
                              },
                              {
                                "children": [
                                  {
                                    "text": " QE"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "111"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": " \n       "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "where "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "Count("
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "("
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "\"Primary THA-TKA Procedures\""
                                                              }
                                                            ]
                                                          }
                                                        ],
                                                        "node_type": "ExpressionRef",
                                                        "ref_id": "112"
                                                      },
                                                      {
                                                        "children": [
                                                          {
                                                            "text": " \n           union "
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "children": [
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "\"Non-Primary THA_TKA Procedures\""
                                                              }
                                                            ]
                                                          }
                                                        ],
                                                        "node_type": "ExpressionRef",
                                                        "ref_id": "121"
                                                      }
                                                    ],
                                                    "node_type": "Union",
                                                    "ref_id": "122"
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "text": ")"
                                                      }
                                                    ]
                                                  }
                                                ],
                                                "node_type": "Union",
                                                "ref_id": "122"
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "text": "Procedures"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "123"
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": " \n           "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "where "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "Procedures"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "ref_id": "124"
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "."
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "relevantPeriod"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "node_type": "Property",
                                                    "ref_id": "125"
                                                  }
                                                ],
                                                "node_type": "Property",
                                                "ref_id": "125"
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "text": " starts during "
                                                  }
                                                ],
                                                "ref_id": "129"
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "QE"
                                                              }
                                                            ]
                                                          }
                                                        ],
                                                        "ref_id": "126"
                                                      },
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "."
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "children": [
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "QEncounter"
                                                              }
                                                            ]
                                                          }
                                                        ],
                                                        "ref_id": "127"
                                                      }
                                                    ],
                                                    "ref_id": "127"
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "."
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "relevantPeriod"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "node_type": "Property",
                                                    "ref_id": "128"
                                                  }
                                                ],
                                                "node_type": "Property",
                                                "ref_id": "128"
                                              }
                                            ],
                                            "ref_id": "129"
                                          }
                                        ],
                                        "ref_id": "129"
                                      }
                                    ],
                                    "ref_id": "130"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": " \n       )"
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "Count",
                                "ref_id": "131"
                              },
                              {
                                "children": [
                                  {
                                    "text": "> 2"
                                  }
                                ],
                                "node_type": "Literal",
                                "ref_id": "132"
                              }
                            ],
                            "ref_id": "133"
                          }
                        ],
                        "ref_id": "133"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "134"
                  }
                ],
                "ref_id": "135"
              }
            ],
            "define_name": "Had More Than 2 THA_TKA Procedures Codes During The Index Admission"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Diagnosed With Renal Insufficiency 365 Days Prior To Procedure\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "[\"Diagnosis\": "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "\"Renal insufficiency\""
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "]"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Retrieve",
                                    "ref_id": "136"
                                  }
                                ],
                                "node_type": "Retrieve",
                                "ref_id": "136"
                              },
                              {
                                "children": [
                                  {
                                    "text": " RenalDiagnosis"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "137"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "with "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "138"
                              },
                              {
                                "children": [
                                  {
                                    "text": " QP"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "139"
                          },
                          {
                            "children": [
                              {
                                "text": "\n      such that "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "RenalDiagnosis"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "140"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "prevalencePeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "141"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "141"
                              },
                              {
                                "children": [
                                  {
                                    "text": " "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "starts "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "365 days"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Quantity",
                                    "ref_id": "146"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": " or less on or before"
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "And",
                                "ref_id": "147"
                              },
                              {
                                "children": [
                                  {
                                    "text": " "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "start of "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "QP"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "142"
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "."
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "QProcedure"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "143"
                                          }
                                        ],
                                        "ref_id": "143"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "."
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "relevantPeriod"
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "Property",
                                        "ref_id": "144"
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "144"
                                  }
                                ],
                                "node_type": "Start",
                                "ref_id": "145"
                              }
                            ],
                            "node_type": "And",
                            "ref_id": "147"
                          }
                        ],
                        "ref_id": "148"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "149"
                  }
                ],
                "ref_id": "150"
              }
            ],
            "define_name": "Diagnosed With Renal Insufficiency 365 Days Prior To Procedure"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Diagnosed With Atrial Fibrillation 365 Days Prior To Procedure\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "[\"Diagnosis\": "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "\"Atrial Fibrillation\""
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "]"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Retrieve",
                                    "ref_id": "151"
                                  }
                                ],
                                "node_type": "Retrieve",
                                "ref_id": "151"
                              },
                              {
                                "children": [
                                  {
                                    "text": " AFDiagnosis"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "152"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "with "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "153"
                              },
                              {
                                "children": [
                                  {
                                    "text": " QP"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "154"
                          },
                          {
                            "children": [
                              {
                                "text": "\n      such that "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "AFDiagnosis"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "155"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "prevalencePeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "156"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "156"
                              },
                              {
                                "children": [
                                  {
                                    "text": " "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "starts "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "365 days"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Quantity",
                                    "ref_id": "161"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": " or less on or before"
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "And",
                                "ref_id": "162"
                              },
                              {
                                "children": [
                                  {
                                    "text": " "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "start of "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "QP"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "157"
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "."
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "QProcedure"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "158"
                                          }
                                        ],
                                        "ref_id": "158"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "."
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "relevantPeriod"
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "Property",
                                        "ref_id": "159"
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "159"
                                  }
                                ],
                                "node_type": "Start",
                                "ref_id": "160"
                              }
                            ],
                            "node_type": "And",
                            "ref_id": "162"
                          }
                        ],
                        "ref_id": "163"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "164"
                  }
                ],
                "ref_id": "165"
              }
            ],
            "define_name": "Diagnosed With Atrial Fibrillation 365 Days Prior To Procedure"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Diagnosed With Cancer 365 Days Prior To Procedure\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "[\"Diagnosis\": "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "\"Cancer\""
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "]"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Retrieve",
                                    "ref_id": "166"
                                  }
                                ],
                                "node_type": "Retrieve",
                                "ref_id": "166"
                              },
                              {
                                "children": [
                                  {
                                    "text": " CancerDiagnosis"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "167"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "with "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "168"
                              },
                              {
                                "children": [
                                  {
                                    "text": " QP"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "169"
                          },
                          {
                            "children": [
                              {
                                "text": "\n      such that "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "CancerDiagnosis"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "170"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "prevalencePeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "171"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "171"
                              },
                              {
                                "children": [
                                  {
                                    "text": " "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "starts "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "365 days"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Quantity",
                                    "ref_id": "176"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": " or less on or before"
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "And",
                                "ref_id": "177"
                              },
                              {
                                "children": [
                                  {
                                    "text": " "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "start of "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "QP"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "172"
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "."
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "QProcedure"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "173"
                                          }
                                        ],
                                        "ref_id": "173"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "."
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "relevantPeriod"
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "Property",
                                        "ref_id": "174"
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "174"
                                  }
                                ],
                                "node_type": "Start",
                                "ref_id": "175"
                              }
                            ],
                            "node_type": "And",
                            "ref_id": "177"
                          }
                        ],
                        "ref_id": "178"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "179"
                  }
                ],
                "ref_id": "180"
              }
            ],
            "define_name": "Diagnosed With Cancer 365 Days Prior To Procedure"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Received Anticoagulant Medication Injection Between 10-90 Days Prior To Surgery Date\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "[\"Medication, Order\": "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "\"Anticoagulant Medications, Injection\""
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "]"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Retrieve",
                                    "ref_id": "181"
                                  }
                                ],
                                "node_type": "Retrieve",
                                "ref_id": "181"
                              },
                              {
                                "children": [
                                  {
                                    "text": " AntiCoagMed"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "182"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "with "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "183"
                              },
                              {
                                "children": [
                                  {
                                    "text": " QP"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "184"
                          },
                          {
                            "children": [
                              {
                                "text": "\n      such that "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "AntiCoagMed"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "185"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "relevantPeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "186"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "186"
                              },
                              {
                                "children": [
                                  {
                                    "text": " starts during "
                                  }
                                ],
                                "node_type": "In",
                                "ref_id": "200"
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "Interval["
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "start of "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "QP"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "ref_id": "187"
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "."
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "QProcedure"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "ref_id": "188"
                                                  }
                                                ],
                                                "ref_id": "188"
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "text": "."
                                                  }
                                                ]
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "relevantPeriod"
                                                      }
                                                    ]
                                                  }
                                                ],
                                                "node_type": "Property",
                                                "ref_id": "189"
                                              }
                                            ],
                                            "node_type": "Property",
                                            "ref_id": "189"
                                          }
                                        ],
                                        "node_type": "Start",
                                        "ref_id": "190"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": " - "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "90 days"
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "Quantity",
                                        "ref_id": "191"
                                      }
                                    ],
                                    "ref_id": "192"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": ", "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "start of "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "QP"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "ref_id": "193"
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "."
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "QProcedure"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "ref_id": "194"
                                                  }
                                                ],
                                                "ref_id": "194"
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "text": "."
                                                  }
                                                ]
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "relevantPeriod"
                                                      }
                                                    ]
                                                  }
                                                ],
                                                "node_type": "Property",
                                                "ref_id": "195"
                                              }
                                            ],
                                            "node_type": "Property",
                                            "ref_id": "195"
                                          }
                                        ],
                                        "node_type": "Start",
                                        "ref_id": "196"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": " - "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "10 days"
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "Quantity",
                                        "ref_id": "197"
                                      }
                                    ],
                                    "ref_id": "198"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "]"
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "Interval",
                                "ref_id": "199"
                              }
                            ],
                            "node_type": "In",
                            "ref_id": "200"
                          }
                        ],
                        "ref_id": "201"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "202"
                  }
                ],
                "ref_id": "203"
              }
            ],
            "define_name": "Received Anticoagulant Medication Injection Between 10-90 Days Prior To Surgery Date"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Received Oral Anticoagulant Medications Between 10-90 Days Prior To Procedure\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "[\"Medication, Order\": "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "\"Anticoagulant Medications, Oral\""
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "]"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Retrieve",
                                    "ref_id": "204"
                                  }
                                ],
                                "node_type": "Retrieve",
                                "ref_id": "204"
                              },
                              {
                                "children": [
                                  {
                                    "text": " AntiCoagMed"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "205"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "with "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "206"
                              },
                              {
                                "children": [
                                  {
                                    "text": " QP"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "207"
                          },
                          {
                            "children": [
                              {
                                "text": "\n      such that "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "AntiCoagMed"
                                              }
                                            ]
                                          }
                                        ],
                                        "ref_id": "208"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "."
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "relevantPeriod"
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "Property",
                                        "ref_id": "209"
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "209"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": " starts during "
                                      }
                                    ],
                                    "node_type": "In",
                                    "ref_id": "223"
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "Interval["
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "start of "
                                                  }
                                                ]
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "QP"
                                                              }
                                                            ]
                                                          }
                                                        ],
                                                        "ref_id": "210"
                                                      },
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "."
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "children": [
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "QProcedure"
                                                              }
                                                            ]
                                                          }
                                                        ],
                                                        "ref_id": "211"
                                                      }
                                                    ],
                                                    "ref_id": "211"
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "."
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "relevantPeriod"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "node_type": "Property",
                                                    "ref_id": "212"
                                                  }
                                                ],
                                                "node_type": "Property",
                                                "ref_id": "212"
                                              }
                                            ],
                                            "node_type": "Start",
                                            "ref_id": "213"
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": " - "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "90 days"
                                                  }
                                                ]
                                              }
                                            ],
                                            "node_type": "Quantity",
                                            "ref_id": "214"
                                          }
                                        ],
                                        "ref_id": "215"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": ", "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "start of "
                                                  }
                                                ]
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "QP"
                                                              }
                                                            ]
                                                          }
                                                        ],
                                                        "ref_id": "216"
                                                      },
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "."
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "children": [
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "QProcedure"
                                                              }
                                                            ]
                                                          }
                                                        ],
                                                        "ref_id": "217"
                                                      }
                                                    ],
                                                    "ref_id": "217"
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "."
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "relevantPeriod"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "node_type": "Property",
                                                    "ref_id": "218"
                                                  }
                                                ],
                                                "node_type": "Property",
                                                "ref_id": "218"
                                              }
                                            ],
                                            "node_type": "Start",
                                            "ref_id": "219"
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": " - "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "10 days"
                                                  }
                                                ]
                                              }
                                            ],
                                            "node_type": "Quantity",
                                            "ref_id": "220"
                                          }
                                        ],
                                        "ref_id": "221"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "]"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Interval",
                                    "ref_id": "222"
                                  }
                                ],
                                "node_type": "In",
                                "ref_id": "223"
                              },
                              {
                                "children": [
                                  {
                                    "text": "\n        and "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "AntiCoagMed"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "224"
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "."
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "supply"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "225"
                                          }
                                        ],
                                        "ref_id": "225"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "."
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "value"
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "Property",
                                        "ref_id": "226"
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "226"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": " > 1"
                                      }
                                    ],
                                    "node_type": "Literal",
                                    "ref_id": "227"
                                  }
                                ],
                                "node_type": "Greater",
                                "ref_id": "228"
                              }
                            ],
                            "node_type": "And",
                            "ref_id": "229"
                          }
                        ],
                        "ref_id": "230"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "231"
                  }
                ],
                "ref_id": "232"
              }
            ],
            "define_name": "Received Oral Anticoagulant Medications Between 10-90 Days Prior To Procedure"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Diagnosed With Coagulation Disorder 365 Days Prior To Procedure\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "[\"Diagnosis\": "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "\"Coagulation Disorder Conditions\""
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "]"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Retrieve",
                                    "ref_id": "233"
                                  }
                                ],
                                "node_type": "Retrieve",
                                "ref_id": "233"
                              },
                              {
                                "children": [
                                  {
                                    "text": " CoagDisorderDiagnosis"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "234"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "with "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "235"
                              },
                              {
                                "children": [
                                  {
                                    "text": " QP"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "236"
                          },
                          {
                            "children": [
                              {
                                "text": "\n      such that "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "CoagDisorderDiagnosis"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "237"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "prevalencePeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "238"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "238"
                              },
                              {
                                "children": [
                                  {
                                    "text": " "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "starts "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "365 days"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Quantity",
                                    "ref_id": "243"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": " or less on or before"
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "And",
                                "ref_id": "244"
                              },
                              {
                                "children": [
                                  {
                                    "text": " "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "start of "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "QP"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "239"
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "."
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "QProcedure"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "240"
                                          }
                                        ],
                                        "ref_id": "240"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "."
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "relevantPeriod"
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "Property",
                                        "ref_id": "241"
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "241"
                                  }
                                ],
                                "node_type": "Start",
                                "ref_id": "242"
                              }
                            ],
                            "node_type": "And",
                            "ref_id": "244"
                          }
                        ],
                        "ref_id": "245"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "246"
                  }
                ],
                "ref_id": "247"
              }
            ],
            "define_name": "Diagnosed With Coagulation Disorder 365 Days Prior To Procedure"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Diagnosed With Excluded Conditions Within 90 Days Prior To The Index Admission\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "( "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "[\"Diagnosis\": "
                                                  }
                                                ]
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "\"Malignant Neoplasm Complications Related To Hip and Knee Procedures\""
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "text": "]"
                                                  }
                                                ]
                                              }
                                            ],
                                            "node_type": "Retrieve",
                                            "ref_id": "248"
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "\n    union "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "[\"Diagnosis\": "
                                                  }
                                                ]
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "\"Mechanical Complications Related To Hip and Knee Procedures\""
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "text": "]"
                                                  }
                                                ]
                                              }
                                            ],
                                            "node_type": "Retrieve",
                                            "ref_id": "249"
                                          }
                                        ],
                                        "node_type": "Union",
                                        "ref_id": "250"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "\n    union "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "[\"Diagnosis\": "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "\"Fracture Exclusions For Hip And Knee Procedures\""
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "]"
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "Retrieve",
                                        "ref_id": "251"
                                      }
                                    ],
                                    "node_type": "Union",
                                    "ref_id": "252"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": " )"
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "Union",
                                "ref_id": "252"
                              },
                              {
                                "children": [
                                  {
                                    "text": " ExistingConditions"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "253"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "with "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "254"
                              },
                              {
                                "children": [
                                  {
                                    "text": " QE"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "255"
                          },
                          {
                            "children": [
                              {
                                "text": "\n      such that "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "ExistingConditions"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "256"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "prevalencePeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "257"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "257"
                              },
                              {
                                "children": [
                                  {
                                    "text": " "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "starts "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "90 days"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Quantity",
                                    "ref_id": "262"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": " or less on or before"
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "And",
                                "ref_id": "263"
                              },
                              {
                                "children": [
                                  {
                                    "text": " "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "start of "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "QE"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "258"
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "."
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "QEncounter"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "259"
                                          }
                                        ],
                                        "ref_id": "259"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "."
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "relevantPeriod"
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "Property",
                                        "ref_id": "260"
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "260"
                                  }
                                ],
                                "node_type": "Start",
                                "ref_id": "261"
                              }
                            ],
                            "node_type": "And",
                            "ref_id": "263"
                          }
                        ],
                        "ref_id": "264"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "265"
                  }
                ],
                "ref_id": "266"
              }
            ],
            "define_name": "Diagnosed With Excluded Conditions Within 90 Days Prior To The Index Admission"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Had Additional Surgery Within 35 Days Post-Procedure\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "[\"Procedure, Performed\": "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "\"General Surgery\""
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "]"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Retrieve",
                                    "ref_id": "267"
                                  }
                                ],
                                "node_type": "Retrieve",
                                "ref_id": "267"
                              },
                              {
                                "children": [
                                  {
                                    "text": " AdditionalProcedure"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "268"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "with "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "269"
                              },
                              {
                                "children": [
                                  {
                                    "text": " QP"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "270"
                          },
                          {
                            "children": [
                              {
                                "text": "\n      such that "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "AdditionalProcedure"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "271"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "relevantPeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "272"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "272"
                              },
                              {
                                "children": [
                                  {
                                    "text": " "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "starts "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "35 days"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Quantity",
                                    "ref_id": "277"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": " or less on or after"
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "And",
                                "ref_id": "278"
                              },
                              {
                                "children": [
                                  {
                                    "text": " "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "start of "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "QP"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "273"
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "."
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "QProcedure"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "274"
                                          }
                                        ],
                                        "ref_id": "274"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "."
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "relevantPeriod"
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "Property",
                                        "ref_id": "275"
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "275"
                                  }
                                ],
                                "node_type": "Start",
                                "ref_id": "276"
                              }
                            ],
                            "node_type": "And",
                            "ref_id": "278"
                          }
                        ],
                        "ref_id": "279"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "280"
                  }
                ],
                "ref_id": "281"
              }
            ],
            "define_name": "Had Additional Surgery Within 35 Days Post-Procedure"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Common Denominator Exclusions\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "exists "
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "children": [
                                                              {
                                                                "children": [
                                                                  {
                                                                    "text": "\"Transferred From Another Acute Care Facility or Discharged Against Medical Advice During Index Admission\""
                                                                  }
                                                                ]
                                                              }
                                                            ],
                                                            "node_type": "ExpressionRef",
                                                            "ref_id": "282"
                                                          }
                                                        ],
                                                        "node_type": "Exists",
                                                        "ref_id": "283"
                                                      },
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "\n    or "
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "children": [
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "exists "
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "children": [
                                                              {
                                                                "children": [
                                                                  {
                                                                    "text": "\"Had More Than 2 THA_TKA Procedures Codes During The Index Admission\""
                                                                  }
                                                                ]
                                                              }
                                                            ],
                                                            "node_type": "ExpressionRef",
                                                            "ref_id": "284"
                                                          }
                                                        ],
                                                        "node_type": "Exists",
                                                        "ref_id": "285"
                                                      }
                                                    ],
                                                    "node_type": "Or",
                                                    "ref_id": "286"
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "\n    or "
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "exists "
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "children": [
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "\"Diagnosed With Renal Insufficiency 365 Days Prior To Procedure\""
                                                              }
                                                            ]
                                                          }
                                                        ],
                                                        "node_type": "ExpressionRef",
                                                        "ref_id": "287"
                                                      }
                                                    ],
                                                    "node_type": "Exists",
                                                    "ref_id": "288"
                                                  }
                                                ],
                                                "node_type": "Or",
                                                "ref_id": "289"
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "text": "\n    or "
                                                  }
                                                ]
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "exists "
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "\"Diagnosed With Atrial Fibrillation 365 Days Prior To Procedure\""
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "node_type": "ExpressionRef",
                                                    "ref_id": "290"
                                                  }
                                                ],
                                                "node_type": "Exists",
                                                "ref_id": "291"
                                              }
                                            ],
                                            "node_type": "Or",
                                            "ref_id": "292"
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "\n    or "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "exists "
                                                  }
                                                ]
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "\"Diagnosed With Cancer 365 Days Prior To Procedure\""
                                                      }
                                                    ]
                                                  }
                                                ],
                                                "node_type": "ExpressionRef",
                                                "ref_id": "293"
                                              }
                                            ],
                                            "node_type": "Exists",
                                            "ref_id": "294"
                                          }
                                        ],
                                        "node_type": "Or",
                                        "ref_id": "295"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "\n    or "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "exists "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "\"Received Anticoagulant Medication Injection Between 10-90 Days Prior To Surgery Date\""
                                                  }
                                                ]
                                              }
                                            ],
                                            "node_type": "ExpressionRef",
                                            "ref_id": "296"
                                          }
                                        ],
                                        "node_type": "Exists",
                                        "ref_id": "297"
                                      }
                                    ],
                                    "node_type": "Or",
                                    "ref_id": "298"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "\n    or "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "exists "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "\"Received Oral Anticoagulant Medications Between 10-90 Days Prior To Procedure\""
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "ExpressionRef",
                                        "ref_id": "299"
                                      }
                                    ],
                                    "node_type": "Exists",
                                    "ref_id": "300"
                                  }
                                ],
                                "node_type": "Or",
                                "ref_id": "301"
                              },
                              {
                                "children": [
                                  {
                                    "text": "\n    or "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "exists "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Diagnosed With Coagulation Disorder 365 Days Prior To Procedure\""
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "ExpressionRef",
                                    "ref_id": "302"
                                  }
                                ],
                                "node_type": "Exists",
                                "ref_id": "303"
                              }
                            ],
                            "node_type": "Or",
                            "ref_id": "304"
                          },
                          {
                            "children": [
                              {
                                "text": "\n    or "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "text": "exists "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "\"Diagnosed With Excluded Conditions Within 90 Days Prior To The Index Admission\""
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "305"
                              }
                            ],
                            "node_type": "Exists",
                            "ref_id": "306"
                          }
                        ],
                        "node_type": "Or",
                        "ref_id": "307"
                      },
                      {
                        "children": [
                          {
                            "text": "\n    or "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "exists "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "text": "\"Had Additional Surgery Within 35 Days Post-Procedure\""
                                  }
                                ]
                              }
                            ],
                            "node_type": "ExpressionRef",
                            "ref_id": "308"
                          }
                        ],
                        "node_type": "Exists",
                        "ref_id": "309"
                      }
                    ],
                    "node_type": "Or",
                    "ref_id": "310"
                  }
                ],
                "ref_id": "311"
              }
            ],
            "define_name": "Common Denominator Exclusions"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Most Recent Documented BMI\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "text": "Last("
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "[\"Physical Exam, Performed\": "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "\"Body mass index (BMI) [Ratio]\""
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "]"
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "Retrieve",
                                        "ref_id": "327"
                                      }
                                    ],
                                    "node_type": "Retrieve",
                                    "ref_id": "327"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": " LastBMI"
                                      }
                                    ]
                                  }
                                ],
                                "ref_id": "328"
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "text": "\n      "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "text": "with "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "ExpressionRef",
                                    "ref_id": "329"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": " QualifyingEncounter"
                                      }
                                    ]
                                  }
                                ],
                                "ref_id": "330"
                              },
                              {
                                "children": [
                                  {
                                    "text": "\n        such that"
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "("
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "LastBMI"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "ref_id": "331"
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "."
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "relevantPeriod"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "node_type": "Property",
                                                    "ref_id": "332"
                                                  }
                                                ],
                                                "node_type": "Property",
                                                "ref_id": "332"
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "text": " "
                                                  }
                                                ]
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "starts "
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "12 months"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "node_type": "Quantity",
                                                    "ref_id": "337"
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "text": " or less on or before"
                                                      }
                                                    ]
                                                  }
                                                ],
                                                "node_type": "And",
                                                "ref_id": "338"
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "text": " "
                                                  }
                                                ]
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "start of "
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "children": [
                                                              {
                                                                "children": [
                                                                  {
                                                                    "text": "QualifyingEncounter"
                                                                  }
                                                                ]
                                                              }
                                                            ],
                                                            "ref_id": "333"
                                                          },
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "."
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "children": [
                                                              {
                                                                "children": [
                                                                  {
                                                                    "text": "QEncounter"
                                                                  }
                                                                ]
                                                              }
                                                            ],
                                                            "ref_id": "334"
                                                          }
                                                        ],
                                                        "ref_id": "334"
                                                      },
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "."
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "children": [
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "relevantPeriod"
                                                              }
                                                            ]
                                                          }
                                                        ],
                                                        "node_type": "Property",
                                                        "ref_id": "335"
                                                      }
                                                    ],
                                                    "node_type": "Property",
                                                    "ref_id": "335"
                                                  }
                                                ],
                                                "node_type": "Start",
                                                "ref_id": "336"
                                              }
                                            ],
                                            "node_type": "And",
                                            "ref_id": "338"
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "\n            or "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "LastBMI"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "ref_id": "339"
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "."
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "relevantPeriod"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "node_type": "Property",
                                                    "ref_id": "340"
                                                  }
                                                ],
                                                "node_type": "Property",
                                                "ref_id": "340"
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "text": " starts during "
                                                  }
                                                ],
                                                "node_type": "In",
                                                "ref_id": "344"
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "QualifyingEncounter"
                                                              }
                                                            ]
                                                          }
                                                        ],
                                                        "ref_id": "341"
                                                      },
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "."
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "children": [
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "QEncounter"
                                                              }
                                                            ]
                                                          }
                                                        ],
                                                        "ref_id": "342"
                                                      }
                                                    ],
                                                    "ref_id": "342"
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "."
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "relevantPeriod"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "node_type": "Property",
                                                    "ref_id": "343"
                                                  }
                                                ],
                                                "node_type": "Property",
                                                "ref_id": "343"
                                              }
                                            ],
                                            "node_type": "In",
                                            "ref_id": "344"
                                          }
                                        ],
                                        "node_type": "Or",
                                        "ref_id": "345"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "\n        )"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Or",
                                    "ref_id": "345"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "\n          and "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "LastBMI"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "346"
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "."
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "result"
                                                  }
                                                ]
                                              }
                                            ],
                                            "node_type": "Property",
                                            "ref_id": "347"
                                          }
                                        ],
                                        "node_type": "Property",
                                        "ref_id": "347"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": " is not null"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Not",
                                    "ref_id": "348"
                                  }
                                ],
                                "node_type": "And",
                                "ref_id": "349"
                              }
                            ],
                            "ref_id": "350"
                          },
                          {
                            "children": [
                              {
                                "text": "\n      "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "text": "sort by "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "authorDatetime"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "351"
                                  }
                                ],
                                "ref_id": "352"
                              }
                            ],
                            "ref_id": "353"
                          }
                        ],
                        "ref_id": "354"
                      },
                      {
                        "children": [
                          {
                            "text": "\n  )"
                          }
                        ]
                      }
                    ],
                    "node_type": "Last",
                    "ref_id": "355"
                  }
                ],
                "ref_id": "356"
              }
            ],
            "define_name": "Most Recent Documented BMI"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Has Normal BMI\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Most Recent Documented BMI\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "357"
                              },
                              {
                                "children": [
                                  {
                                    "text": " BMIValue"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "358"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "where "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "BMIValue"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "359"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "result"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "360"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "360"
                              },
                              {
                                "children": [
                                  {
                                    "text": " included in "
                                  }
                                ],
                                "ref_id": "364"
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "Interval["
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "18.5 'kg/m2'"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "361"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": ", "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "25 'kg/m2'"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "362"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": " )"
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "Interval",
                                "ref_id": "363"
                              }
                            ],
                            "ref_id": "364"
                          }
                        ],
                        "ref_id": "364"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "365"
                  }
                ],
                "ref_id": "366"
              }
            ],
            "define_name": "Has Normal BMI"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Screened and Identified as Tobacco User\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "( "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "Last("
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "[\"Assessment, Performed\": "
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "children": [
                                                              {
                                                                "children": [
                                                                  {
                                                                    "text": "\"Tobacco Use Screening\""
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "]"
                                                              }
                                                            ]
                                                          }
                                                        ],
                                                        "node_type": "Retrieve",
                                                        "ref_id": "367"
                                                      }
                                                    ],
                                                    "node_type": "Retrieve",
                                                    "ref_id": "367"
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "text": " TobaccoUseScreening"
                                                      }
                                                    ]
                                                  }
                                                ],
                                                "ref_id": "368"
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "\n      "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "where "
                                                  }
                                                ]
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "TobaccoUseScreening"
                                                              }
                                                            ]
                                                          }
                                                        ],
                                                        "ref_id": "369"
                                                      },
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "."
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "children": [
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "authorDatetime"
                                                              }
                                                            ]
                                                          }
                                                        ],
                                                        "node_type": "Property",
                                                        "ref_id": "370"
                                                      }
                                                    ],
                                                    "node_type": "Property",
                                                    "ref_id": "370"
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "text": " "
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "24 months"
                                                              }
                                                            ]
                                                          }
                                                        ],
                                                        "node_type": "Quantity",
                                                        "ref_id": "373"
                                                      },
                                                      {
                                                        "children": [
                                                          {
                                                            "text": " or less on or before"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "ref_id": "374"
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "text": " \n      "
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "end of "
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "children": [
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "\"Measurement Period\""
                                                              }
                                                            ]
                                                          }
                                                        ],
                                                        "node_type": "ParameterRef",
                                                        "ref_id": "371"
                                                      }
                                                    ],
                                                    "node_type": "End",
                                                    "ref_id": "372"
                                                  }
                                                ],
                                                "ref_id": "374"
                                              }
                                            ],
                                            "ref_id": "374"
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "\n      "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "sort by "
                                                  }
                                                ]
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "authorDatetime"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "ref_id": "375"
                                                  }
                                                ],
                                                "ref_id": "376"
                                              }
                                            ],
                                            "ref_id": "377"
                                          }
                                        ],
                                        "ref_id": "378"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "\n  )"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Last",
                                    "ref_id": "379"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": ")"
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "Last",
                                "ref_id": "379"
                              },
                              {
                                "children": [
                                  {
                                    "text": " MostRecentTobaccoUseScreening"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "380"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "where "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "MostRecentTobaccoUseScreening"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "381"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "result"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "382"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "382"
                              },
                              {
                                "children": [
                                  {
                                    "text": " in "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "\"Current Smoking Tobacco User\""
                                      }
                                    ]
                                  }
                                ],
                                "ref_id": "383"
                              }
                            ],
                            "ref_id": "384"
                          }
                        ],
                        "ref_id": "384"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "385"
                  }
                ],
                "ref_id": "386"
              }
            ],
            "define_name": "Screened and Identified as Tobacco User"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Existing Comorbidities Prior To Surgery\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "[\"Diagnosis\": "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "\"Comorbidity Risk Factors\""
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "]"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Retrieve",
                                    "ref_id": "387"
                                  }
                                ],
                                "node_type": "Retrieve",
                                "ref_id": "387"
                              },
                              {
                                "children": [
                                  {
                                    "text": " Comorbidities"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "388"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "with "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "389"
                              },
                              {
                                "children": [
                                  {
                                    "text": " QualifyingEncounter"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "390"
                          },
                          {
                            "children": [
                              {
                                "text": "\n      such that "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "Comorbidities"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "391"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "prevalencePeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "392"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "392"
                              },
                              {
                                "children": [
                                  {
                                    "text": " "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "starts "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "12 months"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Quantity",
                                    "ref_id": "397"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": " or less on or before"
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "And",
                                "ref_id": "398"
                              },
                              {
                                "children": [
                                  {
                                    "text": " "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "start of "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "QualifyingEncounter"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "393"
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "."
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "QEncounter"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "394"
                                          }
                                        ],
                                        "ref_id": "394"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "."
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "relevantPeriod"
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "Property",
                                        "ref_id": "395"
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "395"
                                  }
                                ],
                                "node_type": "Start",
                                "ref_id": "396"
                              }
                            ],
                            "node_type": "And",
                            "ref_id": "398"
                          }
                        ],
                        "ref_id": "399"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "400"
                  }
                ],
                "ref_id": "401"
              }
            ],
            "define_name": "Existing Comorbidities Prior To Surgery"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Reasonable Risk Factors\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "text": "{\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "AbnormalBMI: "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "\"Has Normal BMI\""
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "402"
                              },
                              {
                                "children": [
                                  {
                                    "text": " is null"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "403"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": ",\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "TobacoUser: "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "\"Screened and Identified as Tobacco User\""
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "404"
                              },
                              {
                                "children": [
                                  {
                                    "text": " is not null"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "405"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": ",\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "HadExistingComorbidities: "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "text": "\"Existing Comorbidities Prior To Surgery\""
                                  }
                                ]
                              }
                            ],
                            "ref_id": "406"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n  }"
                          }
                        ]
                      }
                    ],
                    "node_type": "Tuple",
                    "ref_id": "407"
                  }
                ],
                "ref_id": "408"
              }
            ],
            "define_name": "Reasonable Risk Factors"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Diagnosed With Major Bleeding During The Index Admission\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "( "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "[\"Diagnosis\": "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "\"General Major Bleeding Events\""
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "]"
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "Retrieve",
                                        "ref_id": "426"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "\n    union "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "[\"Diagnosis\": "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "\"Active Bleeding\""
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "]"
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "Retrieve",
                                        "ref_id": "427"
                                      }
                                    ],
                                    "node_type": "Union",
                                    "ref_id": "428"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": " )"
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "Union",
                                "ref_id": "428"
                              },
                              {
                                "children": [
                                  {
                                    "text": " MBDiagnosis"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "429"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "with "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "430"
                              },
                              {
                                "children": [
                                  {
                                    "text": " QE"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "431"
                          },
                          {
                            "children": [
                              {
                                "text": "\n      such that "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "MBDiagnosis"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "432"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "prevalencePeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "433"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "433"
                              },
                              {
                                "children": [
                                  {
                                    "text": " starts during "
                                  }
                                ],
                                "node_type": "In",
                                "ref_id": "437"
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "QE"
                                              }
                                            ]
                                          }
                                        ],
                                        "ref_id": "434"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "."
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "QEncounter"
                                              }
                                            ]
                                          }
                                        ],
                                        "ref_id": "435"
                                      }
                                    ],
                                    "ref_id": "435"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "relevantPeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "436"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "436"
                              }
                            ],
                            "node_type": "In",
                            "ref_id": "437"
                          }
                        ],
                        "ref_id": "438"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "439"
                  }
                ],
                "ref_id": "440"
              }
            ],
            "define_name": "Diagnosed With Major Bleeding During The Index Admission"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Had Treatment of Hemorrhage or Hematoma During The Index Admission\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "[\"Procedure, Performed\": "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "\"Treatment of Hemorrhage or Hematoma\""
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "]"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Retrieve",
                                    "ref_id": "455"
                                  }
                                ],
                                "node_type": "Retrieve",
                                "ref_id": "455"
                              },
                              {
                                "children": [
                                  {
                                    "text": " Treatment"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "456"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "with "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "457"
                              },
                              {
                                "children": [
                                  {
                                    "text": " QE"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "458"
                          },
                          {
                            "children": [
                              {
                                "text": "\n      such that "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "Treatment"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "459"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "relevantPeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "460"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "460"
                              },
                              {
                                "children": [
                                  {
                                    "text": " starts during "
                                  }
                                ],
                                "node_type": "In",
                                "ref_id": "464"
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "QE"
                                              }
                                            ]
                                          }
                                        ],
                                        "ref_id": "461"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "."
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "QEncounter"
                                              }
                                            ]
                                          }
                                        ],
                                        "ref_id": "462"
                                      }
                                    ],
                                    "ref_id": "462"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "relevantPeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "463"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "463"
                              }
                            ],
                            "node_type": "In",
                            "ref_id": "464"
                          }
                        ],
                        "ref_id": "465"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "466"
                  }
                ],
                "ref_id": "467"
              }
            ],
            "define_name": "Had Treatment of Hemorrhage or Hematoma During The Index Admission"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Postoperative Encounter Related To Treatment of Hemorrhage or Hematoma 35 Days After Surgery\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Postoperative Encounter Related To Treatment of Hemorrhage or Hematoma\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "480"
                              },
                              {
                                "children": [
                                  {
                                    "text": " HHEncounter"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "481"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "with "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "482"
                              },
                              {
                                "children": [
                                  {
                                    "text": " QualifyingProcedure"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "483"
                          },
                          {
                            "children": [
                              {
                                "text": "\n      such that "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "HHEncounter"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "484"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "relevantPeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "485"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "485"
                              },
                              {
                                "children": [
                                  {
                                    "text": " "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "starts "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "35 days"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Quantity",
                                    "ref_id": "490"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": " or less after"
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "And",
                                "ref_id": "491"
                              },
                              {
                                "children": [
                                  {
                                    "text": " "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "start of "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "QualifyingProcedure"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "486"
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "."
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "QProcedure"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "487"
                                          }
                                        ],
                                        "ref_id": "487"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "."
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "relevantPeriod"
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "Property",
                                        "ref_id": "488"
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "488"
                                  }
                                ],
                                "node_type": "Start",
                                "ref_id": "489"
                              }
                            ],
                            "node_type": "And",
                            "ref_id": "491"
                          }
                        ],
                        "ref_id": "492"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "493"
                  }
                ],
                "ref_id": "494"
              }
            ],
            "define_name": "Postoperative Encounter Related To Treatment of Hemorrhage or Hematoma 35 Days After Surgery"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Postoperative Encounter Related To Major Bleeding 35 Days After Surgery\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Postoperative Encounter Related To Major Bleeding\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "495"
                              },
                              {
                                "children": [
                                  {
                                    "text": " MBEncounter"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "496"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "with "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "497"
                              },
                              {
                                "children": [
                                  {
                                    "text": " QualifyingProcedure"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "498"
                          },
                          {
                            "children": [
                              {
                                "text": "\n      such that "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "MBEncounter"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "499"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "relevantPeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "500"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "500"
                              },
                              {
                                "children": [
                                  {
                                    "text": " "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "starts "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "35 days"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Quantity",
                                    "ref_id": "505"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": " or less after"
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "And",
                                "ref_id": "506"
                              },
                              {
                                "children": [
                                  {
                                    "text": " "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "start of "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "QualifyingProcedure"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "501"
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "."
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "QProcedure"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "502"
                                          }
                                        ],
                                        "ref_id": "502"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "."
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "relevantPeriod"
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "Property",
                                        "ref_id": "503"
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "503"
                                  }
                                ],
                                "node_type": "Start",
                                "ref_id": "504"
                              }
                            ],
                            "node_type": "And",
                            "ref_id": "506"
                          }
                        ],
                        "ref_id": "507"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "508"
                  }
                ],
                "ref_id": "509"
              }
            ],
            "define_name": "Postoperative Encounter Related To Major Bleeding 35 Days After Surgery"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Diagnosed With VTE or DVT During The Index Admission\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "( "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "[\"Diagnosis\": "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "\"Venous Thromboembolism\""
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "]"
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "Retrieve",
                                        "ref_id": "510"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "\n    union "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "[\"Diagnosis\": "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "\"Pulmonary Embolism or DVT\""
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "]"
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "Retrieve",
                                        "ref_id": "511"
                                      }
                                    ],
                                    "node_type": "Union",
                                    "ref_id": "512"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": " )"
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "Union",
                                "ref_id": "512"
                              },
                              {
                                "children": [
                                  {
                                    "text": " DVTDiagnosis"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "513"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "with "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "514"
                              },
                              {
                                "children": [
                                  {
                                    "text": " QE"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "515"
                          },
                          {
                            "children": [
                              {
                                "text": "\n      such that "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "DVTDiagnosis"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "516"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "prevalencePeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "517"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "517"
                              },
                              {
                                "children": [
                                  {
                                    "text": " starts during "
                                  }
                                ],
                                "node_type": "In",
                                "ref_id": "521"
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "QE"
                                              }
                                            ]
                                          }
                                        ],
                                        "ref_id": "518"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "."
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "QEncounter"
                                              }
                                            ]
                                          }
                                        ],
                                        "ref_id": "519"
                                      }
                                    ],
                                    "ref_id": "519"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "relevantPeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "520"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "520"
                              }
                            ],
                            "node_type": "In",
                            "ref_id": "521"
                          }
                        ],
                        "ref_id": "522"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "523"
                  }
                ],
                "ref_id": "524"
              }
            ],
            "define_name": "Diagnosed With VTE or DVT During The Index Admission"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"ED Visit Within 35 Days Of The Surgery\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "Global.\"ED Encounter\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "525"
                              },
                              {
                                "children": [
                                  {
                                    "text": " EDVisit"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "526"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "with "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "527"
                              },
                              {
                                "children": [
                                  {
                                    "text": " QP"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "528"
                          },
                          {
                            "children": [
                              {
                                "text": "\n      such that "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "EDVisit"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "529"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "relevantPeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "530"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "530"
                              },
                              {
                                "children": [
                                  {
                                    "text": " "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "ends "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "35 days"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Quantity",
                                    "ref_id": "535"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": " or less after"
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "And",
                                "ref_id": "536"
                              },
                              {
                                "children": [
                                  {
                                    "text": " "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "start of "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "QP"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "531"
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "."
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "QProcedure"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "532"
                                          }
                                        ],
                                        "ref_id": "532"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "."
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "relevantPeriod"
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "Property",
                                        "ref_id": "533"
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "533"
                                  }
                                ],
                                "node_type": "Start",
                                "ref_id": "534"
                              }
                            ],
                            "node_type": "And",
                            "ref_id": "536"
                          }
                        ],
                        "ref_id": "537"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "538"
                  }
                ],
                "ref_id": "539"
              }
            ],
            "define_name": "ED Visit Within 35 Days Of The Surgery"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Diagnosed With VTE or DVT in the ED Within 35 Days Of The Surgery\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "( "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "[\"Diagnosis\": "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "\"Venous Thromboembolism\""
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "]"
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "Retrieve",
                                        "ref_id": "540"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "\n    union "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "[\"Diagnosis\": "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "text": "\"Pulmonary Embolism or DVT\""
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "text": "]"
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "Retrieve",
                                        "ref_id": "541"
                                      }
                                    ],
                                    "node_type": "Union",
                                    "ref_id": "542"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": " )"
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "Union",
                                "ref_id": "542"
                              },
                              {
                                "children": [
                                  {
                                    "text": " VTEDiagnosis"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "543"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "with "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"ED Visit Within 35 Days Of The Surgery\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "544"
                              },
                              {
                                "children": [
                                  {
                                    "text": " EDVisit"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "545"
                          },
                          {
                            "children": [
                              {
                                "text": "\n      such that "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "VTEDiagnosis"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "546"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "prevalencePeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "547"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "547"
                              },
                              {
                                "children": [
                                  {
                                    "text": " starts during "
                                  }
                                ],
                                "node_type": "In",
                                "ref_id": "550"
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "EDVisit"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "548"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "relevantPeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "549"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "549"
                              }
                            ],
                            "node_type": "In",
                            "ref_id": "550"
                          }
                        ],
                        "ref_id": "551"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "552"
                  }
                ],
                "ref_id": "553"
              }
            ],
            "define_name": "Diagnosed With VTE or DVT in the ED Within 35 Days Of The Surgery"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Outpatient Care Visit Within 35 Days Of the Surgery\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "[\"Encounter, Performed\": "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "\"Hospital-based outpatient emergency care center (environment)\""
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "]"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Retrieve",
                                    "ref_id": "554"
                                  }
                                ],
                                "node_type": "Retrieve",
                                "ref_id": "554"
                              },
                              {
                                "children": [
                                  {
                                    "text": " OutpatientVisit"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "555"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "with "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "556"
                              },
                              {
                                "children": [
                                  {
                                    "text": " QP"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "557"
                          },
                          {
                            "children": [
                              {
                                "text": "\n      such that "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "OutpatientVisit"
                                          }
                                        ]
                                      }
                                    ],
                                    "ref_id": "558"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "relevantPeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "559"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "559"
                              },
                              {
                                "children": [
                                  {
                                    "text": " "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "starts "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "35 days"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Quantity",
                                    "ref_id": "563"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": " or less after"
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "And",
                                "ref_id": "564"
                              },
                              {
                                "children": [
                                  {
                                    "text": " "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "QP"
                                              }
                                            ]
                                          }
                                        ],
                                        "ref_id": "560"
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "."
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "QProcedure"
                                              }
                                            ]
                                          }
                                        ],
                                        "ref_id": "561"
                                      }
                                    ],
                                    "ref_id": "561"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "."
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "relevantPeriod"
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "Property",
                                    "ref_id": "562"
                                  }
                                ],
                                "node_type": "Property",
                                "ref_id": "562"
                              }
                            ],
                            "node_type": "And",
                            "ref_id": "564"
                          }
                        ],
                        "ref_id": "565"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "566"
                  }
                ],
                "ref_id": "567"
              }
            ],
            "define_name": "Outpatient Care Visit Within 35 Days Of the Surgery"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Had 2 or More VTE Diagnosis Codes During Outpatient Visit Within 35 Days Of The Surgery\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Outpatient Care Visit Within 35 Days Of the Surgery\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "568"
                              },
                              {
                                "children": [
                                  {
                                    "text": " OV"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "569"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "where "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "Count("
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "("
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "[\"Diagnosis\": "
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "children": [
                                                              {
                                                                "children": [
                                                                  {
                                                                    "text": "\"Venous Thromboembolism\""
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "]"
                                                              }
                                                            ]
                                                          }
                                                        ],
                                                        "node_type": "Retrieve",
                                                        "ref_id": "570"
                                                      },
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "\n        union "
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "children": [
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "[\"Diagnosis\": "
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "children": [
                                                              {
                                                                "children": [
                                                                  {
                                                                    "text": "\"Pulmonary Embolism or DVT\""
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "]"
                                                              }
                                                            ]
                                                          }
                                                        ],
                                                        "node_type": "Retrieve",
                                                        "ref_id": "571"
                                                      }
                                                    ],
                                                    "node_type": "Union",
                                                    "ref_id": "572"
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "text": ")"
                                                      }
                                                    ]
                                                  }
                                                ],
                                                "node_type": "Union",
                                                "ref_id": "572"
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "text": "VTEDiagnosis"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "573"
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "\n        "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "where "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "VTEDiagnosis"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "ref_id": "574"
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "."
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "prevalencePeriod"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "node_type": "Property",
                                                    "ref_id": "575"
                                                  }
                                                ],
                                                "node_type": "Property",
                                                "ref_id": "575"
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "text": " starts during "
                                                  }
                                                ],
                                                "ref_id": "578"
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "OV"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "ref_id": "576"
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "."
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "relevantPeriod"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "node_type": "Property",
                                                    "ref_id": "577"
                                                  }
                                                ],
                                                "node_type": "Property",
                                                "ref_id": "577"
                                              }
                                            ],
                                            "ref_id": "578"
                                          }
                                        ],
                                        "ref_id": "578"
                                      }
                                    ],
                                    "ref_id": "579"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "\n    )"
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "Count",
                                "ref_id": "580"
                              },
                              {
                                "children": [
                                  {
                                    "text": ">= 2"
                                  }
                                ],
                                "node_type": "Literal",
                                "ref_id": "581"
                              }
                            ],
                            "ref_id": "582"
                          }
                        ],
                        "ref_id": "582"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "583"
                  }
                ],
                "ref_id": "584"
              }
            ],
            "define_name": "Had 2 or More VTE Diagnosis Codes During Outpatient Visit Within 35 Days Of The Surgery"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Had Multiple Blood Transfusion Procedures During The Index Admission\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Qualifying Encounters Related To Elective Primary THA and TKA Procedures\""
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "585"
                              },
                              {
                                "children": [
                                  {
                                    "text": " QE"
                                  }
                                ]
                              }
                            ],
                            "ref_id": "586"
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "text": "\n    "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "where "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "Count("
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "[\"Procedure, Performed\": "
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "children": [
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "\"Blood Transfusion Administration\""
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "]"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "node_type": "Retrieve",
                                                    "ref_id": "587"
                                                  }
                                                ],
                                                "node_type": "Retrieve",
                                                "ref_id": "587"
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "text": " BTProcedure"
                                                  }
                                                ]
                                              }
                                            ],
                                            "ref_id": "588"
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "text": "\n        "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "where "
                                              }
                                            ]
                                          },
                                          {
                                            "children": [
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "BTProcedure"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "ref_id": "589"
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "."
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "relevantPeriod"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "node_type": "Property",
                                                    "ref_id": "590"
                                                  }
                                                ],
                                                "node_type": "Property",
                                                "ref_id": "590"
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "text": " starts during "
                                                  }
                                                ],
                                                "ref_id": "594"
                                              },
                                              {
                                                "children": [
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "QE"
                                                              }
                                                            ]
                                                          }
                                                        ],
                                                        "ref_id": "591"
                                                      },
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "."
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "children": [
                                                          {
                                                            "children": [
                                                              {
                                                                "text": "QEncounter"
                                                              }
                                                            ]
                                                          }
                                                        ],
                                                        "ref_id": "592"
                                                      }
                                                    ],
                                                    "ref_id": "592"
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "text": "."
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "children": [
                                                      {
                                                        "children": [
                                                          {
                                                            "text": "relevantPeriod"
                                                          }
                                                        ]
                                                      }
                                                    ],
                                                    "node_type": "Property",
                                                    "ref_id": "593"
                                                  }
                                                ],
                                                "node_type": "Property",
                                                "ref_id": "593"
                                              }
                                            ],
                                            "ref_id": "594"
                                          }
                                        ],
                                        "ref_id": "594"
                                      }
                                    ],
                                    "ref_id": "595"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "\n    )"
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "Count",
                                "ref_id": "596"
                              },
                              {
                                "children": [
                                  {
                                    "text": ">= 1"
                                  }
                                ],
                                "node_type": "Literal",
                                "ref_id": "597"
                              }
                            ],
                            "ref_id": "598"
                          }
                        ],
                        "ref_id": "598"
                      }
                    ],
                    "node_type": "Query",
                    "ref_id": "599"
                  }
                ],
                "ref_id": "600"
              }
            ],
            "define_name": "Had Multiple Blood Transfusion Procedures During The Index Admission"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Bleeding-Specific Denominator Exclusions\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "text": "exists "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "\"Diagnosed With Major Bleeding 30 Days Prior To The Index Admission\""
                              }
                            ]
                          }
                        ],
                        "node_type": "ExpressionRef",
                        "ref_id": "601"
                      }
                    ],
                    "node_type": "Exists",
                    "ref_id": "602"
                  }
                ],
                "ref_id": "603"
              }
            ],
            "define_name": "Bleeding-Specific Denominator Exclusions"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"Bleeding-Specific Numerator\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "exists "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "\"Diagnosed With Major Bleeding During The Index Admission\""
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "ExpressionRef",
                                        "ref_id": "604"
                                      }
                                    ],
                                    "node_type": "Exists",
                                    "ref_id": "605"
                                  },
                                  {
                                    "children": [
                                      {
                                        "text": "\n    or "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "exists "
                                          }
                                        ]
                                      },
                                      {
                                        "children": [
                                          {
                                            "children": [
                                              {
                                                "text": "\"Postoperative Encounter Related To Major Bleeding 35 Days After Surgery\""
                                              }
                                            ]
                                          }
                                        ],
                                        "node_type": "ExpressionRef",
                                        "ref_id": "606"
                                      }
                                    ],
                                    "node_type": "Exists",
                                    "ref_id": "607"
                                  }
                                ],
                                "node_type": "Or",
                                "ref_id": "608"
                              },
                              {
                                "children": [
                                  {
                                    "text": "\n    or "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "exists "
                                      }
                                    ]
                                  },
                                  {
                                    "children": [
                                      {
                                        "children": [
                                          {
                                            "text": "\"Had Treatment of Hemorrhage or Hematoma During The Index Admission\""
                                          }
                                        ]
                                      }
                                    ],
                                    "node_type": "ExpressionRef",
                                    "ref_id": "609"
                                  }
                                ],
                                "node_type": "Exists",
                                "ref_id": "610"
                              }
                            ],
                            "node_type": "Or",
                            "ref_id": "611"
                          },
                          {
                            "children": [
                              {
                                "text": "\n    or "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "text": "exists "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "\"Postoperative Encounter Related To Treatment of Hemorrhage or Hematoma 35 Days After Surgery\""
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "612"
                              }
                            ],
                            "node_type": "Exists",
                            "ref_id": "613"
                          }
                        ],
                        "node_type": "Or",
                        "ref_id": "614"
                      },
                      {
                        "children": [
                          {
                            "text": "\n    or "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "exists "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "text": "\"Had Multiple Blood Transfusion Procedures During The Index Admission\""
                                  }
                                ]
                              }
                            ],
                            "node_type": "ExpressionRef",
                            "ref_id": "615"
                          }
                        ],
                        "node_type": "Exists",
                        "ref_id": "616"
                      }
                    ],
                    "node_type": "Or",
                    "ref_id": "617"
                  }
                ],
                "ref_id": "618"
              }
            ],
            "define_name": "Bleeding-Specific Numerator"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"VTE-Specific Numerator\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "text": "exists "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "\"Diagnosed With VTE or DVT During The Index Admission\""
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "619"
                              }
                            ],
                            "node_type": "Exists",
                            "ref_id": "620"
                          },
                          {
                            "children": [
                              {
                                "text": "\n    or "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "text": "exists "
                                  }
                                ]
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "text": "\"Diagnosed With VTE or DVT in the ED Within 35 Days Of The Surgery\""
                                      }
                                    ]
                                  }
                                ],
                                "node_type": "ExpressionRef",
                                "ref_id": "621"
                              }
                            ],
                            "node_type": "Exists",
                            "ref_id": "622"
                          }
                        ],
                        "node_type": "Or",
                        "ref_id": "623"
                      },
                      {
                        "children": [
                          {
                            "text": "\n    or "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "exists "
                              }
                            ]
                          },
                          {
                            "children": [
                              {
                                "children": [
                                  {
                                    "text": "\"Had 2 or More VTE Diagnosis Codes During Outpatient Visit Within 35 Days Of The Surgery\""
                                  }
                                ]
                              }
                            ],
                            "node_type": "ExpressionRef",
                            "ref_id": "624"
                          }
                        ],
                        "node_type": "Exists",
                        "ref_id": "625"
                      }
                    ],
                    "node_type": "Or",
                    "ref_id": "626"
                  }
                ],
                "ref_id": "627"
              }
            ],
            "define_name": "VTE-Specific Numerator"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "text": "define \"VTE-Specific Denominator Exclusions\":\n  "
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "children": [
                          {
                            "text": "exists "
                          }
                        ]
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "text": "\"Diagnosed With VTE or DVT 30 Days Prior To The Index Admission\""
                              }
                            ]
                          }
                        ],
                        "node_type": "ExpressionRef",
                        "ref_id": "628"
                      }
                    ],
                    "node_type": "Exists",
                    "ref_id": "629"
                  }
                ],
                "ref_id": "630"
              }
            ],
            "define_name": "VTE-Specific Denominator Exclusions"
          }
        ],
        "identifier": {
          "id": "THATKACommon",
          "version": "1.0.000"
        }
      },
      "statement_dependencies": [
        {
          "_id": "60d2433eb7b4da5e252cb557",
          "statement_name": "Initial Population",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb558",
              "library_name": "THATKACommon",
              "statement_name": "Encounter Related To Elective Primary THA and TKA Procedures With Age"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb559",
          "statement_name": "Encounter Related To Elective Primary THA and TKA Procedures With Age",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb55a",
              "library_name": "THATKACommon",
              "statement_name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures"
            },
            {
              "_id": "60d2433eb7b4da5e252cb55b",
              "library_name": "MATGlobalCommonFunctionsNEW",
              "statement_name": "CalendarAgeInYearsAt"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb55c",
          "statement_name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb55d",
              "library_name": "THATKACommon",
              "statement_name": "Patient Encounters"
            },
            {
              "_id": "60d2433eb7b4da5e252cb55e",
              "library_name": "THATKACommon",
              "statement_name": "Primary THA-TKA Procedures"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb55f",
          "statement_name": "Patient Encounters",
          "statement_references": []
        },
        {
          "_id": "60d2433eb7b4da5e252cb560",
          "statement_name": "Primary THA-TKA Procedures",
          "statement_references": []
        },
        {
          "_id": "60d2433eb7b4da5e252cb561",
          "statement_name": "Denominator",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb562",
              "library_name": "THATKACommon",
              "statement_name": "Initial Population"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb563",
          "statement_name": "Common Denominator Exclusions",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb564",
              "library_name": "THATKACommon",
              "statement_name": "Transferred From Another Acute Care Facility or Discharged Against Medical Advice During Index Admission"
            },
            {
              "_id": "60d2433eb7b4da5e252cb565",
              "library_name": "THATKACommon",
              "statement_name": "Had More Than 2 THA_TKA Procedures Codes During The Index Admission"
            },
            {
              "_id": "60d2433eb7b4da5e252cb566",
              "library_name": "THATKACommon",
              "statement_name": "Diagnosed With Renal Insufficiency 365 Days Prior To Procedure"
            },
            {
              "_id": "60d2433eb7b4da5e252cb567",
              "library_name": "THATKACommon",
              "statement_name": "Diagnosed With Atrial Fibrillation 365 Days Prior To Procedure"
            },
            {
              "_id": "60d2433eb7b4da5e252cb568",
              "library_name": "THATKACommon",
              "statement_name": "Diagnosed With Cancer 365 Days Prior To Procedure"
            },
            {
              "_id": "60d2433eb7b4da5e252cb569",
              "library_name": "THATKACommon",
              "statement_name": "Received Anticoagulant Medication Injection Between 10-90 Days Prior To Surgery Date"
            },
            {
              "_id": "60d2433eb7b4da5e252cb56a",
              "library_name": "THATKACommon",
              "statement_name": "Received Oral Anticoagulant Medications Between 10-90 Days Prior To Procedure"
            },
            {
              "_id": "60d2433eb7b4da5e252cb56b",
              "library_name": "THATKACommon",
              "statement_name": "Diagnosed With Coagulation Disorder 365 Days Prior To Procedure"
            },
            {
              "_id": "60d2433eb7b4da5e252cb56c",
              "library_name": "THATKACommon",
              "statement_name": "Diagnosed With Excluded Conditions Within 90 Days Prior To The Index Admission"
            },
            {
              "_id": "60d2433eb7b4da5e252cb56d",
              "library_name": "THATKACommon",
              "statement_name": "Had Additional Surgery Within 35 Days Post-Procedure"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb56e",
          "statement_name": "Transferred From Another Acute Care Facility or Discharged Against Medical Advice During Index Admission",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb56f",
              "library_name": "THATKACommon",
              "statement_name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb570",
          "statement_name": "Had More Than 2 THA_TKA Procedures Codes During The Index Admission",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb571",
              "library_name": "THATKACommon",
              "statement_name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures"
            },
            {
              "_id": "60d2433eb7b4da5e252cb572",
              "library_name": "THATKACommon",
              "statement_name": "Primary THA-TKA Procedures"
            },
            {
              "_id": "60d2433eb7b4da5e252cb573",
              "library_name": "THATKACommon",
              "statement_name": "Non-Primary THA_TKA Procedures"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb574",
          "statement_name": "Non-Primary THA_TKA Procedures",
          "statement_references": []
        },
        {
          "_id": "60d2433eb7b4da5e252cb575",
          "statement_name": "Diagnosed With Renal Insufficiency 365 Days Prior To Procedure",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb576",
              "library_name": "THATKACommon",
              "statement_name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb577",
          "statement_name": "Diagnosed With Atrial Fibrillation 365 Days Prior To Procedure",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb578",
              "library_name": "THATKACommon",
              "statement_name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb579",
          "statement_name": "Diagnosed With Cancer 365 Days Prior To Procedure",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb57a",
              "library_name": "THATKACommon",
              "statement_name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb57b",
          "statement_name": "Received Anticoagulant Medication Injection Between 10-90 Days Prior To Surgery Date",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb57c",
              "library_name": "THATKACommon",
              "statement_name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb57d",
          "statement_name": "Received Oral Anticoagulant Medications Between 10-90 Days Prior To Procedure",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb57e",
              "library_name": "THATKACommon",
              "statement_name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb57f",
          "statement_name": "Diagnosed With Coagulation Disorder 365 Days Prior To Procedure",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb580",
              "library_name": "THATKACommon",
              "statement_name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb581",
          "statement_name": "Diagnosed With Excluded Conditions Within 90 Days Prior To The Index Admission",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb582",
              "library_name": "THATKACommon",
              "statement_name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb583",
          "statement_name": "Had Additional Surgery Within 35 Days Post-Procedure",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb584",
              "library_name": "THATKACommon",
              "statement_name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb585",
          "statement_name": "Bleeding-Specific Numerator",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb586",
              "library_name": "THATKACommon",
              "statement_name": "Diagnosed With Major Bleeding During The Index Admission"
            },
            {
              "_id": "60d2433eb7b4da5e252cb587",
              "library_name": "THATKACommon",
              "statement_name": "Postoperative Encounter Related To Major Bleeding 35 Days After Surgery"
            },
            {
              "_id": "60d2433eb7b4da5e252cb588",
              "library_name": "THATKACommon",
              "statement_name": "Had Treatment of Hemorrhage or Hematoma During The Index Admission"
            },
            {
              "_id": "60d2433eb7b4da5e252cb589",
              "library_name": "THATKACommon",
              "statement_name": "Postoperative Encounter Related To Treatment of Hemorrhage or Hematoma 35 Days After Surgery"
            },
            {
              "_id": "60d2433eb7b4da5e252cb58a",
              "library_name": "THATKACommon",
              "statement_name": "Had Multiple Blood Transfusion Procedures During The Index Admission"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb58b",
          "statement_name": "Diagnosed With Major Bleeding During The Index Admission",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb58c",
              "library_name": "THATKACommon",
              "statement_name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb58d",
          "statement_name": "Postoperative Encounter Related To Major Bleeding 35 Days After Surgery",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb58e",
              "library_name": "THATKACommon",
              "statement_name": "Postoperative Encounter Related To Major Bleeding"
            },
            {
              "_id": "60d2433eb7b4da5e252cb58f",
              "library_name": "THATKACommon",
              "statement_name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb590",
          "statement_name": "Postoperative Encounter Related To Major Bleeding",
          "statement_references": []
        },
        {
          "_id": "60d2433eb7b4da5e252cb591",
          "statement_name": "Had Treatment of Hemorrhage or Hematoma During The Index Admission",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb592",
              "library_name": "THATKACommon",
              "statement_name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb593",
          "statement_name": "Postoperative Encounter Related To Treatment of Hemorrhage or Hematoma 35 Days After Surgery",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb594",
              "library_name": "THATKACommon",
              "statement_name": "Postoperative Encounter Related To Treatment of Hemorrhage or Hematoma"
            },
            {
              "_id": "60d2433eb7b4da5e252cb595",
              "library_name": "THATKACommon",
              "statement_name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb596",
          "statement_name": "Postoperative Encounter Related To Treatment of Hemorrhage or Hematoma",
          "statement_references": []
        },
        {
          "_id": "60d2433eb7b4da5e252cb597",
          "statement_name": "Had Multiple Blood Transfusion Procedures During The Index Admission",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb598",
              "library_name": "THATKACommon",
              "statement_name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb599",
          "statement_name": "VTE-Specific Numerator",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb59a",
              "library_name": "THATKACommon",
              "statement_name": "Diagnosed With VTE or DVT During The Index Admission"
            },
            {
              "_id": "60d2433eb7b4da5e252cb59b",
              "library_name": "THATKACommon",
              "statement_name": "Diagnosed With VTE or DVT in the ED Within 35 Days Of The Surgery"
            },
            {
              "_id": "60d2433eb7b4da5e252cb59c",
              "library_name": "THATKACommon",
              "statement_name": "Had 2 or More VTE Diagnosis Codes During Outpatient Visit Within 35 Days Of The Surgery"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb59d",
          "statement_name": "Diagnosed With VTE or DVT During The Index Admission",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb59e",
              "library_name": "THATKACommon",
              "statement_name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb59f",
          "statement_name": "Diagnosed With VTE or DVT in the ED Within 35 Days Of The Surgery",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb5a0",
              "library_name": "THATKACommon",
              "statement_name": "ED Visit Within 35 Days Of The Surgery"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb5a1",
          "statement_name": "ED Visit Within 35 Days Of The Surgery",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb5a2",
              "library_name": "MATGlobalCommonFunctionsNEW",
              "statement_name": "ED Encounter"
            },
            {
              "_id": "60d2433eb7b4da5e252cb5a3",
              "library_name": "THATKACommon",
              "statement_name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb5a4",
          "statement_name": "Had 2 or More VTE Diagnosis Codes During Outpatient Visit Within 35 Days Of The Surgery",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb5a5",
              "library_name": "THATKACommon",
              "statement_name": "Outpatient Care Visit Within 35 Days Of the Surgery"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb5a6",
          "statement_name": "Outpatient Care Visit Within 35 Days Of the Surgery",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb5a7",
              "library_name": "THATKACommon",
              "statement_name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb5a8",
          "statement_name": "VTE-Specific Denominator Exclusions",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb5a9",
              "library_name": "THATKACommon",
              "statement_name": "Diagnosed With VTE or DVT 30 Days Prior To The Index Admission"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb5aa",
          "statement_name": "Diagnosed With VTE or DVT 30 Days Prior To The Index Admission",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb5ab",
              "library_name": "THATKACommon",
              "statement_name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb5ac",
          "statement_name": "Bleeding-Specific Denominator Exclusions",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb5ad",
              "library_name": "THATKACommon",
              "statement_name": "Diagnosed With Major Bleeding 30 Days Prior To The Index Admission"
            }
          ]
        },
        {
          "_id": "60d2433eb7b4da5e252cb5ae",
          "statement_name": "Diagnosed With Major Bleeding 30 Days Prior To The Index Admission",
          "statement_references": [
            {
              "_id": "60d2433eb7b4da5e252cb5af",
              "library_name": "THATKACommon",
              "statement_name": "Qualifying Encounters Related To Elective Primary THA and TKA Procedures"
            }
          ]
        }
      ]
    }
  ],
  "population_sets": [
    {
      "_id": "60d2433eb7b4da5e252cb5cb",
      "title": "Population Criteria Section",
      "population_set_id": "PopulationSet_1",
      "populations": {
        "_id": "60d2433eb7b4da5e252cb5cc",
        "_type": "CQM::RatioPopulationMap",
        "IPP": {
          "_id": "60d2433eb7b4da5e252cb5cd",
          "library_name": "CombinedVTEandBleedingRatio",
          "statement_name": "Initial Population",
          "hqmf_id": "BE14DD92-D432-4A78-BFA2-E69936FFA2D9"
        },
        "DENOM": {
          "_id": "60d2433eb7b4da5e252cb5ce",
          "library_name": "CombinedVTEandBleedingRatio",
          "statement_name": "Denominator",
          "hqmf_id": "0B406C0E-91A5-43F0-8D40-4C4D6E860887"
        },
        "DENEX": {
          "_id": "60d2433eb7b4da5e252cb5cf",
          "library_name": "CombinedVTEandBleedingRatio",
          "statement_name": "Denominator Exclusion",
          "hqmf_id": "B8A8ED35-BC32-4274-A44D-503178D0C4D0"
        },
        "NUMER": {
          "_id": "60d2433eb7b4da5e252cb5d0",
          "library_name": "CombinedVTEandBleedingRatio",
          "statement_name": "Numerator",
          "hqmf_id": "BE789040-3DCB-46AF-B0EA-37FF07ECC3CB"
        }
      },
      "supplemental_data_elements": [
        {
          "_id": "60d2433eb7b4da5e252cb5d1",
          "library_name": "CombinedVTEandBleedingRatio",
          "statement_name": "SDE Ethnicity",
          "hqmf_id": "40D32594-D033-4653-95D4-7553F63B57B9"
        },
        {
          "_id": "60d2433eb7b4da5e252cb5d2",
          "library_name": "CombinedVTEandBleedingRatio",
          "statement_name": "SDE Payer",
          "hqmf_id": "85DC7942-DA7A-495C-BBF8-74261A691A3A"
        },
        {
          "_id": "60d2433eb7b4da5e252cb5d3",
          "library_name": "CombinedVTEandBleedingRatio",
          "statement_name": "SDE Race",
          "hqmf_id": "A2969BBC-A5A8-4EF7-A860-FA6F4C299379"
        },
        {
          "_id": "60d2433eb7b4da5e252cb5d4",
          "library_name": "CombinedVTEandBleedingRatio",
          "statement_name": "SDE Sex",
          "hqmf_id": "CEF8998C-9AA0-4670-9E93-C6F26A662C55"
        }
      ],
      "observations": [
        {
          "_id": "60d2433eb7b4da5e252cb5d5",
          "hqmf_id": "81A3195D-035F-4B43-A2BC-6CC8DA5AA4BD",
          "aggregation_type": "SUM",
          "observation_function": {
            "_id": "60d2433eb7b4da5e252cb5d6",
            "library_name": "CombinedVTEandBleedingRatio",
            "statement_name": "Measure Denominator Score",
            "hqmf_id": "81A3195D-035F-4B43-A2BC-6CC8DA5AA4BD"
          },
          "observation_parameter": {
            "_id": "60d2433eb7b4da5e252cb5d7",
            "library_name": "CombinedVTEandBleedingRatio",
            "statement_name": "Denominator",
            "hqmf_id": "81A3195D-035F-4B43-A2BC-6CC8DA5AA4BD"
          }
        },
        {
          "_id": "60d2433eb7b4da5e252cb5d8",
          "hqmf_id": "81F3AE38-EAB3-4B9C-A66F-6F5AED2B9829",
          "aggregation_type": "SUM",
          "observation_function": {
            "_id": "60d2433eb7b4da5e252cb5d9",
            "library_name": "CombinedVTEandBleedingRatio",
            "statement_name": "Measure Numerator Score",
            "hqmf_id": "81F3AE38-EAB3-4B9C-A66F-6F5AED2B9829"
          },
          "observation_parameter": {
            "_id": "60d2433eb7b4da5e252cb5da",
            "library_name": "CombinedVTEandBleedingRatio",
            "statement_name": "Numerator",
            "hqmf_id": "81F3AE38-EAB3-4B9C-A66F-6F5AED2B9829"
          }
        }
      ],
      "stratifications": []
    }
  ]
}